{"author":"Gk0Wk","dependents":"","description":"Use the cursor to resize the width of the sidebar.","list":"readme LICENSE","name":"Sidebar Resizer","plugin-type":"plugin","source":"https://github.com/Gk0Wk/TiddlySeq/tree/master/plugins/Gk0Wk/sidebar-resizer","text":"{\"tiddlers\":{\"$:/plugins/Gk0Wk/sidebar-resizer/LICENSE\":{\"title\":\"$:/plugins/Gk0Wk/sidebar-resizer/LICENSE\",\"text\":\"MIT License\\n\\nCopyright (c) 2021 Ke Wang (Gk0Wk in GitHub)\\n\\nPermission is hereby granted, free of charge, to any person obtaining a copy\\nof this software and associated documentation files (the \\\"Software\\\"), to deal\\nin the Software without restriction, including without limitation the rights\\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\\ncopies of the Software, and to permit persons to whom the Software is\\nfurnished to do so, subject to the following conditions:\\n\\nThe above copyright notice and this permission notice shall be included in all\\ncopies or substantial portions of the Software.\\n\\nTHE SOFTWARE IS PROVIDED \\\"AS IS\\\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\\nSOFTWARE.\\n\",\"type\":\"text/plain\"},\"$:/plugins/Gk0Wk/sidebar-resizer/readme\":{\"title\":\"$:/plugins/Gk0Wk/sidebar-resizer/readme\",\"text\":\"\\\\define lingo-base() $:/language/ThemeTweaks/\\n\\n<$list filter=\\\"[[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]]\\\" variable=\\\"lang\\\">\\n<$list filter=\\\"[<lang>search[zh]]\\\">\\n\\n会在侧边栏的左侧边缘添加一个可拖动的边框，当鼠标移动到左侧边缘时会看到这个边框。拖动这个边框可以改变侧边栏的宽度，拖动到靠近窗口右侧边缘时就会自动收起侧边栏。\\n\\n原理是更改[[$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth]]的值。\\n\\n注意：首先请将 <$link to=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\"><<lingo Options/SidebarLayout>></$link> 调整为`fluid-fixed`，本插件才可生效。\\n\\n<$button set=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" setTo=\\\"fluid-fixed\\\">点击设置<<lingo Options/SidebarLayout>></$button>\\n\\n> 本插件使用灵活而强大的 <$text text=\\\"TiddlyWiki\\\" /> 开发框架 [[Tiddly.ModernDev|https://github.com/tiddly-gittly/Modern.TiddlyDev]]\\n\\n</$list>\\n\\n<$list filter=\\\"[<lang>!search[zh]]\\\">\\n\\nA draggable border is added to the left edge of the sidebar, which will be visible when the mouse is moved to the left edge. Dragging this border will change the width of the sidebar, and it will automatically close the sidebar when dragged near the right edge of the window.\\n\\nThe principle is to change the value of [[$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth]].\\n\\nNote: First, please adjust <$link to=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\"><<lingo Options/SidebarLayout>></$link> to `fluid-fixed` for this plugin to take effect.\\n\\n<$button set=\\\"$:/themes/tiddlywiki/vanilla/options/sidebarlayout\\\" setTo=\\\"fluid-fixed\\\">Click to adjust<<lingo Options/SidebarLayout>></$button>\\n\\n> This plugin uses the flexible and powerful <$text text=\\\"TiddlyWiki\\\" /> development framework [[Tiddly.ModernDev|https://github.com/tiddly-gittly/Modern.TiddlyDev]]\\n\\n</$list>\\n</$list>\\n\"},\"$:/plugins/Gk0Wk/sidebar-resizer/resizer\":{\"title\":\"$:/plugins/Gk0Wk/sidebar-resizer/resizer\",\"tags\":\"$:/tags/SideBarSegment\",\"text\":\"<div id=\\\"gk0wk-sidebar-resize-area\\\"></div>\\n\"},\"$:/plugins/Gk0Wk/sidebar-resizer/style.css\":{\"title\":\"$:/plugins/Gk0Wk/sidebar-resizer/style.css\",\"text\":\"<$reveal state=\\\"$:/state/sidebar\\\" type=\\\"match\\\" text=\\\"no\\\">\\n.tc-sidebar-scrollable {\\n\\tdisplay: none;\\n}\\n</$reveal>\\n\\ndiv#gk0wk-sidebar-resize-area {\\n\\theight: 100vh;\\n\\twidth: 10px;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: -5px;\\n\\tcursor: ew-resize;\\n\\ttransition: all {{$:/config/AnimationDuration}}ms;\\n}\\n\\ndiv#gk0wk-sidebar-resize-area:hover {\\n\\tbackground: <<colour primary>>;\\n}\\n\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/Gk0Wk/sidebar-resizer/hook.js\":{\"title\":\"$:/plugins/Gk0Wk/sidebar-resizer/hook.js\",\"module-type\":\"startup\",\"type\":\"application/javascript\",\"Modern.TiddlyDev#Origin\":\"hook.ts\",\"text\":\"\\\"use strict\\\";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var o in t)__defProp(e,o,{get:t[o],enumerable:!0})},__copyProps=(t,o,r,n)=>{if(o&&\\\"object\\\"==typeof o||\\\"function\\\"==typeof o)for(let e of __getOwnPropNames(o))__hasOwnProp.call(t,e)||e===r||__defProp(t,e,{get:()=>o[e],enumerable:!(n=__getOwnPropDesc(o,e))||n.enumerable});return t},__toCommonJS=e=>__copyProps(__defProp({},\\\"__esModule\\\",{value:!0}),e),hook_exports={},name=(__export(hook_exports,{after:()=>after,name:()=>name,platforms:()=>platforms,startup:()=>startup,synchronous:()=>synchronous}),module.exports=__toCommonJS(hook_exports),\\\"gk0wk-sidebar-resizer\\\"),platforms=[\\\"browser\\\"],after=[\\\"render\\\"],synchronous=!0,startup=()=>{let r=!1,t=null;const n=document[\\\"body\\\"],i=e=>{r=!0,e instanceof PointerEvent&&n.setPointerCapture(e.pointerId),n.style.userSelect=\\\"none\\\",n.style.MozUserSelect=\\\"none\\\"},s=e=>{r&&(r=!1,e instanceof PointerEvent&&n.releasePointerCapture(e.pointerId),n.style.userSelect=\\\"auto\\\",n.style.MozUserSelect=\\\"auto\\\")};$tw.hooks.addHook(\\\"th-page-refreshed\\\",()=>{var e;function o(e){$tw.wiki.setText(\\\"$:/state/sidebar\\\",void 0,void 0,\\\"no\\\"),s(e)}null!=t&&t.ownerDocument.contains(t)||(t=document.querySelector(\\\"#gk0wk-sidebar-resize-area\\\"))&&(r=!1,e=(t=window.event)=>{if(r&&t)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t.returnValue=!1,requestAnimationFrame(()=>{var e=100-t.clientX/window.innerWidth*100;if(80<e)return!1;window.innerWidth-t.clientX<100?($tw.wiki.setText(\\\"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth\\\",void 0,void 0,3e4/window.innerWidth+\\\"vw\\\"),o(t)):$tw.wiki.setText(\\\"$:/themes/tiddlywiki/vanilla/metrics/sidebarwidth\\\",void 0,void 0,e+\\\"vw\\\")}),!1},t.addEventListener(\\\"dblclick\\\",o),window.PointerEvent?(t.addEventListener(\\\"pointerdown\\\",i),n.addEventListener(\\\"pointerup\\\",s),n.addEventListener(\\\"blur\\\",s),n.addEventListener(\\\"pointermove\\\",e,!0)):(t.addEventListener(\\\"mousedown\\\",i),n.addEventListener(\\\"mouseup\\\",s),n.addEventListener(\\\"blur\\\",s),n.addEventListener(\\\"mousemove\\\",e,!0),t.addEventListener(\\\"touchstart\\\",i),n.addEventListener(\\\"touchcancel\\\",s),n.addEventListener(\\\"touchend\\\",s),n.addEventListener(\\\"touchmove\\\",e,!0)))})};\"}}}","title":"$:/plugins/Gk0Wk/sidebar-resizer","type":"application/json","version":"0.0.6","Modern.TiddlyDev#SHA256-Hashed":"77a70a968ab8b7a7195afff15fecd901f16d4505df0c6082594b45d813e72c78"}