{"author":"Gk0Wk","dependents":"","description":"powerful layout view for TiddlyWiki","list":"readme LICENSE","name":"layouts","plugin-type":"plugin","text":"{\"tiddlers\":{\"$:/plugins/Gk0Wk/layouts/defaultConfig.json\":{\"text\":\"{\\n    \\\"root\\\": {\\n      \\\"type\\\": \\\"stack\\\",\\n      \\\"content\\\": [\\n        {\\n          \\\"type\\\": \\\"component\\\",\\n          \\\"size\\\": \\\"1fr\\\",\\n          \\\"id\\\": \\\"\\\",\\n          \\\"maximised\\\": false,\\n          \\\"isClosable\\\": true,\\n          \\\"reorderEnabled\\\": true,\\n          \\\"title\\\": \\\"Guide\\\",\\n          \\\"componentType\\\": \\\"tiddler\\\",\\n          \\\"componentState\\\": {\\n            \\\"title\\\": \\\"$:/plugins/Gk0Wk/layout/readme\\\",\\n            \\\"className\\\": \\\"gk0wk-gl-tiddler-container\\\"\\n          }\\n        }\\n      ],\\n      \\\"size\\\": \\\"1fr\\\",\\n      \\\"id\\\": \\\"\\\",\\n      \\\"maximised\\\": false,\\n      \\\"isClosable\\\": true,\\n      \\\"activeItemIndex\\\": 0\\n    },\\n    \\\"openPopouts\\\": [],\\n    \\\"settings\\\": {\\n      \\\"constrainDragToContainer\\\": false,\\n      \\\"reorderEnabled\\\": true,\\n      \\\"popoutWholeStack\\\": false,\\n      \\\"blockedPopoutsThrowError\\\": true,\\n      \\\"closePopoutsOnUnload\\\": true,\\n      \\\"responsiveMode\\\": \\\"none\\\",\\n      \\\"tabOverlapAllowance\\\": 0,\\n      \\\"reorderOnTabMenuClick\\\": true,\\n      \\\"tabControlOffset\\\": 10,\\n      \\\"popInOnClose\\\": true\\n    },\\n    \\\"dimensions\\\": {\\n      \\\"borderWidth\\\": 3,\\n      \\\"borderGrabWidth\\\": 3,\\n      \\\"defaultMinItemHeight\\\": \\\"0px\\\",\\n      \\\"defaultMinItemWidth\\\": \\\"10px\\\",\\n      \\\"headerHeight\\\": 20,\\n      \\\"dragProxyWidth\\\": 300,\\n      \\\"dragProxyHeight\\\": 200\\n    },\\n    \\\"header\\\": {\\n      \\\"show\\\": \\\"top\\\",\\n      \\\"popout\\\": \\\"open in new window\\\",\\n      \\\"dock\\\": \\\"dock\\\",\\n      \\\"close\\\": \\\"close\\\",\\n      \\\"maximise\\\": \\\"maximise\\\",\\n      \\\"minimise\\\": \\\"minimise\\\",\\n      \\\"tabDropdown\\\": \\\"additional tabs\\\"\\n    }\\n  }\\n\",\"type\":\"application/json\",\"title\":\"$:/plugins/Gk0Wk/layouts/defaultConfig.json\"},\"$:/plugins/Gk0Wk/layouts/modals/add-tiddler\":{\"title\":\"$:/plugins/Gk0Wk/layouts/modals/add-tiddler\",\"type\":\"text/vnd.tiddlywiki\",\"code-body\":\"yes\",\"subtitle\":\"<$text text={{{ [[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]search[zh]then[添加条目]else[Add Tiddler]] }}} />\",\"text\":\"<$let\\n  chinese={{{ [[$:/language]get[text]removeprefix[$:/languages/]else[en-GB]search[zh]then[yes]else[no]] }}}\\n  stateTiddler=\\\"$:/temp/Gk0Wk/layout/new-tiddler-info\\\"\\n>\\n<div class=\\\"tc-control-panel\\\">\\n\\n<$list filter=\\\"[<chinese>match[yes]]\\\" variable=\\\"t\\\">\\n\\n| !条目 | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:title\\\" /> |\\n| !标题 | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:caption\\\" placeholder=\\\"不写则自动识别\\\" /> |\\n| !类名 | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:className\\\" /> |\\n| !字段 | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:field\\\" /> |\\n| !模板 | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:template\\\" /> |\\n\\n</$list>\\n\\n<$list filter=\\\"[<chinese>!match[yes]]\\\" variable=\\\"t\\\">\\n\\n| !Tiddler | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:title\\\" /> |\\n| !Caption | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:caption\\\" placeholder=\\\"Auto detect if empty\\\" /> |\\n| !Class Name | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:className\\\" /> |\\n| !Field | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:field\\\" /> |\\n| !Template | <$edit-text tag=\\\"input\\\" tiddler=<<stateTiddler>> field=\\\"layout:template\\\" /> |\\n\\n</$list>\\n\\n</div>\\n\\n<$button class=\\\"tc-btn-big-green tc-primary-btn\\\" message=\\\"tm-close-tiddler\\\">\\n<$action-sendmessage $message=\\\"gk0wk-layout-add-tiddler\\\" />\\n{{$:/core/images/new-button}}\\n&#32;\\n<$text text={{{ [<chinese>match[yes]then[添加条目]else[ADd Tiddler]] }}} />\\n</$button>\\n\\n</$let>\\n\"},\"$:/plugins/Gk0Wk/layouts/readme\":{\"title\":\"$:/plugins/Gk0Wk/layouts/readme\",\"type\":\"text/vnd.tiddlywiki\",\"caption\":\"layouts-readme\"},\"$:/plugins/Gk0Wk/layouts/style.css\":{\"title\":\"$:/plugins/Gk0Wk/layouts/style.css\",\"text\":\".lm_dragProxy {\\n  z-index: 10000 !important;\\n}\\n\\n.lm_dropTargetIndicator {\\n  z-index: 9999 !important;\\n}\\n\\n.gk0wk-gl-tiddler-container {\\n  padding: 20px;\\n}\\n\\n<$list filter=\\\"[{$:/palette}get[color-scheme]else[light]match[light]]\\\">\\n.lm_header .lm_tab .lm_close_tab,\\n.lm_controls .lm_popout,\\n.lm_controls .lm_maximise,\\n.lm_controls .lm_close,\\n.lm_popin .lm_icon {\\n  filter: invert(1);\\n}\\n</$list>\\n\\n.lm_header .lm_tab .lm_close_tab {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);\\n}\\n.lm_controls .lm_popout {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=);\\n}\\n.lm_controls .lm_maximise {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==);\\n}\\n.lm_controls .lm_close {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=);\\n}\\n.lm_controls .lm_add {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVQYlWP8//8/Axr4z8DAwIgswISuAhugniIWqBvQwX90RYxYFAykwwH7RwcSeVsWNwAAAABJRU5ErkJggg==);\\n}\\n.lm_popin .lm_icon {\\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);\\n}\\n\\n.lm_goldenlayout {\\n  background: <<colour tiddler-info-background>>;\\n}\\n.lm_content {\\n  background: <<colour page-background>>;\\n}\\n.lm_dragProxy .lm_content {\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\\n}\\n.lm_dropTargetIndicator {\\n  box-shadow: inset 0 0 30px <<colour highlight-foreground>>;\\n  outline: 1px dashed <<colour selection-foreground>>;\\n}\\n.lm_dropTargetIndicator .lm_inner {\\n  background: <<colour selection-background>>;\\n  opacity: 0.2;\\n}\\n.lm_splitter {\\n  background: <<color primary>>;\\n  opacity: 0.001;\\n  transition: opacity 200ms ease;\\n}\\n.lm_splitter:hover,\\n.lm_splitter.lm_dragging {\\n  background: <<colour primary>>;\\n  opacity: 0.9;\\n}\\n.lm_header {\\n  height: 20px;\\n}\\n.lm_header .lm_tabs {\\n  height: 100%;\\n}\\n.lm_header .lm_tab {\\n  font-family: Arial, sans-serif;\\n  font-size: 12px;\\n  color: <<colour tab-foreground>>;\\n  background: <<colour tab-background>>;\\n  box-shadow: inset 0 0 3px <<colour table-header-background>>;\\n  margin-right: 2px;\\n  padding-bottom: 2px;\\n  padding-top: 2px;\\n}\\n.lm_header .lm_tab .lm_close_tab {\\n  width: 11px;\\n  height: 11px;\\n  background-position: center center;\\n  background-repeat: no-repeat;\\n  top: 4px;\\n  right: 6px;\\n  opacity: 0.4;\\n}\\n.lm_header .lm_tab .lm_close_tab:hover {\\n  opacity: 1;\\n}\\n.lm_header .lm_tab.lm_active {\\n  border-bottom: none;\\n}\\n.lm_header .lm_tab.lm_active .lm_close_tab {\\n  opacity: 1;\\n}\\n.lm_header .lm_tab.lm_active.lm_focused {\\n  background-color: <<colour primary>>;\\n  color: <<color selection-foreground>>\\n}\\n.lm_dragProxy.lm_right .lm_header .lm_tab.lm_active,\\n.lm_stack.lm_right .lm_header .lm_tab.lm_active {\\n  box-shadow: 2px -2px 2px #000000;\\n}\\n.lm_dragProxy.lm_bottom .lm_header .lm_tab,\\n.lm_stack.lm_bottom .lm_header .lm_tab {\\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.3);\\n}\\n.lm_dragProxy.lm_bottom .lm_header .lm_tab.lm_active,\\n.lm_stack.lm_bottom .lm_header .lm_tab.lm_active {\\n  box-shadow: 0 2px 2px #000000;\\n}\\n.lm_selected .lm_header {\\n  background-color: #452500;\\n}\\n.lm_tab:hover,\\n.lm_tab.lm_active {\\n  background: <<colour tab-background-selected>>;\\n  color: <<colour tab-foreground-selected>>;\\n}\\n.lm_header .lm_controls .lm_tabdropdown:before {\\n  color: <<colour foreground>>;\\n}\\n.lm_controls > * {\\n  position: relative;\\n  background-position: center center;\\n  background-repeat: no-repeat;\\n  opacity: 0.4;\\n  transition: opacity 300ms ease;\\n}\\n.lm_controls > *:hover {\\n  opacity: 1;\\n}\\n.lm_maximised .lm_header {\\n  background-color: #000000;\\n}\\n.lm_transition_indicator {\\n  background-color: #000000;\\n  border: 1px dashed #555555;\\n}\\n.lm_popin {\\n  cursor: pointer;\\n}\\n.lm_popin .lm_bg {\\n  background: #ffffff;\\n  opacity: 0.3;\\n}\\n.lm_popin .lm_icon {\\n  background-position: center center;\\n  background-repeat: no-repeat;\\n  border-left: 1px solid #eeeeee;\\n  border-top: 1px solid #eeeeee;\\n  opacity: 0.7;\\n}\\n.lm_popin:hover .lm_icon {\\n  opacity: 1;\\n}\\n\\n.lm_root {\\n  position: relative;\\n}\\n.lm_row > .lm_item {\\n  float: left;\\n}\\n.lm_content {\\n  overflow: auto;\\n  position: relative;\\n}\\n.lm_dragging,\\n.lm_dragging * {\\n  cursor: move !important;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n.lm_maximised {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 40;\\n}\\n.lm_maximise_placeholder {\\n  display: none;\\n}\\n.lm_splitter {\\n  position: relative;\\n  z-index: 2;\\n  touch-action: none;\\n}\\n.lm_splitter.lm_vertical .lm_drag_handle {\\n  width: 100%;\\n  position: absolute;\\n  cursor: ns-resize;\\n  touch-action: none;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n.lm_splitter.lm_horizontal {\\n  float: left;\\n  height: 100%;\\n}\\n.lm_splitter.lm_horizontal .lm_drag_handle {\\n  height: 100%;\\n  position: absolute;\\n  cursor: ew-resize;\\n  touch-action: none;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n.lm_header {\\n  overflow: visible;\\n  position: relative;\\n  z-index: 1;\\n  -webkit-user-select: none;\\n          user-select: none;\\n}\\n.lm_header [class^=lm_] {\\n  box-sizing: content-box !important;\\n}\\n.lm_header .lm_controls {\\n  position: absolute;\\n  right: 3px;\\n  display: flex;\\n  align-items: center;\\n}\\n.lm_header .lm_controls > * {\\n  cursor: pointer;\\n  float: left;\\n  width: 18px;\\n  height: 18px;\\n  text-align: center;\\n}\\n.lm_header .lm_tabs {\\n  position: absolute;\\n  display: flex;\\n}\\n.lm_header .lm_tab {\\n  cursor: pointer;\\n  float: left;\\n  height: 100%;\\n  position: relative;\\n  touch-action: none;\\n  padding: 0px 2px 0px 6px;\\n  display: flex;\\n  align-items: center;\\n}\\n.lm_header .lm_tab i {\\n  width: 2px;\\n  height: 19px;\\n  position: absolute;\\n}\\n.lm_header .lm_tab i.lm_left {\\n  top: 0;\\n  left: -2px;\\n}\\n.lm_header .lm_tab i.lm_right {\\n  top: 0;\\n  right: -2px;\\n}\\n.lm_header .lm_tab .lm_title {\\n  display: inline-block;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  flex-grow: 0;\\n  padding-right: 4px;\\n  line-height: 12px;\\n}\\n.lm_header .lm_tab .lm_close_tab {\\n  width: 14px;\\n  height: 14px;\\n  text-align: center;\\n}\\n.lm_stack {\\n  position: relative;\\n}\\n.lm_stack > .lm_items {\\n  overflow: hidden;\\n}\\n.lm_stack.lm_left > .lm_items {\\n  position: absolute;\\n  left: 20px;\\n  top: 0;\\n}\\n.lm_stack.lm_right > .lm_items {\\n  position: absolute;\\n  right: 20px;\\n  top: 0;\\n}\\n.lm_stack.lm_right > .lm_header {\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n.lm_stack.lm_bottom > .lm_items {\\n  position: absolute;\\n  bottom: 20px;\\n}\\n.lm_stack.lm_bottom > .lm_header {\\n  position: absolute;\\n  bottom: 0;\\n}\\n.lm_left.lm_stack .lm_header,\\n.lm_right.lm_stack .lm_header {\\n  height: 100%;\\n}\\n.lm_left.lm_dragProxy .lm_header,\\n.lm_right.lm_dragProxy .lm_header,\\n.lm_left.lm_dragProxy .lm_items,\\n.lm_right.lm_dragProxy .lm_items {\\n  float: left;\\n}\\n.lm_left.lm_dragProxy .lm_header,\\n.lm_right.lm_dragProxy .lm_header,\\n.lm_left.lm_stack .lm_header,\\n.lm_right.lm_stack .lm_header {\\n  width: 20px;\\n  vertical-align: top;\\n}\\n.lm_left.lm_dragProxy .lm_header .lm_tabs,\\n.lm_right.lm_dragProxy .lm_header .lm_tabs,\\n.lm_left.lm_stack .lm_header .lm_tabs,\\n.lm_right.lm_stack .lm_header .lm_tabs {\\n  transform-origin: left top;\\n  top: 0;\\n  width: 1000px;\\n  /*hack*/\\n}\\n.lm_left.lm_dragProxy .lm_header .lm_controls,\\n.lm_right.lm_dragProxy .lm_header .lm_controls,\\n.lm_left.lm_stack .lm_header .lm_controls,\\n.lm_right.lm_stack .lm_header .lm_controls {\\n  bottom: 0;\\n  flex-flow: column;\\n}\\n.lm_dragProxy.lm_left .lm_header .lm_tabs,\\n.lm_stack.lm_left .lm_header .lm_tabs {\\n  transform: rotate(-90deg) scaleX(-1);\\n  left: 0;\\n}\\n.lm_dragProxy.lm_left .lm_header .lm_tabs .lm_tab,\\n.lm_stack.lm_left .lm_header .lm_tabs .lm_tab {\\n  transform: scaleX(-1);\\n  margin-top: 1px;\\n}\\n.lm_dragProxy.lm_left .lm_header .lm_tabdropdown_list,\\n.lm_stack.lm_left .lm_header .lm_tabdropdown_list {\\n  top: initial;\\n  right: initial;\\n  left: 20px;\\n}\\n.lm_dragProxy.lm_right .lm_content {\\n  float: left;\\n}\\n.lm_dragProxy.lm_right .lm_header .lm_tabs,\\n.lm_stack.lm_right .lm_header .lm_tabs {\\n  transform: rotate(90deg) scaleX(1);\\n  left: 100%;\\n  margin-left: 0;\\n}\\n.lm_dragProxy.lm_right .lm_header .lm_controls,\\n.lm_stack.lm_right .lm_header .lm_controls {\\n  left: 3px;\\n}\\n.lm_dragProxy.lm_right .lm_header .lm_tabdropdown_list,\\n.lm_stack.lm_right .lm_header .lm_tabdropdown_list {\\n  top: initial;\\n  right: 20px;\\n}\\n.lm_dragProxy.lm_bottom .lm_header,\\n.lm_stack.lm_bottom .lm_header {\\n  width: 100%;\\n}\\n.lm_dragProxy.lm_bottom .lm_header .lm_tab,\\n.lm_stack.lm_bottom .lm_header .lm_tab {\\n  margin-top: 0;\\n  border-top: none;\\n}\\n.lm_dragProxy.lm_bottom .lm_header .lm_controls,\\n.lm_stack.lm_bottom .lm_header .lm_controls {\\n  top: 3px;\\n}\\n.lm_dragProxy.lm_bottom .lm_header .lm_tabdropdown_list,\\n.lm_stack.lm_bottom .lm_header .lm_tabdropdown_list {\\n  top: initial;\\n  bottom: 20px;\\n}\\n.lm_drop_tab_placeholder {\\n  float: left;\\n  width: 100px;\\n  visibility: hidden;\\n}\\n.lm_header .lm_controls .lm_tabdropdown:before {\\n  content: '';\\n  width: 0;\\n  height: 0;\\n  vertical-align: middle;\\n  display: inline-block;\\n  border-top: 5px dashed;\\n  border-right: 5px solid transparent;\\n  border-left: 5px solid transparent;\\n  color: white;\\n}\\n.lm_header .lm_tabdropdown_list {\\n  position: absolute;\\n  top: 20px;\\n  right: 0;\\n  z-index: 5;\\n  overflow: hidden;\\n}\\n.lm_header .lm_tabdropdown_list .lm_tab {\\n  clear: both;\\n  padding-right: 10px;\\n  margin: 0;\\n}\\n.lm_header .lm_tabdropdown_list .lm_tab .lm_title {\\n  width: 100px;\\n}\\n.lm_header .lm_tabdropdown_list .lm_close_tab {\\n  display: none !important;\\n}\\n/***********************************\\n* Drag Proxy\\n***********************************/\\n.lm_dragProxy {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 30;\\n}\\n.lm_dragProxy .lm_header {\\n  background: transparent;\\n}\\n.lm_dragProxy .lm_content {\\n  border-top: none;\\n  overflow: hidden;\\n}\\n.lm_dropTargetIndicator {\\n  display: none;\\n  position: absolute;\\n  z-index: 35;\\n  transition: all 200ms ease;\\n}\\n.lm_dropTargetIndicator .lm_inner {\\n  width: 100%;\\n  height: 100%;\\n  position: relative;\\n  top: 0;\\n  left: 0;\\n}\\n.lm_transition_indicator {\\n  display: none;\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 20;\\n}\\n.lm_popin {\\n  width: 20px;\\n  height: 20px;\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n  z-index: 9999;\\n}\\n.lm_popin > * {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n.lm_popin > .lm_bg {\\n  z-index: 10;\\n}\\n.lm_popin > .lm_icon {\\n  z-index: 20;\\n}\\n\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\"},\"$:/plugins/Gk0Wk/layouts/widget.js\":{\"title\":\"$:/plugins/Gk0Wk/layouts/widget.js\",\"module-type\":\"widget\",\"type\":\"application/javascript\",\"Modern.TiddlyDev#Origin\":\"widget/index.ts\",\"text\":\"\\\"use strict\\\";var I18nStrings,StyleConstants,WidthOrHeightPropertyName,Side,LogicalZIndex,JsonValue,ItemType,ResponsiveMode,SizeUnitEnum,ConfigMinifier,ResolvedItemConfig,ResolvedHeaderedItemConfig,ResolvedStackItemConfig,ResolvedComponentItemConfig,ResolvedRowOrColumnItemConfig,ResolvedRootItemConfig,ResolvedGroundItemConfig,ResolvedLayoutConfig,ResolvedPopoutLayoutConfig,ItemConfig,HeaderedItemConfig,StackItemConfig,ComponentItemConfig,RowOrColumnItemConfig,RootItemConfig,LayoutConfig,PopoutLayoutConfig,__create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__esm=(e,t)=>function(){return t=e?(0,e[__getOwnPropNames(e)[0]])(e=0):t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,n,i,o)=>{if(n&&\\\"object\\\"==typeof n||\\\"function\\\"==typeof n)for(let e of __getOwnPropNames(n))__hasOwnProp.call(t,e)||e===i||__defProp(t,e,{get:()=>n[e],enumerable:!(o=__getOwnPropDesc(n,e))||o.enumerable});return t},__toESM=(e,t,n)=>(n=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?n:__defProp(n,\\\"default\\\",{value:e,enumerable:!0}),e)),init_esbuild_inject=__esm({\\\"node_modules/.pnpm/tiddlywiki-plugin-dev@0.0.39_postcss@8.4.24_ts-node@10.9.1/node_modules/tiddlywiki-plugin-dev/dist/js/esbuild-inject.js\\\"(){}}),require_jquery=__commonJS({\\\"node_modules/.pnpm/jquery@3.7.1/node_modules/jquery/dist/jquery.js\\\"(e,t){var n;init_esbuild_inject(),e=\\\"undefined\\\"!=typeof window?window:e,n=function(I,U){var t=[],H=Object.getPrototypeOf,a=t.slice,O=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},W=t.push,_=t.indexOf,N={},j=N.toString,B=N.hasOwnProperty,F=B.toString,q=F.call(Object),f={},y=function(e){return\\\"function\\\"==typeof e&&\\\"number\\\"!=typeof e.nodeType&&\\\"function\\\"!=typeof e.item},V=function(e){return null!=e&&e===e.window},x=I.document,G={type:!0,src:!0,nonce:!0,noModule:!0};function $(e,t,n){var i,o,r=(n=n||x).createElement(\\\"script\\\");if(r.text=e,t)for(i in G)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function Z(e){return null==e?e+\\\"\\\":\\\"object\\\"==typeof e||\\\"function\\\"==typeof e?N[j.call(e)]||\\\"object\\\":typeof e}var e=\\\"3.7.1\\\",X=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function Y(e){var t=!!e&&\\\"length\\\"in e&&e.length,n=Z(e);return!y(e)&&!V(e)&&(\\\"array\\\"===n||0===t||\\\"number\\\"==typeof t&&0<t&&t-1 in e)}function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:e,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:W,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},s=1,a=arguments.length,l=!1;for(\\\"boolean\\\"==typeof r&&(l=r,r=arguments[s]||{},s++),\\\"object\\\"==typeof r||y(r)||(r={}),s===a&&(r=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],\\\"__proto__\\\"!==t&&r!==n&&(l&&n&&(E.isPlainObject(n)||(i=Array.isArray(n)))?(o=r[t],o=i&&!Array.isArray(o)?[]:i||E.isPlainObject(o)?o:{},i=!1,r[t]=E.extend(l,o,n)):void 0!==n&&(r[t]=n));return r},E.extend({expando:\\\"jQuery\\\"+(e+Math.random()).replace(/\\\\D/g,\\\"\\\"),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t;return!(!e||\\\"[object Object]\\\"!==j.call(e)||(t=H(e))&&(\\\"function\\\"!=typeof(t=B.call(t,\\\"constructor\\\")&&t.constructor)||F.call(t)!==q))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){$(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(Y(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n=\\\"\\\",i=0,o=e.nodeType;if(!o)for(;t=e[i++];)n+=E.text(t);return 1===o||11===o?e.textContent:9===o?e.documentElement.textContent:3===o||4===o?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(Y(Object(e))?E.merge(n,\\\"string\\\"==typeof e?[e]:e):W.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:_.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!X.test(t||n&&n.nodeName||\\\"HTML\\\")},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,s=!n;o<r;o++)!t(e[o],o)!=s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,s=[];if(Y(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&s.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&s.push(o);return O(s)},guid:1,support:f}),\\\"function\\\"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each(\\\"Boolean Number String Function Array Date RegExp Object Error Symbol\\\".split(\\\" \\\"),function(e,t){N[\\\"[object \\\"+t+\\\"]\\\"]=t.toLowerCase()});var J=t.pop,Q=t.sort,K=t.splice,n=\\\"[\\\\\\\\x20\\\\\\\\t\\\\\\\\r\\\\\\\\n\\\\\\\\f]\\\",ee=new RegExp(\\\"^\\\"+n+\\\"+|((?:^|[^\\\\\\\\\\\\\\\\])(?:\\\\\\\\\\\\\\\\.)*)\\\"+n+\\\"+$\\\",\\\"g\\\"),te=(E.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))},/([\\\\0-\\\\x1f\\\\x7f]|^-?\\\\d)|^-$|[^\\\\x80-\\\\uFFFF\\\\w-]/g);function ne(e,t){return t?\\\"\\\\0\\\"===e?\\\"�\\\":e.slice(0,-1)+\\\"\\\\\\\\\\\"+e.charCodeAt(e.length-1).toString(16)+\\\" \\\":\\\"\\\\\\\\\\\"+e}E.escapeSelector=function(e){return(e+\\\"\\\").replace(te,ne)};var ie,b,oe,re,se,w,i,S,m,ae,o=x,le=W,T=le,L=E.expando,z=0,de=0,he=ze(),ue=ze(),ce=ze(),me=ze(),pe=function(e,t){return e===t&&(se=!0),0},fe=\\\"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\\\",e=\\\"(?:\\\\\\\\\\\\\\\\[\\\\\\\\da-fA-F]{1,6}\\\"+n+\\\"?|\\\\\\\\\\\\\\\\[^\\\\\\\\r\\\\\\\\n\\\\\\\\f]|[\\\\\\\\w-]|[^\\\\0-\\\\\\\\x7f])+\\\",r=\\\"\\\\\\\\[\\\"+n+\\\"*(\\\"+e+\\\")(?:\\\"+n+\\\"*([*^$|!~]?=)\\\"+n+`*(?:'((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\"])*)\\\"|(`+e+\\\"))|)\\\"+n+\\\"*\\\\\\\\]\\\",s=\\\":(\\\"+e+`)(?:\\\\\\\\((('((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\'])*)'|\\\"((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\\\\\\\\\.|[^\\\\\\\\\\\\\\\\()[\\\\\\\\]]|`+r+\\\")*)|.*)\\\\\\\\)|)\\\",ge=new RegExp(n+\\\"+\\\",\\\"g\\\"),ve=new RegExp(\\\"^\\\"+n+\\\"*,\\\"+n+\\\"*\\\"),ye=new RegExp(\\\"^\\\"+n+\\\"*([>+~]|\\\"+n+\\\")\\\"+n+\\\"*\\\"),Ce=new RegExp(n+\\\"|>\\\"),_e=new RegExp(s),be=new RegExp(\\\"^\\\"+e+\\\"$\\\"),we={ID:new RegExp(\\\"^#(\\\"+e+\\\")\\\"),CLASS:new RegExp(\\\"^\\\\\\\\.(\\\"+e+\\\")\\\"),TAG:new RegExp(\\\"^(\\\"+e+\\\"|[*])\\\"),ATTR:new RegExp(\\\"^\\\"+r),PSEUDO:new RegExp(\\\"^\\\"+s),CHILD:new RegExp(\\\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\\\\\(\\\"+n+\\\"*(even|odd|(([+-]|)(\\\\\\\\d*)n|)\\\"+n+\\\"*(?:([+-]|)\\\"+n+\\\"*(\\\\\\\\d+)|))\\\"+n+\\\"*\\\\\\\\)|)\\\",\\\"i\\\"),bool:new RegExp(\\\"^(?:\\\"+fe+\\\")$\\\",\\\"i\\\"),needsContext:new RegExp(\\\"^\\\"+n+\\\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\\\\\(\\\"+n+\\\"*((?:-\\\\\\\\d)?\\\\\\\\d*)\\\"+n+\\\"*\\\\\\\\)|)(?=[^-]|$)\\\",\\\"i\\\")},Ie=/^(?:input|select|textarea|button)$/i,xe=/^h\\\\d$/i,Ee=/^(?:#([\\\\w-]+)|(\\\\w+)|\\\\.([\\\\w-]+))$/,Se=/[+~]/,u=new RegExp(\\\"\\\\\\\\\\\\\\\\[\\\\\\\\da-fA-F]{1,6}\\\"+n+\\\"?|\\\\\\\\\\\\\\\\([^\\\\\\\\r\\\\\\\\n\\\\\\\\f])\\\",\\\"g\\\"),c=function(e,t){var n=\\\"0x\\\"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320))},Te=function(){Pe()},Le=Oe(function(e){return!0===e.disabled&&C(e,\\\"fieldset\\\")},{dir:\\\"parentNode\\\",next:\\\"legend\\\"});try{T.apply(t=a.call(o.childNodes),o.childNodes),t[o.childNodes.length].nodeType}catch(li){T={apply:function(e,t){le.apply(e,a.call(t))},call:function(e){le.apply(e,a.call(arguments,1))}}}function M(e,t,n,i){var o,r,s,a,l,d,h=t&&t.ownerDocument,u=t?t.nodeType:9;if(n=n||[],\\\"string\\\"!=typeof e||!e||1!==u&&9!==u&&11!==u)return n;if(!i&&(Pe(t),t=t||w,S)){if(11!==u&&(a=Ee.exec(e)))if(o=a[1]){if(9===u){if(!(d=t.getElementById(o)))return n;if(d.id===o)return T.call(n,d),n}else if(h&&(d=h.getElementById(o))&&M.contains(t,d)&&d.id===o)return T.call(n,d),n}else{if(a[2])return T.apply(n,t.getElementsByTagName(e)),n;if((o=a[3])&&t.getElementsByClassName)return T.apply(n,t.getElementsByClassName(o)),n}if(!(me[e+\\\" \\\"]||m&&m.test(e))){if(d=e,h=t,1===u&&(Ce.test(e)||ye.test(e))){for((h=Se.test(e)&&Ae(t.parentNode)||t)==t&&f.scope||((s=t.getAttribute(\\\"id\\\"))?s=E.escapeSelector(s):t.setAttribute(\\\"id\\\",s=L)),r=(l=Ue(e)).length;r--;)l[r]=(s?\\\"#\\\"+s:\\\":scope\\\")+\\\" \\\"+He(l[r]);d=l.join(\\\",\\\")}try{return T.apply(n,h.querySelectorAll(d)),n}catch(c){me(e,!0)}finally{s===L&&t.removeAttribute(\\\"id\\\")}}}return Fe(e.replace(ee,\\\"$1\\\"),t,n,i)}function ze(){var n=[];function i(e,t){return n.push(e+\\\" \\\")>b.cacheLength&&delete i[n.shift()],i[e+\\\" \\\"]=t}return i}function l(e){return e[L]=!0,e}function Me(e){var t=w.createElement(\\\"fieldset\\\");try{return!!e(t)}catch(li){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Re(t){return function(e){return\\\"form\\\"in e?e.parentNode&&!1===e.disabled?\\\"label\\\"in e?\\\"label\\\"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Le(e)===t:e.disabled===t:\\\"label\\\"in e&&e.disabled===t}}function ke(s){return l(function(r){return r=+r,l(function(e,t){for(var n,i=s([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function Ae(e){return e&&\\\"undefined\\\"!=typeof e.getElementsByTagName&&e}function Pe(e){var t=e?e.ownerDocument||e:o;return t!=w&&9===t.nodeType&&t.documentElement&&(i=(w=t).documentElement,S=!E.isXMLDoc(w),ae=i.matches||i.webkitMatchesSelector||i.msMatchesSelector,i.msMatchesSelector&&o!=w&&(t=w.defaultView)&&t.top!==t&&t.addEventListener(\\\"unload\\\",Te),f.getById=Me(function(e){return i.appendChild(e).id=E.expando,!w.getElementsByName||!w.getElementsByName(E.expando).length}),f.disconnectedMatch=Me(function(e){return ae.call(e,\\\"*\\\")}),f.scope=Me(function(){return w.querySelectorAll(\\\":scope\\\")}),f.cssHas=Me(function(){try{w.querySelector(\\\":has(*,:jqfake)\\\")}catch(li){return 1}}),f.getById?(b.filter.ID=function(e){var t=e.replace(u,c);return function(e){return e.getAttribute(\\\"id\\\")===t}},b.find.ID=function(e,t){var n;if(\\\"undefined\\\"!=typeof t.getElementById&&S)return(n=t.getElementById(e))?[n]:[]}):(b.filter.ID=function(e){var n=e.replace(u,c);return function(e){var t=\\\"undefined\\\"!=typeof e.getAttributeNode&&e.getAttributeNode(\\\"id\\\");return t&&t.value===n}},b.find.ID=function(e,t){if(\\\"undefined\\\"!=typeof t.getElementById&&S){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode(\\\"id\\\"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode(\\\"id\\\"))&&n.value===e)return[r]}return[]}}),b.find.TAG=function(e,t){return\\\"undefined\\\"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},b.find.CLASS=function(e,t){if(\\\"undefined\\\"!=typeof t.getElementsByClassName&&S)return t.getElementsByClassName(e)},m=[],Me(function(e){var t;i.appendChild(e).innerHTML=\\\"<a id='\\\"+L+\\\"' href='' disabled='disabled'></a><select id='\\\"+L+\\\"-\\\\r\\\\\\\\' disabled='disabled'><option selected=''></option></select>\\\",e.querySelectorAll(\\\"[selected]\\\").length||m.push(\\\"\\\\\\\\[\\\"+n+\\\"*(?:value|\\\"+fe+\\\")\\\"),e.querySelectorAll(\\\"[id~=\\\"+L+\\\"-]\\\").length||m.push(\\\"~=\\\"),e.querySelectorAll(\\\"a#\\\"+L+\\\"+*\\\").length||m.push(\\\".#.+[+~]\\\"),e.querySelectorAll(\\\":checked\\\").length||m.push(\\\":checked\\\"),(t=w.createElement(\\\"input\\\")).setAttribute(\\\"type\\\",\\\"hidden\\\"),e.appendChild(t).setAttribute(\\\"name\\\",\\\"D\\\"),i.appendChild(e).disabled=!0,2!==e.querySelectorAll(\\\":disabled\\\").length&&m.push(\\\":enabled\\\",\\\":disabled\\\"),(t=w.createElement(\\\"input\\\")).setAttribute(\\\"name\\\",\\\"\\\"),e.appendChild(t),e.querySelectorAll(\\\"[name='']\\\").length||m.push(\\\"\\\\\\\\[\\\"+n+\\\"*name\\\"+n+\\\"*=\\\"+n+`*(?:''|\\\"\\\")`)}),f.cssHas||m.push(\\\":has\\\"),m=m.length&&new RegExp(m.join(\\\"|\\\")),pe=function(e,t){var n;return e===t?(se=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===w||e.ownerDocument==o&&M.contains(o,e)?-1:t===w||t.ownerDocument==o&&M.contains(o,t)?1:re?_.call(re,e)-_.call(re,t):0:4&n?-1:1)}),w}for(ie in M.matches=function(e,t){return M(e,null,null,t)},M.matchesSelector=function(e,t){if(Pe(e),S&&!me[t+\\\" \\\"]&&(!m||!m.test(t)))try{var n=ae.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(li){me(t,!0)}return 0<M(t,w,null,[e]).length},M.contains=function(e,t){return(e.ownerDocument||e)!=w&&Pe(e),E.contains(e,t)},M.attr=function(e,t){(e.ownerDocument||e)!=w&&Pe(e);var n=b.attrHandle[t.toLowerCase()],n=n&&B.call(b.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==n?n:e.getAttribute(t)},M.error=function(e){throw new Error(\\\"Syntax error, unrecognized expression: \\\"+e)},E.uniqueSort=function(e){var t,n=[],i=0,o=0;if(se=!f.sortStable,re=!f.sortStable&&a.call(e,0),Q.call(e,pe),se){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)K.call(e,n[i],1)}return re=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(a.apply(this)))},(b=E.expr={cacheLength:50,createPseudo:l,match:we,attrHandle:{},find:{},relative:{\\\">\\\":{dir:\\\"parentNode\\\",first:!0},\\\" \\\":{dir:\\\"parentNode\\\"},\\\"+\\\":{dir:\\\"previousSibling\\\",first:!0},\\\"~\\\":{dir:\\\"previousSibling\\\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(u,c),e[3]=(e[3]||e[4]||e[5]||\\\"\\\").replace(u,c),\\\"~=\\\"===e[2]&&(e[3]=\\\" \\\"+e[3]+\\\" \\\"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\\\"nth\\\"===e[1].slice(0,3)?(e[3]||M.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\\\"even\\\"===e[3]||\\\"odd\\\"===e[3])),e[5]=+(e[7]+e[8]||\\\"odd\\\"===e[3])):e[3]&&M.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return we.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\\\"\\\":n&&_e.test(n)&&(t=(t=Ue(n,!0))&&n.indexOf(\\\")\\\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(u,c).toLowerCase();return\\\"*\\\"===e?function(){return!0}:function(e){return C(e,t)}},CLASS:function(e){var t=he[e+\\\" \\\"];return t||(t=new RegExp(\\\"(^|\\\"+n+\\\")\\\"+e+\\\"(\\\"+n+\\\"|$)\\\"))&&he(e,function(e){return t.test(\\\"string\\\"==typeof e.className&&e.className||\\\"undefined\\\"!=typeof e.getAttribute&&e.getAttribute(\\\"class\\\")||\\\"\\\")})},ATTR:function(n,i,o){return function(e){var t=M.attr(e,n);return null==t?\\\"!=\\\"===i:!i||(t+=\\\"\\\",\\\"=\\\"===i?t===o:\\\"!=\\\"===i?t!==o:\\\"^=\\\"===i?o&&0===t.indexOf(o):\\\"*=\\\"===i?o&&-1<t.indexOf(o):\\\"$=\\\"===i?o&&t.slice(-o.length)===o:\\\"~=\\\"===i?-1<(\\\" \\\"+t.replace(ge,\\\" \\\")+\\\" \\\").indexOf(o):\\\"|=\\\"===i&&(t===o||t.slice(0,o.length+1)===o+\\\"-\\\"))}},CHILD:function(m,e,t,p,f){var g=\\\"nth\\\"!==m.slice(0,3),v=\\\"last\\\"!==m.slice(-4),y=\\\"of-type\\\"===e;return 1===p&&0===f?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,s,a,l=g!=v?\\\"nextSibling\\\":\\\"previousSibling\\\",d=e.parentNode,h=y&&e.nodeName.toLowerCase(),u=!n&&!y,c=!1;if(d){if(g){for(;l;){for(r=e;r=r[l];)if(y?C(r,h):1===r.nodeType)return!1;a=l=\\\"only\\\"===m&&!a&&\\\"nextSibling\\\"}return!0}if(a=[v?d.firstChild:d.lastChild],v&&u){for(c=(s=(i=(o=d[L]||(d[L]={}))[m]||[])[0]===z&&i[1])&&i[2],r=s&&d.childNodes[s];r=++s&&r&&r[l]||(c=s=0,a.pop());)if(1===r.nodeType&&++c&&r===e){o[m]=[z,s,c];break}}else if(!1===(c=u?s=(i=(o=e[L]||(e[L]={}))[m]||[])[0]===z&&i[1]:c))for(;(r=++s&&r&&r[l]||(c=s=0,a.pop()))&&((y?!C(r,h):1!==r.nodeType)||!++c||(u&&((o=r[L]||(r[L]={}))[m]=[z,c]),r!==e)););return(c-=f)===p||c%p==0&&0<=c/p}}},PSEUDO:function(e,r){var t,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||M.error(\\\"unsupported pseudo: \\\"+e);return s[L]?s(r):1<s.length?(t=[e,e,\\\"\\\",r],b.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=s(e,r),o=i.length;o--;)e[n=_.call(e,i[o])]=!(t[n]=i[o])}):function(e){return s(e,0,t)}):s}},pseudos:{not:l(function(e){var i=[],o=[],a=Be(e.replace(ee,\\\"$1\\\"));return a[L]?l(function(e,t,n,i){for(var o,r=a(e,null,i,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,t,n){return i[0]=e,a(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(t){return function(e){return 0<M(t,e).length}}),contains:l(function(t){return t=t.replace(u,c),function(e){return-1<(e.textContent||E.text(e)).indexOf(t)}}),lang:l(function(n){return be.test(n||\\\"\\\")||M.error(\\\"unsupported lang: \\\"+n),n=n.replace(u,c).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute(\\\"xml:lang\\\")||e.getAttribute(\\\"lang\\\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\\\"-\\\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=I.location&&I.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===i},focus:function(e){return e===function(){try{return w.activeElement}catch(e){}}()&&w.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:Re(!1),disabled:Re(!0),checked:function(e){return C(e,\\\"input\\\")&&!!e.checked||C(e,\\\"option\\\")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return xe.test(e.nodeName)},input:function(e){return Ie.test(e.nodeName)},button:function(e){return C(e,\\\"input\\\")&&\\\"button\\\"===e.type||C(e,\\\"button\\\")},text:function(e){var t;return C(e,\\\"input\\\")&&\\\"text\\\"===e.type&&(null==(t=e.getAttribute(\\\"type\\\"))||\\\"text\\\"===t.toLowerCase())},first:ke(function(){return[0]}),last:ke(function(e,t){return[t-1]}),eq:ke(function(e,t,n){return[n<0?n+t:n]}),even:ke(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ke(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ke(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:ke(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[ie]=function(t){return function(e){return C(e,\\\"input\\\")&&e.type===t}}(ie);for(ie in{submit:!0,reset:!0})b.pseudos[ie]=function(t){return function(e){return(C(e,\\\"input\\\")||C(e,\\\"button\\\"))&&e.type===t}}(ie);function De(){}function Ue(e,t){var n,i,o,r,s,a,l,d=ue[e+\\\" \\\"];if(d)return t?0:d.slice(0);for(s=e,a=[],l=b.preFilter;s;){for(r in n&&!(i=ve.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=ye.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ee,\\\" \\\")}),s=s.slice(n.length)),b.filter)!(i=we[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?M.error(e):ue(e,a).slice(0)}function He(e){for(var t=0,n=e.length,i=\\\"\\\";t<n;t++)i+=e[t].value;return i}function Oe(s,e,t){var a=e.dir,l=e.next,d=l||a,h=t&&\\\"parentNode\\\"===d,u=de++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||h)return s(e,t,n);return!1}:function(e,t,n){var i,o,r=[z,u];if(n){for(;e=e[a];)if((1===e.nodeType||h)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||h)if(o=e[L]||(e[L]={}),l&&C(e,l))e=e[a]||e;else{if((i=o[d])&&i[0]===z&&i[1]===u)return r[2]=i[2];if((o[d]=r)[2]=s(e,t,n))return!0}return!1}}function We(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function Ne(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,d=null!=t;a<l;a++)!(r=e[a])||n&&!n(r,i,o)||(s.push(r),d&&t.push(a));return s}function je(m,p,f,g,v,e){return g&&!g[L]&&(g=je(g)),v&&!v[L]&&(v=je(v,e)),l(function(e,t,n,i){var o,r,s,a,l=[],d=[],h=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)M(e,t[i],n);return n}(p||\\\"*\\\",n.nodeType?[n]:n,[]),c=!m||!e&&p?u:Ne(u,l,m,n,i);if(f?f(c,a=v||(e?m:h||g)?[]:t,n,i):a=c,g)for(o=Ne(a,d),g(o,[],n,i),r=o.length;r--;)(s=o[r])&&(a[d[r]]=!(c[d[r]]=s));if(e){if(v||m){if(v){for(o=[],r=a.length;r--;)(s=a[r])&&o.push(c[r]=s);v(null,a=[],o,i)}for(r=a.length;r--;)(s=a[r])&&-1<(o=v?_.call(e,s):l[r])&&(e[o]=!(t[o]=s))}}else a=Ne(a===t?a.splice(h,a.length):a),v?v(null,t,a,i):T.apply(t,a)})}function Be(e,t){var n,g,v,y,C,i,o=[],r=[],s=ce[e+\\\" \\\"];if(!s){for(n=(t=t||Ue(e)).length;n--;)((s=function u(e){for(var o,t,n,i=e.length,r=b.relative[e[0].type],s=r||b.relative[\\\" \\\"],a=r?1:0,l=Oe(function(e){return e===o},s,!0),d=Oe(function(e){return-1<_.call(o,e)},s,!0),h=[function(e,t,n){var i=!r&&(n||t!=oe)||((o=t).nodeType?l:d)(e,t,n);return o=null,i}];a<i;a++)if(t=b.relative[e[a].type])h=[Oe(We(h),t)];else{if((t=b.filter[e[a].type].apply(null,e[a].matches))[L]){for(n=++a;n<i&&!b.relative[e[n].type];n++);return je(1<a&&We(h),1<a&&He(e.slice(0,a-1).concat({value:\\\" \\\"===e[a-2].type?\\\"*\\\":\\\"\\\"})).replace(ee,\\\"$1\\\"),t,a<n&&u(e.slice(a,n)),n<i&&u(e=e.slice(n)),n<i&&He(e))}h.push(t)}return We(h)}(t[n]))[L]?o:r).push(s);(s=ce(e,(g=r,y=0<(v=o).length,C=0<g.length,i=function(e,t,n,i,o){var r,s,a,l=0,d=\\\"0\\\",h=e&&[],u=[],c=oe,m=e||C&&b.find.TAG(\\\"*\\\",o),p=z+=null==c?1:Math.random()||.1,f=m.length;for(o&&(oe=t==w||t||o);d!==f&&null!=(r=m[d]);d++){if(C&&r){for(s=0,t||r.ownerDocument==w||(Pe(r),n=!S);a=g[s++];)if(a(r,t||w,n)){T.call(i,r);break}o&&(z=p)}y&&((r=!a&&r)&&l--,e)&&h.push(r)}if(l+=d,y&&d!==l){for(s=0;a=v[s++];)a(h,u,t,n);if(e){if(0<l)for(;d--;)h[d]||u[d]||(u[d]=J.call(i));u=Ne(u)}T.apply(i,u),o&&!e&&0<u.length&&1<l+v.length&&E.uniqueSort(i)}return o&&(z=p,oe=c),h},y?l(i):i))).selector=e}return s}function Fe(e,t,n,i){var o,r,s,a,l,d=\\\"function\\\"==typeof e&&e,h=!i&&Ue(e=d.selector||e);if(n=n||[],1===h.length){if(2<(r=h[0]=h[0].slice(0)).length&&\\\"ID\\\"===(s=r[0]).type&&9===t.nodeType&&S&&b.relative[r[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(u,c),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=we.needsContext.test(e)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((l=b.find[a])&&(i=l(s.matches[0].replace(u,c),Se.test(r[0].type)&&Ae(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&He(r))break;return T.apply(n,i),n}}return(d||Be(e,h))(i,t,!S,n,!t||Se.test(e)&&Ae(t.parentNode)||t),n}De.prototype=b.filters=b.pseudos,b.setFilters=new De,f.sortStable=L.split(\\\"\\\").sort(pe).join(\\\"\\\")===L,Pe(),f.sortDetached=Me(function(e){return 1&e.compareDocumentPosition(w.createElement(\\\"fieldset\\\"))}),E.find=M,E.expr[\\\":\\\"]=E.expr.pseudos,E.unique=E.uniqueSort,M.compile=Be,M.select=Fe,M.setDocument=Pe,M.tokenize=Ue,M.escape=E.escapeSelector,M.getText=E.text,M.isXML=E.isXMLDoc,M.selectors=E.expr,M.support=E.support,M.uniqueSort=E.uniqueSort;var qe=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;i.push(e)}return i},Ve=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ge=E.expr.match.needsContext,$e=/^<([a-z][^\\\\/\\\\0>:\\\\x20\\\\t\\\\r\\\\n\\\\f]*)[\\\\x20\\\\t\\\\r\\\\n\\\\f]*\\\\/?>(?:<\\\\/\\\\1>|)$/i;function Ze(e,n,i){return y(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?E.grep(e,function(e){return e===n!==i}):\\\"string\\\"!=typeof n?E.grep(e,function(e){return-1<_.call(n,e)!==i}):E.filter(n,e,i)}E.filter=function(e,t,n){var i=t[0];return n&&(e=\\\":not(\\\"+e+\\\")\\\"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,i=this.length,o=this;if(\\\"string\\\"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<i;t++)if(E.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,o[t],n);return 1<i?E.uniqueSort(n):n},filter:function(e){return this.pushStack(Ze(this,e||[],!1))},not:function(e){return this.pushStack(Ze(this,e||[],!0))},is:function(e){return!!Ze(this,\\\"string\\\"==typeof e&&Ge.test(e)?E(e):e||[],!1).length}});var Xe,Ye=/^(?:\\\\s*(<[\\\\w\\\\W]+>)[^>]*|#([\\\\w-]+))$/,Je=((E.fn.init=function(e,t,n){var i,o;if(e){if(n=n||Xe,\\\"string\\\"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this);if(!(i=\\\"<\\\"===e[0]&&\\\">\\\"===e[e.length-1]&&3<=e.length?[null,e,null]:Ye.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),$e.test(i[1])&&E.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i])}else(o=x.getElementById(i[2]))&&(this[0]=o,this.length=1)}return this}).prototype=E.fn,Xe=E(x),/^(?:parents|prev(?:Until|All))/),Qe={children:!0,contents:!0,next:!0,prev:!0};function Ke(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],s=\\\"string\\\"!=typeof e&&E(e);if(!Ge.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?E.uniqueSort(r):r)},index:function(e){return e?\\\"string\\\"==typeof e?_.call(E(e),this[0]):_.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return qe(e,\\\"parentNode\\\")},parentsUntil:function(e,t,n){return qe(e,\\\"parentNode\\\",n)},next:function(e){return Ke(e,\\\"nextSibling\\\")},prev:function(e){return Ke(e,\\\"previousSibling\\\")},nextAll:function(e){return qe(e,\\\"nextSibling\\\")},prevAll:function(e){return qe(e,\\\"previousSibling\\\")},nextUntil:function(e,t,n){return qe(e,\\\"nextSibling\\\",n)},prevUntil:function(e,t,n){return qe(e,\\\"previousSibling\\\",n)},siblings:function(e){return Ve((e.parentNode||{}).firstChild,e)},children:function(e){return Ve(e.firstChild)},contents:function(e){return null!=e.contentDocument&&H(e.contentDocument)?e.contentDocument:(C(e,\\\"template\\\")&&(e=e.content||e),E.merge([],e.childNodes))}},function(i,o){E.fn[i]=function(e,t){var n=E.map(this,o,e);return(t=\\\"Until\\\"!==i.slice(-5)?e:t)&&\\\"string\\\"==typeof t&&(n=E.filter(t,n)),1<this.length&&(Qe[i]||E.uniqueSort(n),Je.test(i))&&n.reverse(),this.pushStack(n)}});var R=/[^\\\\x20\\\\t\\\\r\\\\n\\\\f]+/g;function et(e){return e}function tt(e){throw e}function nt(e,t,n,i){var o;try{e&&y(o=e.promise)?o.call(e).done(t).fail(n):e&&y(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(r){n.apply(void 0,[r])}}E.Callbacks=function(i){var e,n;i=\\\"string\\\"==typeof i?(e=i,n={},E.each(e.match(R)||[],function(e,t){n[t]=!0}),n):E.extend({},i);var o,t,r,s,a=[],l=[],d=-1,h=function(){for(s=s||i.once,r=o=!0;l.length;d=-1)for(t=l.shift();++d<a.length;)!1===a[d].apply(t[0],t[1])&&i.stopOnFalse&&(d=a.length,t=!1);i.memory||(t=!1),o=!1,s&&(a=t?[]:\\\"\\\")},u={add:function(){return a&&(t&&!o&&(d=a.length-1,l.push(t)),function n(e){E.each(e,function(e,t){y(t)?i.unique&&u.has(t)||a.push(t):t&&t.length&&\\\"string\\\"!==Z(t)&&n(t)})}(arguments),t)&&!o&&h(),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,a,n));)a.splice(n,1),n<=d&&d--}),this},has:function(e){return e?-1<E.inArray(e,a):0<a.length},empty:function(){return a=a&&[],this},disable:function(){return s=l=[],a=t=\\\"\\\",this},disabled:function(){return!a},lock:function(){return s=l=[],t||o||(a=t=\\\"\\\"),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],l.push(t),o)||h(),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},E.extend({Deferred:function(e){var r=[[\\\"notify\\\",\\\"progress\\\",E.Callbacks(\\\"memory\\\"),E.Callbacks(\\\"memory\\\"),2],[\\\"resolve\\\",\\\"done\\\",E.Callbacks(\\\"once memory\\\"),E.Callbacks(\\\"once memory\\\"),0,\\\"resolved\\\"],[\\\"reject\\\",\\\"fail\\\",E.Callbacks(\\\"once memory\\\"),E.Callbacks(\\\"once memory\\\"),1,\\\"rejected\\\"]],o=\\\"pending\\\",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},\\\"catch\\\":function(e){return s.then(null,e)},pipe:function(){var o=arguments;return E.Deferred(function(i){E.each(r,function(e,t){var n=y(o[t[4]])&&o[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+\\\"With\\\"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,i){var d=0;function h(r,s,a,l){return function(){var n=this,i=arguments,t=function(){var e,t;if(!(r<d)){if((e=a.apply(n,i))===s.promise())throw new TypeError(\\\"Thenable self-resolution\\\");t=e&&(\\\"object\\\"==typeof e||\\\"function\\\"==typeof e)&&e.then,y(t)?l?t.call(e,h(d,s,et,l),h(d,s,tt,l)):(d++,t.call(e,h(d,s,et,l),h(d,s,tt,l),h(d,s,et,s.notifyWith))):(a!==et&&(n=void 0,i=[e]),(l||s.resolveWith)(n,i))}},o=l?t:function(){try{t()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,o.error),d<=r+1&&(a!==tt&&(n=void 0,i=[e]),s.rejectWith(n,i))}};r?o():(E.Deferred.getErrorHook?o.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(o.error=E.Deferred.getStackHook()),I.setTimeout(o))}}return E.Deferred(function(e){r[0][3].add(h(0,e,y(i)?i:et,e.notifyWith)),r[1][3].add(h(0,e,y(t)?t:et)),r[2][3].add(h(0,e,y(n)?n:tt))}).promise()},promise:function(e){return null!=e?E.extend(e,s):s}},a={};return E.each(r,function(e,t){var n=t[2],i=t[5];s[t[1]]=n.add,i&&n.add(function(){o=i},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+\\\"With\\\"](this===a?void 0:this,arguments),this},a[t[0]+\\\"With\\\"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var n=arguments.length,t=n,i=Array(t),o=a.call(arguments),r=E.Deferred(),s=function(t){return function(e){i[t]=this,o[t]=1<arguments.length?a.call(arguments):e,--n||r.resolveWith(i,o)}};if(n<=1&&(nt(e,r.done(s(t)).resolve,r.reject,!n),\\\"pending\\\"===r.state()||y(o[t]&&o[t].then)))return r.then();for(;t--;)nt(o[t],s(t),r.reject);return r.promise()}});var it=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,ot=(E.Deferred.exceptionHook=function(e,t){I.console&&I.console.warn&&e&&it.test(e.name)&&I.console.warn(\\\"jQuery.Deferred exception: \\\"+e.message,e.stack,t)},E.readyException=function(e){I.setTimeout(function(){throw e})},E.Deferred());function rt(){x.removeEventListener(\\\"DOMContentLoaded\\\",rt),I.removeEventListener(\\\"load\\\",rt),E.ready()}E.fn.ready=function(e){return ot.then(e)[\\\"catch\\\"](function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||ot.resolveWith(x,[E])}}),E.ready.then=ot.then,\\\"complete\\\"===x.readyState||\\\"loading\\\"!==x.readyState&&!x.documentElement.doScroll?I.setTimeout(E.ready):(x.addEventListener(\\\"DOMContentLoaded\\\",rt),I.addEventListener(\\\"load\\\",rt));var h=function(e,t,n,i,o,r,s){var a=0,l=e.length,d=null==n;if(\\\"object\\\"===Z(n))for(a in o=!0,n)h(e,t,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,y(i)||(s=!0),t=d?s?(t.call(e,i),null):(d=t,function(e,t,n){return d.call(E(e),n)}):t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return o?e:d?t.call(e):l?t(e[0],n):r},st=/^-ms-/,at=/-([a-z])/g;function lt(e,t){return t.toUpperCase()}function k(e){return e.replace(st,\\\"ms-\\\").replace(at,lt)}var dt=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function ht(){this.expando=E.expando+ht.uid++}ht.uid=1,ht.prototype={cache:function(e){var t=e[this.expando];return t||(t={},dt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if(\\\"string\\\"==typeof t)o[k(t)]=n;else for(i in t)o[k(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][k(t)]},access:function(e,t,n){return void 0===t||t&&\\\"string\\\"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(k):(t=k(t))in i?[t]:t.match(R)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!E.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var v=new ht,d=new ht,ut=/^(?:\\\\{[\\\\w\\\\W]*\\\\}|\\\\[[\\\\w\\\\W]*\\\\])$/,ct=/[A-Z]/g;function mt(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i=\\\"data-\\\"+t.replace(ct,\\\"-$&\\\").toLowerCase(),\\\"string\\\"==typeof(n=e.getAttribute(i))){try{n=\\\"true\\\"===(o=n)||\\\"false\\\"!==o&&(\\\"null\\\"===o?null:o===+o+\\\"\\\"?+o:ut.test(o)?JSON.parse(o):o)}catch(r){}d.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return d.hasData(e)||v.hasData(e)},data:function(e,t,n){return d.access(e,t,n)},removeData:function(e,t){d.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,i,o,r=this[0],s=r&&r.attributes;if(void 0!==n)return\\\"object\\\"==typeof n?this.each(function(){d.set(this,n)}):h(this,function(e){var t;if(r&&void 0===e)return void 0!==(t=d.get(r,n))||void 0!==(t=mt(r,n))?t:void 0;this.each(function(){d.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=d.get(r),1===r.nodeType)&&!v.get(r,\\\"hasDataAttrs\\\")){for(t=s.length;t--;)s[t]&&0===(i=s[t].name).indexOf(\\\"data-\\\")&&(i=k(i.slice(5)),mt(r,i,o[i]));v.set(r,\\\"hasDataAttrs\\\",!0)}return o},removeData:function(e){return this.each(function(){d.remove(this,e)})}}),E.extend({queue:function(e,t,n){var i;if(e)return i=v.get(e,t=(t||\\\"fx\\\")+\\\"queue\\\"),n&&(!i||Array.isArray(n)?i=v.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||\\\"fx\\\";var n=E.queue(e,t),i=n.length,o=n.shift(),r=E._queueHooks(e,t);\\\"inprogress\\\"===o&&(o=n.shift(),i--),o&&(\\\"fx\\\"===t&&n.unshift(\\\"inprogress\\\"),delete r.stop,o.call(e,function(){E.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+\\\"queueHooks\\\";return v.get(e,n)||v.access(e,n,{empty:E.Callbacks(\\\"once memory\\\").add(function(){v.remove(e,[t+\\\"queue\\\",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return\\\"string\\\"!=typeof t&&(n=t,t=\\\"fx\\\",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),\\\"fx\\\"===t&&\\\"inprogress\\\"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||\\\"fx\\\",[])},promise:function(e,t){var n,i=1,o=E.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for(\\\"string\\\"!=typeof e&&(t=e,e=void 0),e=e||\\\"fx\\\";s--;)(n=v.get(r[s],e+\\\"queueHooks\\\"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(t)}});var e=/[+-]?(?:\\\\d*\\\\.|)\\\\d+(?:[eE][+-]?\\\\d+|)/.source,pt=new RegExp(\\\"^(?:([+-])=|)(\\\"+e+\\\")([a-z%]*)$\\\",\\\"i\\\"),ft=[\\\"Top\\\",\\\"Right\\\",\\\"Bottom\\\",\\\"Left\\\"],gt=x.documentElement,vt=function(e){return E.contains(e.ownerDocument,e)},yt={composed:!0},Ct=(gt.getRootNode&&(vt=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(yt)===e.ownerDocument}),function(e,t){return\\\"none\\\"===(e=t||e).style.display||\\\"\\\"===e.style.display&&vt(e)&&\\\"none\\\"===E.css(e,\\\"display\\\")});function _t(e,t,n,i){var o,r,s=20,a=i?function(){return i.cur()}:function(){return E.css(e,t,\\\"\\\")},l=a(),d=n&&n[3]||(E.cssNumber[t]?\\\"\\\":\\\"px\\\"),h=e.nodeType&&(E.cssNumber[t]||\\\"px\\\"!==d&&+l)&&pt.exec(E.css(e,t));if(h&&h[3]!==d){for(d=d||h[3],h=+(l/=2)||1;s--;)E.style(e,t,h+d),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),h/=r;E.style(e,t,(h*=2)+d),n=n||[]}return n&&(h=+h||+l||0,o=n[1]?h+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=d,i.start=h,i.end=o),o}var bt={};function wt(e,t){for(var n,i,o,r,s,a,l=[],d=0,h=e.length;d<h;d++)(i=e[d]).style&&(n=i.style.display,t?(\\\"none\\\"===n&&(l[d]=v.get(i,\\\"display\\\")||null,l[d]||(i.style.display=\\\"\\\")),\\\"\\\"===i.style.display&&Ct(i)&&(l[d]=(a=s=r=void 0,r=(o=i).ownerDocument,s=o.nodeName,(a=bt[s])||(r=r.body.appendChild(r.createElement(s)),a=E.css(r,\\\"display\\\"),r.parentNode.removeChild(r),bt[s]=a=\\\"none\\\"===a?\\\"block\\\":a),a))):\\\"none\\\"!==n&&(l[d]=\\\"none\\\",v.set(i,\\\"display\\\",n)));for(d=0;d<h;d++)null!=l[d]&&(e[d].style.display=l[d]);return e}E.fn.extend({show:function(){return wt(this,!0)},hide:function(){return wt(this)},toggle:function(e){return\\\"boolean\\\"==typeof e?e?this.show():this.hide():this.each(function(){Ct(this)?E(this).show():E(this).hide()})}});var It=/^(?:checkbox|radio)$/i,xt=/<([a-z][^\\\\/\\\\0>\\\\x20\\\\t\\\\r\\\\n\\\\f]*)/i,Et=/^$|^module$|\\\\/(?:java|ecma)script/i,p=(r=x.createDocumentFragment().appendChild(x.createElement(\\\"div\\\")),(s=x.createElement(\\\"input\\\")).setAttribute(\\\"type\\\",\\\"radio\\\"),s.setAttribute(\\\"checked\\\",\\\"checked\\\"),s.setAttribute(\\\"name\\\",\\\"t\\\"),r.appendChild(s),f.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML=\\\"<textarea>x</textarea>\\\",f.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML=\\\"<option></option>\\\",f.option=!!r.lastChild,{thead:[1,\\\"<table>\\\",\\\"</table>\\\"],col:[2,\\\"<table><colgroup>\\\",\\\"</colgroup></table>\\\"],tr:[2,\\\"<table><tbody>\\\",\\\"</tbody></table>\\\"],td:[3,\\\"<table><tbody><tr>\\\",\\\"</tr></tbody></table>\\\"],_default:[0,\\\"\\\",\\\"\\\"]});function g(e,t){var n=\\\"undefined\\\"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||\\\"*\\\"):\\\"undefined\\\"!=typeof e.querySelectorAll?e.querySelectorAll(t||\\\"*\\\"):[];return void 0===t||t&&C(e,t)?E.merge([e],n):n}function St(e,t){for(var n=0,i=e.length;n<i;n++)v.set(e[n],\\\"globalEval\\\",!t||v.get(t[n],\\\"globalEval\\\"))}p.tbody=p.tfoot=p.colgroup=p.caption=p.thead,p.th=p.td,f.option||(p.optgroup=p.option=[1,\\\"<select multiple='multiple'>\\\",\\\"</select>\\\"]);var Tt=/<|&#?\\\\w+;/;function Lt(e,t,n,i,o){for(var r,s,a,l,d,h=t.createDocumentFragment(),u=[],c=0,m=e.length;c<m;c++)if((r=e[c])||0===r)if(\\\"object\\\"===Z(r))E.merge(u,r.nodeType?[r]:r);else if(Tt.test(r)){for(s=s||h.appendChild(t.createElement(\\\"div\\\")),a=(xt.exec(r)||[\\\"\\\",\\\"\\\"])[1].toLowerCase(),a=p[a]||p._default,s.innerHTML=a[1]+E.htmlPrefilter(r)+a[2],d=a[0];d--;)s=s.lastChild;E.merge(u,s.childNodes),(s=h.firstChild).textContent=\\\"\\\"}else u.push(t.createTextNode(r));for(h.textContent=\\\"\\\",c=0;r=u[c++];)if(i&&-1<E.inArray(r,i))o&&o.push(r);else if(l=vt(r),s=g(h.appendChild(r),\\\"script\\\"),l&&St(s),n)for(d=0;r=s[d++];)Et.test(r.type||\\\"\\\")&&n.push(r);return h}var zt=/^([^.]*)(?:\\\\.(.+)|)/;function Mt(){return!0}function Rt(){return!1}function kt(e,t,n,i,o,r){var s,a;if(\\\"object\\\"==typeof t){for(a in\\\"string\\\"!=typeof n&&(i=i||n,n=void 0),t)kt(e,a,n,i,t[a],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&(\\\"string\\\"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Rt;else if(!o)return e;return 1===r&&(s=o,(o=function(e){return E().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,i,n)})}function At(e,i,t){t?(v.set(e,i,!1),E.event.add(e,i,{namespace:!1,handler:function(e){var t,n=v.get(this,i);if(1&e.isTrigger&&this[i]){if(n)(E.event.special[i]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),v.set(this,i,n),this[i](),t=v.get(this,i),v.set(this,i,!1),n!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else n&&(v.set(this,i,E.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Mt)}})):void 0===v.get(e,i)&&E.event.add(e,i,Mt)}E.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,d,h,u,c,m,p=v.get(t);if(dt(t))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&E.find.matchesSelector(gt,o),n.guid||(n.guid=E.guid++),a=(a=p.events)||(p.events=Object.create(null)),s=(s=p.handle)||(p.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||\\\"\\\").match(R)||[\\\"\\\"]).length;l--;)u=m=(c=zt.exec(e[l])||[])[1],c=(c[2]||\\\"\\\").split(\\\".\\\").sort(),u&&(d=E.event.special[u]||{},u=(o?d.delegateType:d.bindType)||u,d=E.event.special[u]||{},m=E.extend({type:u,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:c.join(\\\".\\\")},r),(h=a[u])||((h=a[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,c,s))||t.addEventListener&&t.addEventListener(u,s),d.add&&(d.add.call(t,m),m.handler.guid||(m.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,m):h.push(m),E.event.global[u]=!0)},remove:function(e,t,n,i,o){var r,s,a,l,d,h,u,c,m,p,f,g=v.hasData(e)&&v.get(e);if(g&&(l=g.events)){for(d=(t=(t||\\\"\\\").match(R)||[\\\"\\\"]).length;d--;)if(m=f=(a=zt.exec(t[d])||[])[1],p=(a[2]||\\\"\\\").split(\\\".\\\").sort(),m){for(u=E.event.special[m]||{},c=l[m=(i?u.delegateType:u.bindType)||m]||[],a=a[2]&&new RegExp(\\\"(^|\\\\\\\\.)\\\"+p.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"),s=r=c.length;r--;)h=c[r],!o&&f!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&(\\\"**\\\"!==i||!h.selector)||(c.splice(r,1),h.selector&&c.delegateCount--,u.remove&&u.remove.call(e,h));s&&!c.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||E.removeEvent(e,m,g.handle),delete l[m])}else for(m in l)E.event.remove(e,m+t[d],n,i,!0);E.isEmptyObject(l)&&v.remove(e,\\\"handle events\\\")}},dispatch:function(e){var t,n,i,o,r,s=new Array(arguments.length),a=E.event.fix(e),l=(v.get(this,\\\"events\\\")||Object.create(null))[a.type]||[],d=E.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,a)){for(r=E.event.handlers.call(this,a,l),t=0;(i=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,s,a=[],l=t.delegateCount,d=e.target;if(l&&d.nodeType&&!(\\\"click\\\"===e.type&&1<=e.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&(\\\"click\\\"!==e.type||!0!==d.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=t[n]).selector+\\\" \\\"]&&(s[o]=i.needsContext?-1<E(o,this).index(d):E.find(o,this,null,[d]).length),s[o]&&r.push(i);r.length&&a.push({elem:d,handlers:r})}return d=this,l<t.length&&a.push({elem:d,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return It.test(t.type)&&t.click&&C(t,\\\"input\\\")&&At(t,\\\"click\\\",!0),!1},trigger:function(e){var t=this||e;return It.test(t.type)&&t.click&&C(t,\\\"input\\\")&&At(t,\\\"click\\\"),!0},_default:function(e){var t=e.target;return It.test(t.type)&&t.click&&C(t,\\\"input\\\")&&v.get(t,\\\"click\\\")||C(t,\\\"a\\\")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Mt:Rt,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Rt,isPropagationStopped:Rt,isImmediatePropagationStopped:Rt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Mt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Mt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Mt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,\\\"char\\\":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:\\\"focusin\\\",blur:\\\"focusout\\\"},function(i,o){function r(e){var t,n;x.documentMode?(t=v.get(this,\\\"handle\\\"),(n=E.event.fix(e)).type=\\\"focusin\\\"===e.type?\\\"focus\\\":\\\"blur\\\",n.isSimulated=!0,t(e),n.target===n.currentTarget&&t(n)):E.event.simulate(o,e.target,E.event.fix(e))}E.event.special[i]={setup:function(){var e;if(At(this,i,!0),!x.documentMode)return!1;(e=v.get(this,o))||this.addEventListener(o,r),v.set(this,o,(e||0)+1)},trigger:function(){return At(this,i),!0},teardown:function(){var e;if(!x.documentMode)return!1;(e=v.get(this,o)-1)?v.set(this,o,e):(this.removeEventListener(o,r),v.remove(this,o))},_default:function(e){return v.get(e.target,i)},delegateType:o},E.event.special[o]={setup:function(){var e=this.ownerDocument||this.document||this,t=x.documentMode?this:e,n=v.get(t,o);n||(x.documentMode?this.addEventListener(o,r):e.addEventListener(i,r,!0)),v.set(t,o,(n||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=x.documentMode?this:e,n=v.get(t,o)-1;n?v.set(t,o,n):(x.documentMode?this.removeEventListener(o,r):e.removeEventListener(i,r,!0),v.remove(t,o))}}}),E.each({mouseenter:\\\"mouseover\\\",mouseleave:\\\"mouseout\\\",pointerenter:\\\"pointerover\\\",pointerleave:\\\"pointerout\\\"},function(e,o){E.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),E.fn.extend({on:function(e,t,n,i){return kt(this,e,t,n,i)},one:function(e,t,n,i){return kt(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+\\\".\\\"+i.namespace:i.origType,i.selector,i.handler);else{if(\\\"object\\\"!=typeof e)return!1!==t&&\\\"function\\\"!=typeof t||(n=t,t=void 0),!1===n&&(n=Rt),this.each(function(){E.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o])}return this}});var Pt=/<script|<style|<link/i,Dt=/checked\\\\s*(?:[^=]|=\\\\s*.checked.)/i,Ut=/^\\\\s*<!\\\\[CDATA\\\\[|\\\\]\\\\]>\\\\s*$/g;function Ht(e,t){return C(e,\\\"table\\\")&&C(11!==t.nodeType?t:t.firstChild,\\\"tr\\\")&&E(e).children(\\\"tbody\\\")[0]||e}function Ot(e){return e.type=(null!==e.getAttribute(\\\"type\\\"))+\\\"/\\\"+e.type,e}function Wt(e){return\\\"true/\\\"===(e.type||\\\"\\\").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute(\\\"type\\\"),e}function Nt(e,t){var n,i,o,r,s;if(1===t.nodeType){if(v.hasData(e)&&(s=v.get(e).events))for(o in v.remove(t,\\\"handle events\\\"),s)for(n=0,i=s[o].length;n<i;n++)E.event.add(t,o,s[o][n]);d.hasData(e)&&(r=d.access(e),r=E.extend({},r),d.set(t,r))}}function jt(n,i,o,r){i=O(i);var e,t,s,a,l,d,h=0,u=n.length,c=u-1,m=i[0],p=y(m);if(p||1<u&&\\\"string\\\"==typeof m&&!f.checkClone&&Dt.test(m))return n.each(function(e){var t=n.eq(e);p&&(i[0]=m.call(this,e,t.html())),jt(t,i,o,r)});if(u&&(t=(e=Lt(i,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(a=(s=E.map(g(e,\\\"script\\\"),Ot)).length;h<u;h++)l=e,h!==c&&(l=E.clone(l,!0,!0),a)&&E.merge(s,g(l,\\\"script\\\")),o.call(n[h],l,h);if(a)for(d=s[s.length-1].ownerDocument,E.map(s,Wt),h=0;h<a;h++)l=s[h],Et.test(l.type||\\\"\\\")&&!v.access(l,\\\"globalEval\\\")&&E.contains(d,l)&&(l.src&&\\\"module\\\"!==(l.type||\\\"\\\").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute(\\\"nonce\\\")},d):$(l.textContent.replace(Ut,\\\"\\\"),l,d))}return n}function Bt(e,t,n){for(var i,o=t?E.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||E.cleanData(g(i)),i.parentNode&&(n&&vt(i)&&St(g(i,\\\"script\\\")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,r,s,a,l,d,h=e.cloneNode(!0),u=vt(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(s=g(h),i=0,o=(r=g(e)).length;i<o;i++)a=r[i],l=s[i],d=void 0,\\\"input\\\"===(d=l.nodeName.toLowerCase())&&It.test(a.type)?l.checked=a.checked:\\\"input\\\"!==d&&\\\"textarea\\\"!==d||(l.defaultValue=a.defaultValue);if(t)if(n)for(r=r||g(e),s=s||g(h),i=0,o=r.length;i<o;i++)Nt(r[i],s[i]);else Nt(e,h);return 0<(s=g(h,\\\"script\\\")).length&&St(s,!u&&g(e,\\\"script\\\")),h},cleanData:function(e){for(var t,n,i,o=E.event.special,r=0;void 0!==(n=e[r]);r++)if(dt(n)){if(t=n[v.expando]){if(t.events)for(i in t.events)o[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[v.expando]=void 0}n[d.expando]&&(n[d.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Bt(this,e,!0)},remove:function(e){return Bt(this,e)},text:function(e){return h(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return jt(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ht(this,e).appendChild(e)})},prepend:function(){return jt(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ht(this,e)).insertBefore(e,t.firstChild)})},before:function(){return jt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return jt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(g(e,!1)),e.textContent=\\\"\\\");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return h(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if(\\\"string\\\"==typeof e&&!Pt.test(e)&&!p[(xt.exec(e)||[\\\"\\\",\\\"\\\"])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(o){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return jt(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(g(this)),t)&&t.replaceChild(e,this)},n)}}),E.each({appendTo:\\\"append\\\",prependTo:\\\"prepend\\\",insertBefore:\\\"before\\\",insertAfter:\\\"after\\\",replaceAll:\\\"replaceWith\\\"},function(e,s){E.fn[e]=function(e){for(var t,n=[],i=E(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),E(i[r])[s](t),W.apply(n,t.get());return this.pushStack(n)}});var Ft,qt,Vt,Gt,$t,Zt,Xt,A,Yt=new RegExp(\\\"^(\\\"+e+\\\")(?!px)[a-z%]+$\\\",\\\"i\\\"),Jt=/^--/,Qt=function(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:I).getComputedStyle(e)},Kt=function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.call(e),t)e.style[o]=r[o];return i},en=new RegExp(ft.join(\\\"|\\\"),\\\"i\\\");function tn(){var e;A&&(Xt.style.cssText=\\\"position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0\\\",A.style.cssText=\\\"position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%\\\",gt.appendChild(Xt).appendChild(A),e=I.getComputedStyle(A),Ft=\\\"1%\\\"!==e.top,Zt=12===nn(e.marginLeft),A.style.right=\\\"60%\\\",Gt=36===nn(e.right),qt=36===nn(e.width),A.style.position=\\\"absolute\\\",Vt=12===nn(A.offsetWidth/3),gt.removeChild(Xt),A=null)}function nn(e){return Math.round(parseFloat(e))}function on(e,t,n){var i,o,r,s=Jt.test(t),a=e.style;return(n=n||Qt(e))&&(r=n.getPropertyValue(t)||n[t],\\\"\\\"!==(r=s?r&&(r.replace(ee,\\\"$1\\\")||void 0):r)||vt(e)||(r=E.style(e,t)),!f.pixelBoxStyles())&&Yt.test(r)&&en.test(t)&&(s=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=s,a.minWidth=i,a.maxWidth=o),void 0!==r?r+\\\"\\\":r}function rn(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Xt=x.createElement(\\\"div\\\"),(A=x.createElement(\\\"div\\\")).style&&(A.style.backgroundClip=\\\"content-box\\\",A.cloneNode(!0).style.backgroundClip=\\\"\\\",f.clearCloneStyle=\\\"content-box\\\"===A.style.backgroundClip,E.extend(f,{boxSizingReliable:function(){return tn(),qt},pixelBoxStyles:function(){return tn(),Gt},pixelPosition:function(){return tn(),Ft},reliableMarginLeft:function(){return tn(),Zt},scrollboxSize:function(){return tn(),Vt},reliableTrDimensions:function(){var e,t,n;return null==$t&&(e=x.createElement(\\\"table\\\"),t=x.createElement(\\\"tr\\\"),n=x.createElement(\\\"div\\\"),e.style.cssText=\\\"position:absolute;left:-11111px;border-collapse:separate\\\",t.style.cssText=\\\"box-sizing:content-box;border:1px solid\\\",t.style.height=\\\"1px\\\",n.style.height=\\\"9px\\\",n.style.display=\\\"block\\\",gt.appendChild(e).appendChild(t).appendChild(n),n=I.getComputedStyle(t),$t=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,gt.removeChild(e)),$t}}));var sn=[\\\"Webkit\\\",\\\"Moz\\\",\\\"ms\\\"],an=x.createElement(\\\"div\\\").style,ln={};function dn(e){var t=E.cssProps[e]||ln[e];return t||(e in an?e:ln[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=sn.length;n--;)if((e=sn[n]+t)in an)return e}(e)||e)}var hn=/^(none|table(?!-c[ea]).+)/,un={position:\\\"absolute\\\",visibility:\\\"hidden\\\",display:\\\"block\\\"},cn={letterSpacing:\\\"0\\\",fontWeight:\\\"400\\\"};function mn(e,t,n){var i=pt.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||\\\"px\\\"):t}function pn(e,t,n,i,o,r){var s=\\\"width\\\"===t?1:0,a=0,l=0,d=0;if(n===(i?\\\"border\\\":\\\"content\\\"))return 0;for(;s<4;s+=2)\\\"margin\\\"===n&&(d+=E.css(e,n+ft[s],!0,o)),i?(\\\"content\\\"===n&&(l-=E.css(e,\\\"padding\\\"+ft[s],!0,o)),\\\"margin\\\"!==n&&(l-=E.css(e,\\\"border\\\"+ft[s]+\\\"Width\\\",!0,o))):(l+=E.css(e,\\\"padding\\\"+ft[s],!0,o),\\\"padding\\\"!==n?l+=E.css(e,\\\"border\\\"+ft[s]+\\\"Width\\\",!0,o):a+=E.css(e,\\\"border\\\"+ft[s]+\\\"Width\\\",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(e[\\\"offset\\\"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l+d}function fn(e,t,n){var i=Qt(e),o=(!f.boxSizingReliable()||n)&&\\\"border-box\\\"===E.css(e,\\\"boxSizing\\\",!1,i),r=o,s=on(e,t,i),a=\\\"offset\\\"+t[0].toUpperCase()+t.slice(1);if(Yt.test(s)){if(!n)return s;s=\\\"auto\\\"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&C(e,\\\"tr\\\")||\\\"auto\\\"===s||!parseFloat(s)&&\\\"inline\\\"===E.css(e,\\\"display\\\",!1,i))&&e.getClientRects().length&&(o=\\\"border-box\\\"===E.css(e,\\\"boxSizing\\\",!1,i),r=a in e)&&(s=e[a]),(s=parseFloat(s)||0)+pn(e,t,n||(o?\\\"border\\\":\\\"content\\\"),r,i,s)+\\\"px\\\"}function P(e,t,n,i,o){return new P.prototype.init(e,t,n,i,o)}E.extend({cssHooks:{opacity:{get:function(e,t){var n;if(t)return\\\"\\\"===(n=on(e,\\\"opacity\\\"))?\\\"1\\\":n}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,s,a=k(t),l=Jt.test(t),d=e.style;if(l||(t=dn(a)),s=E.cssHooks[t]||E.cssHooks[a],void 0===n)return s&&\\\"get\\\"in s&&void 0!==(o=s.get(e,!1,i))?o:d[t];\\\"string\\\"===(r=typeof n)&&(o=pt.exec(n))&&o[1]&&(n=_t(e,t,o),r=\\\"number\\\"),null==n||n!=n||(\\\"number\\\"!==r||l||(n+=o&&o[3]||(E.cssNumber[a]?\\\"\\\":\\\"px\\\")),f.clearCloneStyle||\\\"\\\"!==n||0!==t.indexOf(\\\"background\\\")||(d[t]=\\\"inherit\\\"),s&&\\\"set\\\"in s&&void 0===(n=s.set(e,n,i)))||(l?d.setProperty(t,n):d[t]=n)}},css:function(e,t,n,i){var o,r=k(t);return Jt.test(t)||(t=dn(r)),\\\"normal\\\"===(o=void 0===(o=(r=E.cssHooks[t]||E.cssHooks[r])&&\\\"get\\\"in r?r.get(e,!0,n):o)?on(e,t,i):o)&&t in cn&&(o=cn[t]),(\\\"\\\"===n||n)&&(r=parseFloat(o),!0===n||isFinite(r))?r||0:o}}),E.each([\\\"height\\\",\\\"width\\\"],function(e,a){E.cssHooks[a]={get:function(e,t,n){if(t)return!hn.test(E.css(e,\\\"display\\\"))||e.getClientRects().length&&e.getBoundingClientRect().width?fn(e,a,n):Kt(e,un,function(){return fn(e,a,n)})},set:function(e,t,n){var i=Qt(e),o=!f.scrollboxSize()&&\\\"absolute\\\"===i.position,r=(o||n)&&\\\"border-box\\\"===E.css(e,\\\"boxSizing\\\",!1,i),s=n?pn(e,a,n,r,i):0;return r&&o&&(s-=Math.ceil(e[\\\"offset\\\"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-pn(e,a,\\\"border\\\",!1,i)-.5)),s&&(r=pt.exec(t))&&\\\"px\\\"!==(r[3]||\\\"px\\\")&&(e.style[a]=t,t=E.css(e,a)),mn(0,t,s)}}}),E.cssHooks.marginLeft=rn(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(on(e,\\\"marginLeft\\\"))||e.getBoundingClientRect().left-Kt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+\\\"px\\\"}),E.each({margin:\\\"\\\",padding:\\\"\\\",border:\\\"Width\\\"},function(o,r){E.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i=\\\"string\\\"==typeof e?e.split(\\\" \\\"):[e];t<4;t++)n[o+ft[t]+r]=i[t]||i[t-2]||i[0];return n}},\\\"margin\\\"!==o&&(E.cssHooks[o+r].set=mn)}),E.fn.extend({css:function(e,t){return h(this,function(e,t,n){var i,o,r={},s=0;if(Array.isArray(t)){for(i=Qt(e),o=t.length;s<o;s++)r[t[s]]=E.css(e,t[s],!1,i);return r}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=P).prototype={constructor:P,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(E.cssNumber[n]?\\\"\\\":\\\"px\\\")},cur:function(){var e=P.propHooks[this.prop];return(e&&e.get?e:P.propHooks._default).get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:P.propHooks._default).set(this),this}}).init.prototype=P.prototype,(P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,\\\"\\\"))&&\\\"auto\\\"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[dn(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:\\\"swing\\\"},E.fx=P.prototype.init,E.fx.step={};var gn,vn,yn=/^(?:toggle|show|hide)$/,Cn=/queueHooks$/;function _n(){vn&&(!1===x.hidden&&I.requestAnimationFrame?I.requestAnimationFrame(_n):I.setTimeout(_n,E.fx.interval),E.fx.tick())}function bn(){return I.setTimeout(function(){gn=void 0}),gn=Date.now()}function wn(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o[\\\"margin\\\"+(n=ft[i])]=o[\\\"padding\\\"+n]=e;return t&&(o.opacity=o.width=e),o}function In(e,t,n){for(var i,o=(D.tweeners[t]||[]).concat(D.tweeners[\\\"*\\\"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,t,e))return i}function D(o,e,t){var n,r,i,s,a,l,d,h=0,u=D.prefilters.length,c=E.Deferred().always(function(){delete m.elem}),m=function(){if(!r){for(var e=gn||bn(),e=Math.max(0,p.startTime+p.duration-e),t=1-(e/p.duration||0),n=0,i=p.tweens.length;n<i;n++)p.tweens[n].run(t);if(c.notifyWith(o,[p,t,e]),t<1&&i)return e;i||c.notifyWith(o,[p,1,0]),c.resolveWith(o,[p])}return!1},p=c.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:gn||bn(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,p.opts,e,t,p.opts.specialEasing[e]||p.opts.easing);return p.tweens.push(n),n},stop:function(e){var t=0,n=e?p.tweens.length:0;if(!r){for(r=!0;t<n;t++)p.tweens[t].run(1);e?(c.notifyWith(o,[p,1,0]),c.resolveWith(o,[p,e])):c.rejectWith(o,[p,e])}return this}}),f=p.props,g=f,v=p.opts.specialEasing;for(i in g)if(a=v[s=k(i)],l=g[i],Array.isArray(l)&&(a=l[1],l=g[i]=l[0]),i!==s&&(g[s]=l,delete g[i]),(d=E.cssHooks[s])&&\\\"expand\\\"in d)for(i in l=d.expand(l),delete g[s],l)i in g||(g[i]=l[i],v[i]=a);else v[s]=a;for(;h<u;h++)if(n=D.prefilters[h].call(p,o,f,p.opts))return y(n.stop)&&(E._queueHooks(p.elem,p.opts.queue).stop=n.stop.bind(n)),n;return E.map(f,In,p),y(p.opts.start)&&p.opts.start.call(o,p),p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always),E.fx.timer(E.extend(m,{elem:o,anim:p,queue:p.opts.queue})),p}E.Animation=E.extend(D,{tweeners:{\\\"*\\\":[function(e,t){var n=this.createTween(e,t);return _t(n.elem,e,pt.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=y(e)?(t=e,[\\\"*\\\"]):e.match(R)).length;i<o;i++)n=e[i],D.tweeners[n]=D.tweeners[n]||[],D.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,s,a,l,d,h=\\\"width\\\"in t||\\\"height\\\"in t,u=this,c={},m=e.style,p=e.nodeType&&Ct(e),f=v.get(e,\\\"fxshow\\\");for(i in n.queue||(null==(s=E._queueHooks(e,\\\"fx\\\")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,E.queue(e,\\\"fx\\\").length||s.empty.fire()})})),t)if(o=t[i],yn.test(o)){if(delete t[i],r=r||\\\"toggle\\\"===o,o===(p?\\\"hide\\\":\\\"show\\\")){if(\\\"show\\\"!==o||!f||void 0===f[i])continue;p=!0}c[i]=f&&f[i]||E.style(e,i)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(c))for(i in h&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(d=f&&f.display)&&(d=v.get(e,\\\"display\\\")),\\\"none\\\"===(h=E.css(e,\\\"display\\\"))&&(d?h=d:(wt([e],!0),d=e.style.display||d,h=E.css(e,\\\"display\\\"),wt([e]))),\\\"inline\\\"===h||\\\"inline-block\\\"===h&&null!=d)&&\\\"none\\\"===E.css(e,\\\"float\\\")&&(l||(u.done(function(){m.display=d}),null==d&&(h=m.display,d=\\\"none\\\"===h?\\\"\\\":h)),m.display=\\\"inline-block\\\"),n.overflow&&(m.overflow=\\\"hidden\\\",u.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),l=!1,c)l||(f?\\\"hidden\\\"in f&&(p=f.hidden):f=v.access(e,\\\"fxshow\\\",{display:d}),r&&(f.hidden=!p),p&&wt([e],!0),u.done(function(){for(i in p||wt([e]),v.remove(e,\\\"fxshow\\\"),c)E.style(e,i,c[i])})),l=In(p?f[i]:0,i,u),i in f||(f[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?D.prefilters.unshift(e):D.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&\\\"object\\\"==typeof e?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?i.duration=0:\\\"number\\\"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue=\\\"fx\\\"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ct).css(\\\"opacity\\\",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var o=E.isEmptyObject(t),r=E.speed(e,n,i),s=function(){var e=D(this,E.extend({},t),r);(o||v.get(this,\\\"finish\\\"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(o,e,r){var s=function(e){var t=e.stop;delete e.stop,t(r)};return\\\"string\\\"!=typeof o&&(r=e,e=o,o=void 0),e&&this.queue(o||\\\"fx\\\",[]),this.each(function(){var e=!0,t=null!=o&&o+\\\"queueHooks\\\",n=E.timers,i=v.get(this);if(t)i[t]&&i[t].stop&&s(i[t]);else for(t in i)i[t]&&i[t].stop&&Cn.test(t)&&s(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||E.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||\\\"fx\\\"),this.each(function(){var e,t=v.get(this),n=t[s+\\\"queue\\\"],i=t[s+\\\"queueHooks\\\"],o=E.timers,r=n?n.length:0;for(t.finish=!0,E.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===s&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each([\\\"toggle\\\",\\\"show\\\",\\\"hide\\\"],function(e,i){var o=E.fn[i];E.fn[i]=function(e,t,n){return null==e||\\\"boolean\\\"==typeof e?o.apply(this,arguments):this.animate(wn(i,!0),e,t,n)}}),E.each({slideDown:wn(\\\"show\\\"),slideUp:wn(\\\"hide\\\"),slideToggle:wn(\\\"toggle\\\"),fadeIn:{opacity:\\\"show\\\"},fadeOut:{opacity:\\\"hide\\\"},fadeToggle:{opacity:\\\"toggle\\\"}},function(e,i){E.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(gn=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),gn=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){vn||(vn=!0,_n())},E.fx.stop=function(){vn=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(i,e){return i=E.fx&&E.fx.speeds[i]||i,this.queue(e=e||\\\"fx\\\",function(e,t){var n=I.setTimeout(e,i);t.stop=function(){I.clearTimeout(n)}})},s=x.createElement(\\\"input\\\"),r=x.createElement(\\\"select\\\").appendChild(x.createElement(\\\"option\\\")),s.type=\\\"checkbox\\\",f.checkOn=\\\"\\\"!==s.value,f.optSelected=r.selected,(s=x.createElement(\\\"input\\\")).value=\\\"t\\\",s.type=\\\"radio\\\",f.radioValue=\\\"t\\\"===s.value;var xn,En=E.expr.attrHandle,Sn=(E.fn.extend({attr:function(e,t){return h(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return\\\"undefined\\\"==typeof e.getAttribute?E.prop(e,t,n):(1===r&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?xn:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&\\\"set\\\"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+\\\"\\\"),n):!(o&&\\\"get\\\"in o&&null!==(i=o.get(e,t)))&&null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!f.radioValue&&\\\"radio\\\"===t&&C(e,\\\"input\\\"))return n=e.value,e.setAttribute(\\\"type\\\",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(R);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),xn={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\\\\w+/g),function(e,t){var s=En[t]||E.find.attr;En[t]=function(e,t,n){var i,o,r=t.toLowerCase();return n||(o=En[r],En[r]=i,i=null!=s(e,t,n)?r:null,En[r]=o),i}}),/^(?:input|select|textarea|button)$/i),Tn=/^(?:a|area)$/i;function Ln(e){return(e.match(R)||[]).join(\\\" \\\")}function zn(e){return e.getAttribute&&e.getAttribute(\\\"class\\\")||\\\"\\\"}function Mn(e){return Array.isArray(e)?e:\\\"string\\\"==typeof e&&e.match(R)||[]}E.fn.extend({prop:function(e,t){return h(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&\\\"set\\\"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&\\\"get\\\"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,\\\"tabindex\\\");return t?parseInt(t,10):Sn.test(e.nodeName)||Tn.test(e.nodeName)&&e.href?0:-1}}},propFix:{\\\"for\\\":\\\"htmlFor\\\",\\\"class\\\":\\\"className\\\"}}),f.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode)&&t.parentNode.selectedIndex}}),E.each([\\\"tabIndex\\\",\\\"readOnly\\\",\\\"maxLength\\\",\\\"cellSpacing\\\",\\\"cellPadding\\\",\\\"rowSpan\\\",\\\"colSpan\\\",\\\"useMap\\\",\\\"frameBorder\\\",\\\"contentEditable\\\"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,o,r,s;return y(t)?this.each(function(e){E(this).addClass(t.call(this,e,zn(this)))}):(e=Mn(t)).length?this.each(function(){if(i=zn(this),n=1===this.nodeType&&\\\" \\\"+Ln(i)+\\\" \\\"){for(r=0;r<e.length;r++)o=e[r],n.indexOf(\\\" \\\"+o+\\\" \\\")<0&&(n+=o+\\\" \\\");s=Ln(n),i!==s&&this.setAttribute(\\\"class\\\",s)}}):this},removeClass:function(t){var e,n,i,o,r,s;return y(t)?this.each(function(e){E(this).removeClass(t.call(this,e,zn(this)))}):arguments.length?(e=Mn(t)).length?this.each(function(){if(i=zn(this),n=1===this.nodeType&&\\\" \\\"+Ln(i)+\\\" \\\"){for(r=0;r<e.length;r++)for(o=e[r];-1<n.indexOf(\\\" \\\"+o+\\\" \\\");)n=n.replace(\\\" \\\"+o+\\\" \\\",\\\" \\\");s=Ln(n),i!==s&&this.setAttribute(\\\"class\\\",s)}}):this:this.attr(\\\"class\\\",\\\"\\\")},toggleClass:function(t,n){var e,i,o,r,s=typeof t,a=\\\"string\\\"==s||Array.isArray(t);return y(t)?this.each(function(e){E(this).toggleClass(t.call(this,e,zn(this),n),n)}):\\\"boolean\\\"==typeof n&&a?n?this.addClass(t):this.removeClass(t):(e=Mn(t),this.each(function(){if(a)for(r=E(this),o=0;o<e.length;o++)i=e[o],r.hasClass(i)?r.removeClass(i):r.addClass(i);else void 0!==t&&\\\"boolean\\\"!=s||((i=zn(this))&&v.set(this,\\\"__className__\\\",i),this.setAttribute&&this.setAttribute(\\\"class\\\",!i&&!1!==t&&v.get(this,\\\"__className__\\\")||\\\"\\\"))}))},hasClass:function(e){for(var t,n=0,i=\\\" \\\"+e+\\\" \\\";t=this[n++];)if(1===t.nodeType&&-1<(\\\" \\\"+Ln(zn(t))+\\\" \\\").indexOf(i))return!0;return!1}});var Rn=/\\\\r/g,kn=(E.fn.extend({val:function(n){var i,e,o,t=this[0];return arguments.length?(o=y(n),this.each(function(e){var t;1!==this.nodeType||(null==(t=o?n.call(this,e,E(this).val()):n)?t=\\\"\\\":\\\"number\\\"==typeof t?t+=\\\"\\\":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?\\\"\\\":e+\\\"\\\"})),(i=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&\\\"set\\\"in i&&void 0!==i.set(this,t,\\\"value\\\"))||(this.value=t)})):t?(i=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&\\\"get\\\"in i&&void 0!==(e=i.get(t,\\\"value\\\"))?e:\\\"string\\\"==typeof(e=t.value)?e.replace(Rn,\\\"\\\"):null==e?\\\"\\\":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,\\\"value\\\");return null!=t?t:Ln(E.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o=\\\"select-one\\\"===e.type,r=o?null:[],s=o?i+1:n.length,a=i<0?s:o?i:0;a<s;a++)if(((t=n[a]).selected||a===i)&&!t.disabled&&(!t.parentNode.disabled||!C(t.parentNode,\\\"optgroup\\\"))){if(t=E(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=E.makeArray(t),s=o.length;s--;)((i=o[s]).selected=-1<E.inArray(E.valHooks.option.get(i),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),E.each([\\\"radio\\\",\\\"checkbox\\\"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},f.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute(\\\"value\\\")?\\\"on\\\":e.value})}),I.location),An={guid:Date.now()},Pn=/\\\\?/,Dn=(E.parseXML=function(e){var t,n;if(!e||\\\"string\\\"!=typeof e)return null;try{t=(new I.DOMParser).parseFromString(e,\\\"text/xml\\\")}catch(i){}return n=t&&t.getElementsByTagName(\\\"parsererror\\\")[0],t&&!n||E.error(\\\"Invalid XML: \\\"+(n?E.map(n.childNodes,function(e){return e.textContent}).join(\\\"\\\\n\\\"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Un=function(e){e.stopPropagation()},Hn=(E.extend(E.event,{trigger:function(e,t,n,i){var o,r,s,a,l,d,h,u=[n||x],c=B.call(e,\\\"type\\\")?e.type:e,m=B.call(e,\\\"namespace\\\")?e.namespace.split(\\\".\\\"):[],p=h=r=n=n||x;if(3!==n.nodeType&&8!==n.nodeType&&!Dn.test(c+E.event.triggered)&&(-1<c.indexOf(\\\".\\\")&&(c=(m=c.split(\\\".\\\")).shift(),m.sort()),a=c.indexOf(\\\":\\\")<0&&\\\"on\\\"+c,(e=e[E.expando]?e:new E.Event(c,\\\"object\\\"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join(\\\".\\\"),e.rnamespace=e.namespace?new RegExp(\\\"(^|\\\\\\\\.)\\\"+m.join(\\\"\\\\\\\\.(?:.*\\\\\\\\.|)\\\")+\\\"(\\\\\\\\.|$)\\\"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),d=E.event.special[c]||{},i||!d.trigger||!1!==d.trigger.apply(n,t))){if(!i&&!d.noBubble&&!V(n)){for(s=d.delegateType||c,Dn.test(s+c)||(p=p.parentNode);p;p=p.parentNode)u.push(p),r=p;r===(n.ownerDocument||x)&&u.push(r.defaultView||r.parentWindow||I)}for(o=0;(p=u[o++])&&!e.isPropagationStopped();)h=p,e.type=1<o?s:d.bindType||c,(l=(v.get(p,\\\"events\\\")||Object.create(null))[e.type]&&v.get(p,\\\"handle\\\"))&&l.apply(p,t),(l=a&&p[a])&&l.apply&&dt(p)&&(e.result=l.apply(p,t),!1===e.result)&&e.preventDefault();return e.type=c,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(u.pop(),t)||!dt(n)||a&&y(n[c])&&!V(n)&&((r=n[a])&&(n[a]=null),E.event.triggered=c,e.isPropagationStopped()&&h.addEventListener(c,Un),n[c](),e.isPropagationStopped()&&h.removeEventListener(c,Un),E.event.triggered=void 0,r)&&(n[a]=r),e.result}},simulate:function(e,t,n){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(i,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),/\\\\[\\\\]$/),On=/\\\\r?\\\\n/g,Wn=/^(?:submit|button|image|reset|file)$/i,Nn=/^(?:input|select|textarea|keygen)/i;E.param=function(e,t){var n,i=[],o=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+\\\"=\\\"+encodeURIComponent(null==n?\\\"\\\":n)};if(null==e)return\\\"\\\";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){o(this.name,this.value)});else for(n in e)!function r(n,e,i,o){if(Array.isArray(e))E.each(e,function(e,t){i||Hn.test(n)?o(n,t):r(n+\\\"[\\\"+(\\\"object\\\"==typeof t&&null!=t?e:\\\"\\\")+\\\"]\\\",t,i,o)});else if(i||\\\"object\\\"!==Z(e))o(n,e);else for(var t in e)r(n+\\\"[\\\"+t+\\\"]\\\",e[t],i,o)}(n,e[n],t,o);return i.join(\\\"&\\\")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,\\\"elements\\\");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(\\\":disabled\\\")&&Nn.test(this.nodeName)&&!Wn.test(e)&&(this.checked||!It.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(On,\\\"\\\\r\\\\n\\\")}}):{name:t.name,value:n.replace(On,\\\"\\\\r\\\\n\\\")}}).get()}});var jn=/%20/g,Bn=/#.*$/,Fn=/([?&])_=[^&]*/,qn=/^(.*?):[ \\\\t]*([^\\\\r\\\\n]*)$/gm,Vn=/^(?:GET|HEAD)$/,Gn=/^\\\\/\\\\//,$n={},Zn={},Xn=\\\"*/\\\".concat(\\\"*\\\"),Yn=x.createElement(\\\"a\\\");function Jn(r){return function(e,t){\\\"string\\\"!=typeof e&&(t=e,e=\\\"*\\\");var n,i=0,o=e.toLowerCase().match(R)||[];if(y(t))for(;n=o[i++];)\\\"+\\\"===n[0]?(n=n.slice(1)||\\\"*\\\",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Qn(t,o,r,s){var a={},l=t===Zn;function d(e){var i;return a[e]=!0,E.each(t[e]||[],function(e,t){var n=t(o,r,s);return\\\"string\\\"!=typeof n||l||a[n]?l?!(i=n):void 0:(o.dataTypes.unshift(n),d(n),!1)}),i}return d(o.dataTypes[0])||!a[\\\"*\\\"]&&d(\\\"*\\\")}function Kn(e,t){var n,i,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&E.extend(!0,e,i),e}function ei(e,t,n,i){var o,r,s,a,l,d={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)d[s.toLowerCase()]=e.converters[s];for(r=h.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=h.shift())if(\\\"*\\\"===r)r=l;else if(\\\"*\\\"!==l&&l!==r){if(!(s=d[l+\\\" \\\"+r]||d[\\\"* \\\"+r]))for(o in d)if((a=o.split(\\\" \\\"))[1]===r&&(s=d[l+\\\" \\\"+a[0]]||d[\\\"* \\\"+a[0]])){!0===s?s=d[o]:!0!==d[o]&&(r=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e[\\\"throws\\\"])t=s(t);else try{t=s(t)}catch(u){return{state:\\\"parsererror\\\",error:s?u:\\\"No conversion from \\\"+l+\\\" to \\\"+r}}}return{state:\\\"success\\\",data:t}}Yn.href=kn.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kn.href,type:\\\"GET\\\",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kn.protocol),global:!0,processData:!0,\\\"async\\\":!0,contentType:\\\"application/x-www-form-urlencoded; charset=UTF-8\\\",accepts:{\\\"*\\\":Xn,text:\\\"text/plain\\\",html:\\\"text/html\\\",xml:\\\"application/xml, text/xml\\\",json:\\\"application/json, text/javascript\\\"},contents:{xml:/\\\\bxml\\\\b/,html:/\\\\bhtml/,json:/\\\\bjson\\\\b/},responseFields:{xml:\\\"responseXML\\\",text:\\\"responseText\\\",json:\\\"responseJSON\\\"},converters:{\\\"* text\\\":String,\\\"text html\\\":!0,\\\"text json\\\":JSON.parse,\\\"text xml\\\":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kn(Kn(e,E.ajaxSettings),t):Kn(E.ajaxSettings,e)},ajaxPrefilter:Jn($n),ajaxTransport:Jn(Zn),ajax:function(e,t){\\\"object\\\"==typeof e&&(t=e,e=void 0);var h,u,c,n,m,p,f,i,o,g=E.ajaxSetup({},t=t||{}),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?E(v):E.event,C=E.Deferred(),_=E.Callbacks(\\\"once memory\\\"),b=g.statusCode||{},r={},s={},a=\\\"canceled\\\",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=qn.exec(c);)n[t[1].toLowerCase()+\\\" \\\"]=(n[t[1].toLowerCase()+\\\" \\\"]||[]).concat(t[2]);t=n[e.toLowerCase()+\\\" \\\"]}return null==t?null:t.join(\\\", \\\")},getAllResponseHeaders:function(){return p?c:null},setRequestHeader:function(e,t){return null==p&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,r[e]=t),this},overrideMimeType:function(e){return null==p&&(g.mimeType=e),this},statusCode:function(e){if(e)if(p)w.always(e[w.status]);else for(var t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||a;return h&&h.abort(t),l(0,t),this}};if(C.promise(w),g.url=((e||g.url||kn.href)+\\\"\\\").replace(Gn,kn.protocol+\\\"//\\\"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||\\\"*\\\").toLowerCase().match(R)||[\\\"\\\"],null==g.crossDomain){o=x.createElement(\\\"a\\\");try{o.href=g.url,o.href=o.href,g.crossDomain=Yn.protocol+\\\"//\\\"+Yn.host!=o.protocol+\\\"//\\\"+o.host}catch(d){g.crossDomain=!0}}if(g.data&&g.processData&&\\\"string\\\"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),Qn($n,g,t,w),!p){for(i in(f=E.event&&g.global)&&0==E.active++&&E.event.trigger(\\\"ajaxStart\\\"),g.type=g.type.toUpperCase(),g.hasContent=!Vn.test(g.type),u=g.url.replace(Bn,\\\"\\\"),g.hasContent?g.data&&g.processData&&0===(g.contentType||\\\"\\\").indexOf(\\\"application/x-www-form-urlencoded\\\")&&(g.data=g.data.replace(jn,\\\"+\\\")):(o=g.url.slice(u.length),g.data&&(g.processData||\\\"string\\\"==typeof g.data)&&(u+=(Pn.test(u)?\\\"&\\\":\\\"?\\\")+g.data,delete g.data),!1===g.cache&&(u=u.replace(Fn,\\\"$1\\\"),o=(Pn.test(u)?\\\"&\\\":\\\"?\\\")+\\\"_=\\\"+An.guid+++o),g.url=u+o),g.ifModified&&(E.lastModified[u]&&w.setRequestHeader(\\\"If-Modified-Since\\\",E.lastModified[u]),E.etag[u])&&w.setRequestHeader(\\\"If-None-Match\\\",E.etag[u]),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&w.setRequestHeader(\\\"Content-Type\\\",g.contentType),w.setRequestHeader(\\\"Accept\\\",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(\\\"*\\\"!==g.dataTypes[0]?\\\", \\\"+Xn+\\\"; q=0.01\\\":\\\"\\\"):g.accepts[\\\"*\\\"]),g.headers)w.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(v,w,g)||p))return w.abort();if(a=\\\"abort\\\",_.add(g.complete),w.done(g.success),w.fail(g.error),h=Qn(Zn,g,t,w)){if(w.readyState=1,f&&y.trigger(\\\"ajaxSend\\\",[w,g]),p)return w;g[\\\"async\\\"]&&0<g.timeout&&(m=I.setTimeout(function(){w.abort(\\\"timeout\\\")},g.timeout));try{p=!1,h.send(r,l)}catch(d){if(p)throw d;l(-1,d)}}else l(-1,\\\"No Transport\\\")}return w;function l(e,t,n,i){var o,r,s,a,l,d=t;p||(p=!0,m&&I.clearTimeout(m),h=void 0,c=i||\\\"\\\",w.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,s,a=e.contents,l=e.dataTypes;\\\"*\\\"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader(\\\"Content-Type\\\"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+\\\" \\\"+l[0]]){r=o;break}s=s||o}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(g,w,n)),!o&&-1<E.inArray(\\\"script\\\",g.dataTypes)&&E.inArray(\\\"json\\\",g.dataTypes)<0&&(g.converters[\\\"text script\\\"]=function(){}),a=ei(g,a,w,o),o?(g.ifModified&&((l=w.getResponseHeader(\\\"Last-Modified\\\"))&&(E.lastModified[u]=l),l=w.getResponseHeader(\\\"etag\\\"))&&(E.etag[u]=l),204===e||\\\"HEAD\\\"===g.type?d=\\\"nocontent\\\":304===e?d=\\\"notmodified\\\":(d=a.state,r=a.data,o=!(s=a.error))):(s=d,!e&&d||(d=\\\"error\\\",e<0&&(e=0))),w.status=e,w.statusText=(t||d)+\\\"\\\",o?C.resolveWith(v,[r,d,w]):C.rejectWith(v,[w,d,s]),w.statusCode(b),b=void 0,f&&y.trigger(o?\\\"ajaxSuccess\\\":\\\"ajaxError\\\",[w,g,o?r:s]),_.fireWith(v,[w,d]),f&&(y.trigger(\\\"ajaxComplete\\\",[w,g]),--E.active||E.event.trigger(\\\"ajaxStop\\\")))}},getJSON:function(e,t,n){return E.get(e,t,n,\\\"json\\\")},getScript:function(e,t){return E.get(e,void 0,t,\\\"script\\\")}}),E.each([\\\"get\\\",\\\"post\\\"],function(e,o){E[o]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:o,dataType:i,data:t,success:n},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){for(var t in e.headers)\\\"content-type\\\"===t.toLowerCase()&&(e.contentType=e.headers[t]||\\\"\\\")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:\\\"GET\\\",dataType:\\\"script\\\",cache:!0,\\\"async\\\":!1,global:!1,converters:{\\\"text script\\\":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not(\\\"body\\\").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new I.XMLHttpRequest}catch(e){}};var ti={0:200,1223:204},ni=E.ajaxSettings.xhr(),ii=(f.cors=!!ni&&\\\"withCredentials\\\"in ni,f.ajax=ni=!!ni,E.ajaxTransport(function(r){var s,a;if(f.cors||ni&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r[\\\"async\\\"],r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e[\\\"X-Requested-With\\\"]||(e[\\\"X-Requested-With\\\"]=\\\"XMLHttpRequest\\\"),e)i.setRequestHeader(n,e[n]);s=function(e){return function(){s&&(s=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,\\\"abort\\\"===e?i.abort():\\\"error\\\"===e?\\\"number\\\"!=typeof i.status?t(0,\\\"error\\\"):t(i.status,i.statusText):t(ti[i.status]||i.status,i.statusText,\\\"text\\\"!==(i.responseType||\\\"text\\\")||\\\"string\\\"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=s(),a=i.onerror=i.ontimeout=s(\\\"error\\\"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&I.setTimeout(function(){s&&a()})},s=s(\\\"abort\\\");try{i.send(r.hasContent&&r.data||null)}catch(o){if(s)throw o}},abort:function(){s&&s()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:\\\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\\\"},contents:{script:/\\\\b(?:java|ecma)script\\\\b/},converters:{\\\"text script\\\":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter(\\\"script\\\",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type=\\\"GET\\\")}),E.ajaxTransport(\\\"script\\\",function(n){var i,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=E(\\\"<script>\\\").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on(\\\"load error\\\",o=function(e){i.remove(),o=null,e&&t(\\\"error\\\"===e.type?404:200,e.type)}),x.head.appendChild(i[0])},abort:function(){o&&o()}}}),[]),oi=/(=)\\\\?(?=&|$)|\\\\?\\\\?/,ri=(E.ajaxSetup({jsonp:\\\"callback\\\",jsonpCallback:function(){var e=ii.pop()||E.expando+\\\"_\\\"+An.guid++;return this[e]=!0,e}}),E.ajaxPrefilter(\\\"json jsonp\\\",function(e,t,n){var i,o,r,s=!1!==e.jsonp&&(oi.test(e.url)?\\\"url\\\":\\\"string\\\"==typeof e.data&&0===(e.contentType||\\\"\\\").indexOf(\\\"application/x-www-form-urlencoded\\\")&&oi.test(e.data)&&\\\"data\\\");if(s||\\\"jsonp\\\"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(oi,\\\"$1\\\"+i):!1!==e.jsonp&&(e.url+=(Pn.test(e.url)?\\\"&\\\":\\\"?\\\")+e.jsonp+\\\"=\\\"+i),e.converters[\\\"script json\\\"]=function(){return r||E.error(i+\\\" was not called\\\"),r[0]},e.dataTypes[0]=\\\"json\\\",o=I[i],I[i]=function(){r=arguments},n.always(function(){void 0===o?E(I).removeProp(i):I[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,ii.push(i)),r&&y(o)&&o(r[0]),r=o=void 0}),\\\"script\\\"}),f.createHTMLDocument=((e=x.implementation.createHTMLDocument(\\\"\\\").body).innerHTML=\\\"<form></form><form></form>\\\",2===e.childNodes.length),E.parseHTML=function(e,t,n){var i,o;return\\\"string\\\"!=typeof e?[]:(\\\"boolean\\\"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((o=(t=x.implementation.createHTMLDocument(\\\"\\\")).createElement(\\\"base\\\")).href=x.location.href,t.head.appendChild(o)):t=x),o=!n&&[],(i=$e.exec(e))?[t.createElement(i[1])]:(i=Lt([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)))},E.fn.load=function(e,t,n){var i,o,r,s=this,a=e.indexOf(\\\" \\\");return-1<a&&(i=Ln(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&\\\"object\\\"==typeof t&&(o=\\\"POST\\\"),0<s.length&&E.ajax({url:e,type:o||\\\"GET\\\",dataType:\\\"html\\\",data:t}).done(function(e){r=arguments,s.html(i?E(\\\"<div>\\\").append(E.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var i,o,r,s,a=E.css(e,\\\"position\\\"),l=E(e),d={};\\\"static\\\"===a&&(e.style.position=\\\"relative\\\"),r=l.offset(),i=E.css(e,\\\"top\\\"),s=E.css(e,\\\"left\\\"),a=(\\\"absolute\\\"===a||\\\"fixed\\\"===a)&&-1<(i+s).indexOf(\\\"auto\\\")?(o=(a=l.position()).top,a.left):(o=parseFloat(i)||0,parseFloat(s)||0),null!=(t=y(t)?t.call(e,n,E.extend({},r)):t).top&&(d.top=t.top-r.top+o),null!=t.left&&(d.left=t.left-r.left+a),\\\"using\\\"in t?t.using.call(e,d):l.css(d)}},E.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if(\\\"fixed\\\"===E.css(i,\\\"position\\\"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&\\\"static\\\"===E.css(e,\\\"position\\\");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,\\\"borderTopWidth\\\",!0),o.left+=E.css(e,\\\"borderLeftWidth\\\",!0))}return{top:t.top-o.top-E.css(i,\\\"marginTop\\\",!0),left:t.left-o.left-E.css(i,\\\"marginLeft\\\",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&\\\"static\\\"===E.css(e,\\\"position\\\");)e=e.offsetParent;return e||gt})}}),E.each({scrollLeft:\\\"pageXOffset\\\",scrollTop:\\\"pageYOffset\\\"},function(t,o){var r=\\\"pageYOffset\\\"===o;E.fn[t]=function(e){return h(this,function(e,t,n){var i;if(V(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[o]:e[t];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),E.each([\\\"top\\\",\\\"left\\\"],function(e,n){E.cssHooks[n]=rn(f.pixelPosition,function(e,t){if(t)return t=on(e,n),Yt.test(t)?E(e).position()[n]+\\\"px\\\":t})}),E.each({Height:\\\"height\\\",Width:\\\"width\\\"},function(s,a){E.each({padding:\\\"inner\\\"+s,content:a,\\\"\\\":\\\"outer\\\"+s},function(i,r){E.fn[r]=function(e,t){var n=arguments.length&&(i||\\\"boolean\\\"!=typeof e),o=i||(!0===e||!0===t?\\\"margin\\\":\\\"border\\\");return h(this,function(e,t,n){var i;return V(e)?0===r.indexOf(\\\"outer\\\")?e[\\\"inner\\\"+s]:e.document.documentElement[\\\"client\\\"+s]:9===e.nodeType?(i=e.documentElement,Math.max(e.body[\\\"scroll\\\"+s],i[\\\"scroll\\\"+s],e.body[\\\"offset\\\"+s],i[\\\"offset\\\"+s],i[\\\"client\\\"+s])):void 0===n?E.css(e,t,o):E.style(e,t,n,o)},a,n?e:void 0,n)}})}),E.each([\\\"ajaxStart\\\",\\\"ajaxStop\\\",\\\"ajaxComplete\\\",\\\"ajaxError\\\",\\\"ajaxSuccess\\\",\\\"ajaxSend\\\"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,\\\"**\\\"):this.off(t,e||\\\"**\\\",n)},hover:function(e,t){return this.on(\\\"mouseenter\\\",e).on(\\\"mouseleave\\\",t||e)}}),E.each(\\\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu\\\".split(\\\" \\\"),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\\\\s\\\\uFEFF\\\\xA0]+|([^\\\\s\\\\uFEFF\\\\xA0])[\\\\s\\\\uFEFF\\\\xA0]+$/g),si=(E.proxy=function(e,t){var n,i;if(\\\"string\\\"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=C,E.isFunction=y,E.isWindow=V,E.camelCase=k,E.type=Z,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return(\\\"number\\\"===t||\\\"string\\\"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?\\\"\\\":(e+\\\"\\\").replace(ri,\\\"$1\\\")},\\\"function\\\"==typeof define&&define.amd&&define(\\\"jquery\\\",[],function(){return E}),I.jQuery),ai=I.$;return E.noConflict=function(e){return I.$===E&&(I.$=ai),e&&I.jQuery===E&&(I.jQuery=si),E},void 0===U&&(I.jQuery=I.$=E),E},\\\"object\\\"==typeof t&&\\\"object\\\"==typeof t.exports?t.exports=e.document?n(e,!0):function(e){if(e.document)return n(e);throw new Error(\\\"jQuery requires a window with a document\\\")}:n(e)}}),import_jquery=(init_esbuild_inject(),__toESM(require_jquery())),ExternalError=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),class extends Error{constructor(e,t){super(t),this.type=e}}),ConfigurationError=class extends ExternalError{constructor(e,t){super(\\\"Configuration\\\",e),this.node=t}},PopoutBlockedError=class extends ExternalError{constructor(e){super(\\\"PopoutBlocked\\\",e)}},ApiError=class extends ExternalError{constructor(e){super(\\\"API\\\",e)}},BindError=class extends ExternalError{constructor(e){super(\\\"Bind\\\",e)}},InternalError=(init_esbuild_inject(),class extends Error{constructor(e,t,n){super(e+\\\": \\\"+t+(void 0===n?\\\"\\\":\\\": \\\"+n))}}),AssertError=class extends InternalError{constructor(e,t){super(\\\"Assert\\\",e,t)}},UnreachableCaseError=class extends InternalError{constructor(e,t,n){super(\\\"UnreachableCase\\\",e,t+(void 0===n?\\\"\\\":\\\": \\\"+n))}},UnexpectedNullError=class extends InternalError{constructor(e,t){super(\\\"UnexpectedNull\\\",e,t)}},UnexpectedUndefinedError=class extends InternalError{constructor(e,t){super(\\\"UnexpectedUndefined\\\",e,t)}},i18nStrings=(init_esbuild_inject(),!function(n){let i=!1;var e={PopoutCannotBeCreatedWithGroundItemConfig:{id:0,\\\"default\\\":\\\"Popout cannot be created with ground ItemConfig\\\"},PleaseRegisterAConstructorFunction:{id:1,\\\"default\\\":\\\"Please register a constructor function\\\"},ComponentTypeNotRegisteredAndBindComponentEventHandlerNotAssigned:{id:2,\\\"default\\\":\\\"Component type not registered and BindComponentEvent handler not assigned\\\"},ComponentIsAlreadyRegistered:{id:3,\\\"default\\\":\\\"Component is already registered\\\"},ComponentIsNotVirtuable:{id:4,\\\"default\\\":\\\"Component is not virtuable. Requires rootHtmlElement field/getter\\\"},VirtualComponentDoesNotHaveRootHtmlElement:{id:5,\\\"default\\\":'Virtual component does not have getter \\\"rootHtmlElement\\\"'},ItemConfigIsNotTypeComponent:{id:6,\\\"default\\\":\\\"ItemConfig is not of type component\\\"},InvalidNumberPartInSizeString:{id:7,\\\"default\\\":\\\"Invalid number part in size string\\\"},UnknownUnitInSizeString:{id:8,\\\"default\\\":\\\"Unknown unit in size string\\\"},UnsupportedUnitInSizeString:{id:9,\\\"default\\\":\\\"Unsupported unit in size string\\\"}};n.idCount=Object.keys(e).length;const o=Object.values(e);n.checkInitialise=function(){if(!i)for(let e=0;e<n.idCount;e++){var t=o[e];if(t.id!==e)throw new AssertError(\\\"INSI00110\\\",e+\\\": \\\"+t.id);i18nStrings[e]=t[\\\"default\\\"]}i=!0}}(I18nStrings=I18nStrings||{}),new Array(I18nStrings.idCount)),LogicalZIndexToDefaultMap=(init_esbuild_inject(),init_esbuild_inject(),!function(e){e.defaultComponentBaseZIndex=\\\"auto\\\",e.defaultComponentDragZIndex=\\\"32\\\",e.defaultComponentStackMaximisedZIndex=\\\"41\\\"}(StyleConstants=StyleConstants||{}),!function(e){e.width=\\\"width\\\",e.height=\\\"height\\\"}(WidthOrHeightPropertyName=WidthOrHeightPropertyName||{}),!function(e){e.top=\\\"top\\\",e.left=\\\"left\\\",e.right=\\\"right\\\",e.bottom=\\\"bottom\\\"}(Side=Side||{}),!function(e){e.base=\\\"base\\\",e.drag=\\\"drag\\\",e.stackMaximised=\\\"stackMaximised\\\"}(LogicalZIndex=LogicalZIndex||{}),{base:StyleConstants.defaultComponentBaseZIndex,drag:StyleConstants.defaultComponentDragZIndex,stackMaximised:StyleConstants.defaultComponentStackMaximisedZIndex});function numberToPixels(e){return e.toString(10)+\\\"px\\\"}function pixelsToNumber(e){var t=e.replace(\\\"px\\\",\\\"\\\");return parseFloat(t)}function splitStringAtFirstNonNumericChar(i){var o=(i=i.trimStart()).length;if(0===o)return{numericPart:\\\"\\\",firstNonNumericCharPart:\\\"\\\"};{let e=o,t=!1;for(let n=0;n<o;n++){var r=i[n];if(!isDigit(r)){if(\\\".\\\"!==r){e=n;break}if(t){e=n;break}t=!0}}return{numericPart:i.substring(0,e),firstNonNumericCharPart:i.substring(e).trim()}}}function isDigit(e){return\\\"0\\\"<=e&&e<=\\\"9\\\"}function getElementWidth(e){return e.offsetWidth}function setElementWidth(e,t){var n=numberToPixels(t);e.style.width=n}function getElementHeight(e){return e.offsetHeight}function setElementHeight(e,t){var n=numberToPixels(t);e.style.height=n}function getElementWidthAndHeight(e){return{width:e.offsetWidth,height:e.offsetHeight}}function setElementDisplayVisibility(e,t){e.style.display=t?\\\"\\\":\\\"none\\\"}function ensureElementPositionAbsolute(e){var t=\\\"absolute\\\";e.style.position!==t&&(e.style.position=t)}function deepExtend(e,t){if(void 0!==t)for(const o in t){var n,i;t.hasOwnProperty(o)&&(n=t[o],i=e[o],e[o]=deepExtendValue(i,n))}return e}function deepExtendValue(e,t){if(\\\"object\\\"!=typeof t)return t;var n;if(Array.isArray(t)){var i=t.length,o=new Array(i);for(let e=0;e<i;e++){var r=t[e];o[e]=deepExtendValue({},r)}return o}return null===t?null:(n=t,void 0===e||\\\"object\\\"!=typeof e||Array.isArray(e)?deepExtend({},n):deepExtend(null===e?{}:e,n))}function removeFromArray(e,t){var n=t.indexOf(e);if(-1===n)throw new Error(\\\"Can't remove item from array. Item is not in the array\\\");t.splice(n,1)}function getUniqueId(){return(1e15*Math.random()).toString(36).replace(\\\".\\\",\\\"\\\")}function getErrorMessage(e){return e instanceof Error?e.message:\\\"string\\\"==typeof e?e:\\\"Unknown Error\\\"}function parseSize(e,t){var{numericPart:n,firstNonNumericCharPart:i}=splitStringAtFirstNonNumericChar(e),n=Number.parseInt(n,10);if(isNaN(n))throw new ConfigurationError(i18nStrings[7]+\\\": \\\"+e);i=SizeUnitEnum.tryParse(i);if(void 0===i)throw new ConfigurationError(i18nStrings[8]+\\\": \\\"+e);if(t.includes(i))return{size:n,sizeUnit:i};throw new ConfigurationError(i18nStrings[9]+\\\": \\\"+e)}function formatSize(e,t){return e.toString(10)+SizeUnitEnum.format(t)}function formatUndefinableSize(e,t){if(void 0!==e)return e.toString(10)+SizeUnitEnum.format(t)}!function(e){function t(e){return!Array.isArray(e)&&null!==e&&\\\"object\\\"==typeof e}e.isJson=t,e.isJsonObject=t}(JsonValue=JsonValue||{}),function(e){e.ground=\\\"ground\\\",e.row=\\\"row\\\",e.column=\\\"column\\\",e.stack=\\\"stack\\\",e.component=\\\"component\\\"}(ItemType=ItemType||{}),function(e){e.none=\\\"none\\\",e.always=\\\"always\\\",e.onload=\\\"onload\\\"}(ResponsiveMode=ResponsiveMode||{}),function(e){e.Pixel=\\\"px\\\",e.Percent=\\\"%\\\",e.Fractional=\\\"fr\\\",e.Em=\\\"em\\\"}(SizeUnitEnum=SizeUnitEnum||{}),function(t){t.tryParse=function(e){switch(e){case t.Pixel:return t.Pixel;case t.Percent:return t.Percent;case t.Fractional:return t.Fractional;case t.Em:return t.Em;default:return}},t.format=function(e){switch(e){case t.Pixel:return t.Pixel;case t.Percent:return t.Percent;case t.Fractional:return t.Fractional;case t.Em:return t.Em;default:throw new UnreachableCaseError(\\\"SUEF44998\\\",e)}}}(SizeUnitEnum=SizeUnitEnum||{}),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),function(e){const a=[\\\"settings\\\",\\\"hasHeaders\\\",\\\"constrainDragToContainer\\\",\\\"selectionEnabled\\\",\\\"dimensions\\\",\\\"borderWidth\\\",\\\"minItemHeight\\\",\\\"minItemWidth\\\",\\\"headerHeight\\\",\\\"dragProxyWidth\\\",\\\"dragProxyHeight\\\",\\\"labels\\\",\\\"close\\\",\\\"maximise\\\",\\\"minimise\\\",\\\"popout\\\",\\\"content\\\",\\\"componentType\\\",\\\"componentState\\\",\\\"id\\\",\\\"width\\\",\\\"type\\\",\\\"height\\\",\\\"isClosable\\\",\\\"title\\\",\\\"popoutWholeStack\\\",\\\"openPopouts\\\",\\\"parentId\\\",\\\"activeItemIndex\\\",\\\"reorderEnabled\\\",\\\"borderGrabWidth\\\"],d=[!0,!1,\\\"row\\\",\\\"column\\\",\\\"stack\\\",\\\"component\\\",\\\"close\\\",\\\"maximise\\\",\\\"minimise\\\",\\\"open in new window\\\"];function h(t,n){var i,o={};for(const s in t)if(t.hasOwnProperty(s)){let e;e=n?function(e){if(\\\"string\\\"==typeof e&&1===e.length)return\\\"___\\\"+e;var t=function(e){for(let t=0;t<a.length;t++)if(a[t]===e)return t;return-1}(e);return-1===t?e:t.toString(36)}(s):1!==(i=s).length?\\\"___\\\"!==i.substr(0,3)?i:i[3]:a[parseInt(i,36)];var r=t[s];o[e]=u(r,n)}return o}function u(t,n){var e,i;if(\\\"object\\\"!=typeof t)return n?\\\"string\\\"==typeof(i=t)&&1===i.length?\\\"___\\\"+i:-1===(e=function(e){for(let t=0;t<d.length;t++)if(d[t]===e)return t;return-1}(i))?i:e.toString(36):\\\"string\\\"!=typeof(i=t)||1!==i.length?\\\"string\\\"!=typeof i||\\\"___\\\"!==i.substr(0,3)?i:i[3]:d[parseInt(i,36)];if(null===t)return null;if(Array.isArray(t)){var o=t,r=n,s=o.length,a=new Array(s);for(let e=0;e<s;e++){var l=o[e];a[e]=u(l,r)}return a}return h(t,n)}e.checkInitialise=function(){if(36<a.length)throw new Error(\\\"Too many keys in config minifier map\\\")},e.translateObject=h}(ConfigMinifier=ConfigMinifier||{}),function(e){e.defaults={type:ItemType.ground,content:[],size:1,sizeUnit:SizeUnitEnum.Fractional,minSize:void 0,minSizeUnit:SizeUnitEnum.Pixel,id:\\\"\\\",isClosable:!0},e.createCopy=function(e,t){switch(e.type){case ItemType.ground:case ItemType.row:case ItemType.column:return ResolvedRowOrColumnItemConfig.createCopy(e,t);case ItemType.stack:return ResolvedStackItemConfig.createCopy(e,t);case ItemType.component:return ResolvedComponentItemConfig.createCopy(e);default:throw new UnreachableCaseError(\\\"CICC91354\\\",e.type,\\\"Invalid Config Item type specified\\\")}},e.createDefault=function(e){switch(e){case ItemType.ground:throw new AssertError(\\\"CICCDR91562\\\");case ItemType.row:case ItemType.column:return ResolvedRowOrColumnItemConfig.createDefault(e);case ItemType.stack:return ResolvedStackItemConfig.createDefault();case ItemType.component:return ResolvedComponentItemConfig.createDefault();default:throw new UnreachableCaseError(\\\"CICCDD91563\\\",e,\\\"Invalid Config Item type specified\\\")}},e.isComponentItem=function(e){return e.type===ItemType.component},e.isStackItem=function(e){return e.type===ItemType.stack},e.isGroundItem=function(e){return e.type===ItemType.ground}}(ResolvedItemConfig=ResolvedItemConfig||{}),function(e){e.defaultMaximised=!1,(e.Header||(e.Header={})).createCopy=function(e,t){if(void 0!==e)return{show:null!=t?t:e.show,popout:e.popout,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}}}(ResolvedHeaderedItemConfig=ResolvedHeaderedItemConfig||{}),function(e){function n(e){var t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=ResolvedItemConfig.createCopy(e[i]);return n}e.defaultActiveItemIndex=0,e.createCopy=function(e,t){return{type:e.type,content:n(void 0!==t?t:e.content),size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:e.activeItemIndex,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header)}},e.copyContent=n,e.createDefault=function(){return{type:ItemType.stack,content:[],size:ResolvedItemConfig.defaults.size,sizeUnit:ResolvedItemConfig.defaults.sizeUnit,minSize:ResolvedItemConfig.defaults.minSize,minSizeUnit:ResolvedItemConfig.defaults.minSizeUnit,id:ResolvedItemConfig.defaults.id,maximised:ResolvedHeaderedItemConfig.defaultMaximised,isClosable:ResolvedItemConfig.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}}(ResolvedStackItemConfig=ResolvedStackItemConfig||{}),function(i){i.defaultReorderEnabled=!0,i.resolveComponentTypeName=function(e){var t=e.componentType;if(\\\"string\\\"==typeof t)return t},i.createCopy=function(e){return{type:e.type,content:[],size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,reorderEnabled:e.reorderEnabled,title:e.title,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header),componentType:e.componentType,componentState:deepExtendValue(void 0,e.componentState)}},i.createDefault=function(e=\\\"\\\",t,n=\\\"\\\"){return{type:ItemType.component,content:[],size:ResolvedItemConfig.defaults.size,sizeUnit:ResolvedItemConfig.defaults.sizeUnit,minSize:ResolvedItemConfig.defaults.minSize,minSizeUnit:ResolvedItemConfig.defaults.minSizeUnit,id:ResolvedItemConfig.defaults.id,maximised:ResolvedHeaderedItemConfig.defaultMaximised,isClosable:ResolvedItemConfig.defaults.isClosable,reorderEnabled:i.defaultReorderEnabled,title:n,header:void 0,componentType:e,componentState:t}},i.copyComponentType=function(e){return deepExtendValue({},e)}}(ResolvedComponentItemConfig=ResolvedComponentItemConfig||{}),function(e){function n(e){var t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=ResolvedItemConfig.createCopy(e[i]);return n}e.isChildItemConfig=function(e){switch(e.type){case ItemType.row:case ItemType.column:case ItemType.stack:case ItemType.component:return!0;case ItemType.ground:return!1;default:throw new UnreachableCaseError(\\\"CROCOSPCICIC13687\\\",e.type)}},e.createCopy=function(e,t){return{type:e.type,content:n(void 0!==t?t:e.content),size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,isClosable:e.isClosable}},e.copyContent=n,e.createDefault=function(e){return{type:e,content:[],size:ResolvedItemConfig.defaults.size,sizeUnit:ResolvedItemConfig.defaults.sizeUnit,minSize:ResolvedItemConfig.defaults.minSize,minSizeUnit:ResolvedItemConfig.defaults.minSizeUnit,id:ResolvedItemConfig.defaults.id,isClosable:ResolvedItemConfig.defaults.isClosable}}}(ResolvedRowOrColumnItemConfig=ResolvedRowOrColumnItemConfig||{}),function(e){e.createCopy=function(e){return ResolvedItemConfig.createCopy(e)},e.isRootItemConfig=function(e){switch(e.type){case ItemType.row:case ItemType.column:case ItemType.stack:case ItemType.component:return!0;case ItemType.ground:return!1;default:throw new UnreachableCaseError(\\\"CROCOSPCICIC13687\\\",e.type)}}}(ResolvedRootItemConfig=ResolvedRootItemConfig||{}),(ResolvedGroundItemConfig||(ResolvedGroundItemConfig={})).create=function(e){return{type:ItemType.ground,content:void 0===e?[]:[e],size:100,sizeUnit:SizeUnitEnum.Percent,minSize:0,minSizeUnit:SizeUnitEnum.Pixel,id:\\\"\\\",isClosable:!1,title:\\\"\\\",reorderEnabled:!1}},function(t){var e;function n(e){return\\\"parentId\\\"in e}(e=t.Settings||(t.Settings={})).defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:ResponsiveMode.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10,popInOnClose:!1},e.createCopy=function(e){return{constrainDragToContainer:e.constrainDragToContainer,reorderEnabled:e.reorderEnabled,popoutWholeStack:e.popoutWholeStack,blockedPopoutsThrowError:e.blockedPopoutsThrowError,closePopoutsOnUnload:e.closePopoutsOnUnload,responsiveMode:e.responsiveMode,tabOverlapAllowance:e.tabOverlapAllowance,reorderOnTabMenuClick:e.reorderOnTabMenuClick,tabControlOffset:e.tabControlOffset,popInOnClose:e.popInOnClose}},(e=t.Dimensions||(t.Dimensions={})).createCopy=function(e){return{borderWidth:e.borderWidth,borderGrabWidth:e.borderGrabWidth,defaultMinItemHeight:e.defaultMinItemHeight,defaultMinItemHeightUnit:e.defaultMinItemHeightUnit,defaultMinItemWidth:e.defaultMinItemWidth,defaultMinItemWidthUnit:e.defaultMinItemWidthUnit,headerHeight:e.headerHeight,dragProxyWidth:e.dragProxyWidth,dragProxyHeight:e.dragProxyHeight}},e.defaults={borderWidth:5,borderGrabWidth:5,defaultMinItemHeight:0,defaultMinItemHeightUnit:SizeUnitEnum.Pixel,defaultMinItemWidth:10,defaultMinItemWidthUnit:SizeUnitEnum.Pixel,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200},(e=t.Header||(t.Header={})).createCopy=function(e){return{show:e.show,popout:e.popout,dock:e.dock,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}},e.defaults={show:Side.top,popout:\\\"open in new window\\\",dock:\\\"dock\\\",maximise:\\\"maximise\\\",minimise:\\\"minimise\\\",close:\\\"close\\\",tabDropdown:\\\"additional tabs\\\"},t.isPopout=n,t.createDefault=function(){return{root:void 0,openPopouts:[],dimensions:t.Dimensions.defaults,settings:t.Settings.defaults,header:t.Header.defaults,resolved:!0}},t.createCopy=function(e){return n(e)?ResolvedPopoutLayoutConfig.createCopy(e):{root:void 0===e.root?void 0:ResolvedRootItemConfig.createCopy(e.root),openPopouts:t.copyOpenPopouts(e.openPopouts),settings:t.Settings.createCopy(e.settings),dimensions:t.Dimensions.createCopy(e.dimensions),header:t.Header.createCopy(e.header),resolved:e.resolved}},t.copyOpenPopouts=function(e){var t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=ResolvedPopoutLayoutConfig.createCopy(e[i]);return n},t.minifyConfig=function(e){return ConfigMinifier.translateObject(e,!0)},t.unminifyConfig=function(e){return ConfigMinifier.translateObject(e,!1)}}(ResolvedLayoutConfig=ResolvedLayoutConfig||{}),function(t){var e;(e=t.Window||(t.Window={})).createCopy=function(e){return{width:e.width,height:e.height,left:e.left,top:e.top}},e.defaults={width:null,height:null,left:null,top:null},t.createCopy=function(e){return{root:void 0===e.root?void 0:ResolvedRootItemConfig.createCopy(e.root),openPopouts:ResolvedLayoutConfig.copyOpenPopouts(e.openPopouts),settings:ResolvedLayoutConfig.Settings.createCopy(e.settings),dimensions:ResolvedLayoutConfig.Dimensions.createCopy(e.dimensions),header:ResolvedLayoutConfig.Header.createCopy(e.header),parentId:e.parentId,indexInParent:e.indexInParent,window:t.Window.createCopy(e.window),resolved:e.resolved}}}(ResolvedPopoutLayoutConfig=ResolvedPopoutLayoutConfig||{}),function(o){o.resolve=function(e,t){switch(e.type){case ItemType.ground:throw new ConfigurationError(\\\"ItemConfig cannot specify type ground\\\",JSON.stringify(e));case ItemType.row:case ItemType.column:return RowOrColumnItemConfig.resolve(e,t);case ItemType.stack:return StackItemConfig.resolve(e,t);case ItemType.component:return ComponentItemConfig.resolve(e,t);default:throw new UnreachableCaseError(\\\"UCUICR55499\\\",e.type)}},o.resolveContent=function(e){if(void 0===e)return[];var t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=o.resolve(e[i],!1);return n},o.resolveId=function(e){return void 0===e?ResolvedItemConfig.defaults.id:Array.isArray(e)?0===e.length?ResolvedItemConfig.defaults.id:e[0]:e},o.resolveSize=function(e,t,n,i){if(void 0!==e)return parseSize(e,[SizeUnitEnum.Percent,SizeUnitEnum.Fractional]);if(void 0===t&&void 0===n)return i?{size:50,sizeUnit:SizeUnitEnum.Percent}:{size:ResolvedItemConfig.defaults.size,sizeUnit:ResolvedItemConfig.defaults.sizeUnit};if(void 0!==t)return{size:t,sizeUnit:SizeUnitEnum.Percent};if(void 0!==n)return{size:n,sizeUnit:SizeUnitEnum.Percent};throw new UnexpectedUndefinedError(\\\"CRS33390\\\")},o.resolveMinSize=function(e,t,n){var i;return void 0!==e?parseSize(e,[SizeUnitEnum.Pixel]):(i=void 0!==t)||void 0!==n?i?{size:t,sizeUnit:SizeUnitEnum.Pixel}:{size:n,sizeUnit:SizeUnitEnum.Pixel}:{size:ResolvedItemConfig.defaults.minSize,sizeUnit:ResolvedItemConfig.defaults.minSizeUnit}},o.calculateSizeWidthHeightSpecificationType=function(e){return void 0!==e.size?1:void 0!==e.width||void 0!==e.height?2:0},o.isGround=function(e){return e.type===ItemType.ground},o.isRow=function(e){return e.type===ItemType.row},o.isColumn=function(e){return e.type===ItemType.column},o.isStack=function(e){return e.type===ItemType.stack},o.isComponent=function(e){return e.type===ItemType.component}}(ItemConfig=ItemConfig||{}),function(e){(e.Header||(e.Header={})).resolve=function(e,t){var n;if(void 0!==e||void 0!==t)return{show:null!=(n=null==e?void 0:e.show)?n:void 0===t?void 0:!!t&&ResolvedLayoutConfig.Header.defaults.show,popout:null==e?void 0:e.popout,maximise:null==e?void 0:e.maximise,close:null==e?void 0:e.close,minimise:null==e?void 0:e.minimise,tabDropdown:null==e?void 0:e.tabDropdown}},e.resolveIdAndMaximised=function(e){let t,n=e.id,i=!1;var o;t=void 0===n?ResolvedItemConfig.defaults.id:Array.isArray(n)?(0<(o=n.findIndex(e=>\\\"__glMaximised\\\"===e))&&(i=!0,n=n.splice(o,1)),0<n.length?n[0]:ResolvedItemConfig.defaults.id):n;let r;return r=void 0!==e.maximised?e.maximised:i,{id:t,maximised:r}}}(HeaderedItemConfig=HeaderedItemConfig||{}),function(e){e.resolve=function(e,t){var{id:n,maximised:i}=HeaderedItemConfig.resolveIdAndMaximised(e),{size:o,sizeUnit:r}=ItemConfig.resolveSize(e.size,e.width,e.height,t),{size:s,sizeUnit:a}=ItemConfig.resolveMinSize(e.minSize,e.minWidth,e.minHeight);return{type:ItemType.stack,content:function(t){{if(void 0===t)return[];var n=t.length,i=new Array(n);for(let e=0;e<n;e++){var o=t[e],o=ItemConfig.resolve(o,!1);if(!ResolvedItemConfig.isComponentItem(o))throw new AssertError(\\\"UCUSICRC91114\\\",JSON.stringify(o));i[e]=o}return i}}(e.content),size:o,sizeUnit:r,minSize:s,minSizeUnit:a,id:n,maximised:i,isClosable:null!=(o=e.isClosable)?o:ResolvedItemConfig.defaults.isClosable,activeItemIndex:null!=(r=e.activeItemIndex)?r:ResolvedStackItemConfig.defaultActiveItemIndex,header:HeaderedItemConfig.Header.resolve(e.header,e.hasHeaders)}},e.fromResolved=function(e){return{type:ItemType.stack,content:function(e){var t=e.length,n=new Array(t);for(let o=0;o<t;o++){var i=e[o];n[o]=ComponentItemConfig.fromResolved(i)}return n}(e.content),size:formatSize(e.size,e.sizeUnit),minSize:formatUndefinableSize(e.minSize,e.minSizeUnit),id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:e.activeItemIndex,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header)}}}(StackItemConfig=StackItemConfig||{}),function(h){h.resolve=function(t,n){let i=t.componentType;if(void 0===(i=void 0===i?t.componentName:i))throw new Error(\\\"ComponentItemConfig.componentType is undefined\\\");{var{id:o,maximised:r}=HeaderedItemConfig.resolveIdAndMaximised(t);let e;e=void 0===t.title||\\\"\\\"===t.title?h.componentTypeToTitle(i):t.title;var{size:s,sizeUnit:a}=ItemConfig.resolveSize(t.size,t.width,t.height,n),{size:l,sizeUnit:d}=ItemConfig.resolveMinSize(t.minSize,t.minWidth,t.minHeight);return{type:t.type,content:[],size:s,sizeUnit:a,minSize:l,minSizeUnit:d,id:o,maximised:r,isClosable:null!=(s=t.isClosable)?s:ResolvedItemConfig.defaults.isClosable,reorderEnabled:null!=(a=t.reorderEnabled)?a:ResolvedComponentItemConfig.defaultReorderEnabled,title:e,header:HeaderedItemConfig.Header.resolve(t.header,t.hasHeaders),componentType:i,componentState:null!=(l=t.componentState)?l:{}}}},h.fromResolved=function(e){return{type:ItemType.component,size:formatSize(e.size,e.sizeUnit),minSize:formatUndefinableSize(e.minSize,e.minSizeUnit),id:e.id,maximised:e.maximised,isClosable:e.isClosable,reorderEnabled:e.reorderEnabled,title:e.title,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header),componentType:e.componentType,componentState:deepExtendValue(void 0,e.componentState)}},h.componentTypeToTitle=function(e){switch(typeof e){case\\\"string\\\":return e;case\\\"number\\\":case\\\"boolean\\\":return e.toString();default:return\\\"\\\"}}}(ComponentItemConfig=ComponentItemConfig||{}),function(c){c.isChildItemConfig=function(e){switch(e.type){case ItemType.row:case ItemType.column:case ItemType.stack:case ItemType.component:return!0;case ItemType.ground:return!1;default:throw new UnreachableCaseError(\\\"UROCOSPCICIC13687\\\",e.type)}},c.resolve=function(e,t){var{size:n,sizeUnit:i}=ItemConfig.resolveSize(e.size,e.width,e.height,t),{size:o,sizeUnit:r}=ItemConfig.resolveMinSize(e.minSize,e.minWidth,e.minHeight);return{type:e.type,content:c.resolveContent(e.content),size:n,sizeUnit:i,minSize:o,minSizeUnit:r,id:ItemConfig.resolveId(e.id),isClosable:null!=(n=e.isClosable)?n:ResolvedItemConfig.defaults.isClosable}},c.fromResolved=function(e){return{type:e.type,content:function(t){var e=t.length,n=new Array(e);for(let r=0;r<e;r++){var i=t[r],o=i.type;let e;switch(o){case ItemType.row:case ItemType.column:e=c.fromResolved(i);break;case ItemType.stack:e=StackItemConfig.fromResolved(i);break;case ItemType.component:e=ComponentItemConfig.fromResolved(i);break;default:throw new UnreachableCaseError(\\\"ROCICFRC44797\\\",o)}n[r]=e}return n}(e.content),size:formatSize(e.size,e.sizeUnit),minSize:formatUndefinableSize(e.minSize,e.minSizeUnit),id:e.id,isClosable:e.isClosable}},c.resolveContent=function(r){if(void 0===r)return[];{var s=r.length,a=new Array(s);let e=!1,t=!1;for(let i=0;i<s;i++){var l=r[i];if(!c.isChildItemConfig(l))throw new ConfigurationError(\\\"ItemConfig is not Row, Column or Stack\\\",l);if(!t){var d=ItemConfig.calculateSizeWidthHeightSpecificationType(l);switch(d){case 0:break;case 2:e=!0;break;case 1:t=!0;break;default:throw new UnreachableCaseError(\\\"ROCICRC87556\\\",d)}}a[i]=l}let n;n=!t&&!!e;var h=new Array(s);for(let o=0;o<s;o++){var u=a[o],u=ItemConfig.resolve(u,n);if(!ResolvedRowOrColumnItemConfig.isChildItemConfig(u))throw new AssertError(\\\"UROCOSPIC99512\\\",JSON.stringify(u));h[o]=u}return h}}}(RowOrColumnItemConfig=RowOrColumnItemConfig||{}),function(e){e.isRootItemConfig=function(e){switch(e.type){case ItemType.row:case ItemType.column:case ItemType.stack:case ItemType.component:return!0;case ItemType.ground:return!1;default:throw new UnreachableCaseError(\\\"URICIR23687\\\",e.type)}},e.resolve=function(e){if(void 0!==e){var t=ItemConfig.resolve(e,!1);if(ResolvedRootItemConfig.isRootItemConfig(t))return t;throw new ConfigurationError(\\\"ItemConfig is not Row, Column or Stack\\\",JSON.stringify(e))}},e.fromResolvedOrUndefined=function(e){if(void 0!==e){var t=e.type;switch(t){case ItemType.row:case ItemType.column:return RowOrColumnItemConfig.fromResolved(e);case ItemType.stack:return StackItemConfig.fromResolved(e);case ItemType.component:return ComponentItemConfig.fromResolved(e);default:throw new UnreachableCaseError(\\\"RICFROU89921\\\",t)}}}}(RootItemConfig=RootItemConfig||{}),function(n){var s;function e(e){return\\\"parentId\\\"in e||\\\"indexInParent\\\"in e||\\\"window\\\"in e}(n.Settings||(n.Settings={})).resolve=function(e){var t;return{constrainDragToContainer:null!=(t=null==e?void 0:e.constrainDragToContainer)?t:ResolvedLayoutConfig.Settings.defaults.constrainDragToContainer,reorderEnabled:null!=(t=null==e?void 0:e.reorderEnabled)?t:ResolvedLayoutConfig.Settings.defaults.reorderEnabled,popoutWholeStack:null!=(t=null==e?void 0:e.popoutWholeStack)?t:ResolvedLayoutConfig.Settings.defaults.popoutWholeStack,blockedPopoutsThrowError:null!=(t=null==e?void 0:e.blockedPopoutsThrowError)?t:ResolvedLayoutConfig.Settings.defaults.blockedPopoutsThrowError,closePopoutsOnUnload:null!=(t=null==e?void 0:e.closePopoutsOnUnload)?t:ResolvedLayoutConfig.Settings.defaults.closePopoutsOnUnload,responsiveMode:null!=(t=null==e?void 0:e.responsiveMode)?t:ResolvedLayoutConfig.Settings.defaults.responsiveMode,tabOverlapAllowance:null!=(t=null==e?void 0:e.tabOverlapAllowance)?t:ResolvedLayoutConfig.Settings.defaults.tabOverlapAllowance,reorderOnTabMenuClick:null!=(t=null==e?void 0:e.reorderOnTabMenuClick)?t:ResolvedLayoutConfig.Settings.defaults.reorderOnTabMenuClick,tabControlOffset:null!=(t=null==e?void 0:e.tabControlOffset)?t:ResolvedLayoutConfig.Settings.defaults.tabControlOffset,popInOnClose:null!=(t=null==e?void 0:e.popInOnClose)?t:ResolvedLayoutConfig.Settings.defaults.popInOnClose}},(s=n.Dimensions||(n.Dimensions={})).resolve=function(e){var t,{size:n,sizeUnit:i}=s.resolveDefaultMinItemHeight(e),{size:o,sizeUnit:r}=s.resolveDefaultMinItemWidth(e);return{borderWidth:null!=(t=null==e?void 0:e.borderWidth)?t:ResolvedLayoutConfig.Dimensions.defaults.borderWidth,borderGrabWidth:null!=(t=null==e?void 0:e.borderGrabWidth)?t:ResolvedLayoutConfig.Dimensions.defaults.borderGrabWidth,defaultMinItemHeight:n,defaultMinItemHeightUnit:i,defaultMinItemWidth:o,defaultMinItemWidthUnit:r,headerHeight:null!=(t=null==e?void 0:e.headerHeight)?t:ResolvedLayoutConfig.Dimensions.defaults.headerHeight,dragProxyWidth:null!=(n=null==e?void 0:e.dragProxyWidth)?n:ResolvedLayoutConfig.Dimensions.defaults.dragProxyWidth,dragProxyHeight:null!=(i=null==e?void 0:e.dragProxyHeight)?i:ResolvedLayoutConfig.Dimensions.defaults.dragProxyHeight}},s.fromResolved=function(e){return{borderWidth:e.borderWidth,borderGrabWidth:e.borderGrabWidth,defaultMinItemHeight:formatSize(e.defaultMinItemHeight,e.defaultMinItemHeightUnit),defaultMinItemWidth:formatSize(e.defaultMinItemWidth,e.defaultMinItemWidthUnit),headerHeight:e.headerHeight,dragProxyWidth:e.dragProxyWidth,dragProxyHeight:e.dragProxyHeight}},s.resolveDefaultMinItemHeight=function(e){var t=null==e?void 0:e.defaultMinItemHeight;return void 0===t?{size:ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemHeight,sizeUnit:ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemHeightUnit}:parseSize(t,[SizeUnitEnum.Pixel])},s.resolveDefaultMinItemWidth=function(e){var t=null==e?void 0:e.defaultMinItemWidth;return void 0===t?{size:ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemWidth,sizeUnit:ResolvedLayoutConfig.Dimensions.defaults.defaultMinItemWidthUnit}:parseSize(t,[SizeUnitEnum.Pixel])},(n.Header||(n.Header={})).resolve=function(e,t,n){var i;let o;return{show:o=void 0!==(null==e?void 0:e.show)?e.show:(void 0===t||void 0===t.hasHeaders||!!t.hasHeaders)&&ResolvedLayoutConfig.Header.defaults.show,popout:null!=(i=null!=(i=null==e?void 0:e.popout)?i:null==n?void 0:n.popout)?i:!1!==(null==t?void 0:t.showPopoutIcon)&&ResolvedLayoutConfig.Header.defaults.popout,dock:null!=(i=null!=(i=null==e?void 0:e.popin)?i:null==n?void 0:n.popin)?i:ResolvedLayoutConfig.Header.defaults.dock,maximise:null!=(i=null!=(i=null==e?void 0:e.maximise)?i:null==n?void 0:n.maximise)?i:!1!==(null==t?void 0:t.showMaximiseIcon)&&ResolvedLayoutConfig.Header.defaults.maximise,close:null!=(i=null!=(i=null==e?void 0:e.close)?i:null==n?void 0:n.close)?i:!1!==(null==t?void 0:t.showCloseIcon)&&ResolvedLayoutConfig.Header.defaults.close,minimise:null!=(i=null!=(i=null==e?void 0:e.minimise)?i:null==n?void 0:n.minimise)?i:ResolvedLayoutConfig.Header.defaults.minimise,tabDropdown:null!=(i=null!=(i=null==e?void 0:e.tabDropdown)?i:null==n?void 0:n.tabDropdown)?i:ResolvedLayoutConfig.Header.defaults.tabDropdown}},n.isPopout=e,n.resolve=function(t){if(e(t))return PopoutLayoutConfig.resolve(t);{let e;return e=void 0!==t.root?t.root:void 0!==t.content&&0<t.content.length?t.content[0]:void 0,{resolved:!0,root:RootItemConfig.resolve(e),openPopouts:n.resolveOpenPopouts(t.openPopouts),dimensions:n.Dimensions.resolve(t.dimensions),settings:n.Settings.resolve(t.settings),header:n.Header.resolve(t.header,t.settings,t.labels)}}},n.fromResolved=function(e){return{root:RootItemConfig.fromResolvedOrUndefined(e.root),openPopouts:PopoutLayoutConfig.fromResolvedArray(e.openPopouts),settings:ResolvedLayoutConfig.Settings.createCopy(e.settings),dimensions:n.Dimensions.fromResolved(e.dimensions),header:ResolvedLayoutConfig.Header.createCopy(e.header)}},n.isResolved=function(e){return void 0!==e.resolved&&!0===e.resolved},n.resolveOpenPopouts=function(e){if(void 0===e)return[];var t=e.length,n=new Array(t);for(let i=0;i<t;i++)n[i]=PopoutLayoutConfig.resolve(e[i]);return n}}(LayoutConfig=LayoutConfig||{}),function(r){var e;function t(e){var t=e.length,n=new Array(t);for(let o=0;o<t;o++){var i=e[o];n[o]=r.fromResolved(i)}return n}(e=r.Window||(r.Window={})).resolve=function(e,t){var n;let i;var o=ResolvedPopoutLayoutConfig.Window.defaults;return i=void 0!==e?{width:null!=(n=e.width)?n:o.width,height:null!=(n=e.height)?n:o.height,left:null!=(n=e.left)?n:o.left,top:null!=(n=e.top)?n:o.top}:{width:null!=(n=null==t?void 0:t.width)?n:o.width,height:null!=(n=null==t?void 0:t.height)?n:o.height,left:null!=(n=null==t?void 0:t.left)?n:o.left,top:null!=(n=null==t?void 0:t.top)?n:o.top}},e.fromResolved=function(e){return{width:null===e.width?void 0:e.width,height:null===e.height?void 0:e.height,left:null===e.left?void 0:e.left,top:null===e.top?void 0:e.top}},r.resolve=function(e){var t;let n;return n=void 0!==e.root?e.root:void 0!==e.content&&0<e.content.length?e.content[0]:void 0,{root:RootItemConfig.resolve(n),openPopouts:LayoutConfig.resolveOpenPopouts(e.openPopouts),dimensions:LayoutConfig.Dimensions.resolve(e.dimensions),settings:LayoutConfig.Settings.resolve(e.settings),header:LayoutConfig.Header.resolve(e.header,e.settings,e.labels),parentId:null!=(t=e.parentId)?t:null,indexInParent:null!=(t=e.indexInParent)?t:null,window:r.Window.resolve(e.window,e.dimensions),resolved:!0}},r.fromResolved=function(e){return{root:RootItemConfig.fromResolvedOrUndefined(e.root),openPopouts:t(e.openPopouts),dimensions:LayoutConfig.Dimensions.fromResolved(e.dimensions),settings:ResolvedLayoutConfig.Settings.createCopy(e.settings),header:ResolvedLayoutConfig.Header.createCopy(e.header),parentId:e.parentId,indexInParent:e.indexInParent,window:r.Window.fromResolved(e.window)}},r.fromResolvedArray=t}(PopoutLayoutConfig=PopoutLayoutConfig||{}),init_esbuild_inject(),init_esbuild_inject();var instanceUnmountCheckTimer,EventEmitter=class{constructor(){this._allEventSubscriptions=[],this._subscriptionsMap=new Map,this.unbind=this.removeEventListener,this.trigger=this.emit}tryBubbleEvent(e,t){}emit(e,...t){let n=this._subscriptionsMap.get(e);if(void 0!==n){n=n.slice();for(let e=0;e<n.length;e++)(0,n[e])(...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitUnknown(e,...t){let n=this._subscriptionsMap.get(e);if(void 0!==n){n=n.slice();for(let e=0;e<n.length;e++)n[e](...t)}this.emitAllEvent(e,t),this.tryBubbleEvent(e,t)}emitBaseBubblingEvent(e){var t=new EventEmitter.BubblingEvent(e,this);this.emitUnknown(e,t)}emitUnknownBubblingEvent(e){var t=new EventEmitter.BubblingEvent(e,this);this.emitUnknown(e,t)}removeEventListener(e,t){this.removeUnknownEventListener(e,t)}off(e,t){this.removeEventListener(e,t)}addEventListener(e,t){this.addUnknownEventListener(e,t)}on(e,t){this.addEventListener(e,t)}addUnknownEventListener(t,n){if(t===EventEmitter.ALL_EVENT)this._allEventSubscriptions.push(n);else{let e=this._subscriptionsMap.get(t);void 0!==e?e.push(n):(e=[n],this._subscriptionsMap.set(t,e))}}removeUnknownEventListener(e,t){if(e===EventEmitter.ALL_EVENT)this.removeSubscription(e,this._allEventSubscriptions,t);else{var n=this._subscriptionsMap.get(e);if(void 0===n)throw new Error(\\\"No subscribtions to unsubscribe for event \\\"+e);this.removeSubscription(e,n,t)}}removeSubscription(e,t,n){var i=t.indexOf(n);if(i<0)throw new Error(\\\"Nothing to unbind for \\\"+e);t.splice(i,1)}emitAllEvent(t,n){var i=this._allEventSubscriptions.length;if(0<i){var o=n.slice(),r=(o.unshift(t),this._allEventSubscriptions.slice());for(let e=0;e<i;e++)r[e](...o)}}},ComponentContainer=(!function(e){e.ALL_EVENT=\\\"__all\\\",e.headerClickEventName=\\\"stackHeaderClick\\\",e.headerTouchStartEventName=\\\"stackHeaderTouchStart\\\";class t{constructor(e,t){this._name=e,this._target=t,this._isPropagationStopped=!1}get name(){return this._name}get target(){return this._target}get origin(){return this._target}get isPropagationStopped(){return this._isPropagationStopped}stopPropagation(){this._isPropagationStopped=!0}}class n extends(e.BubblingEvent=t){constructor(e,t,n){super(e,t),this._mouseEvent=n}get mouseEvent(){return this._mouseEvent}}e.ClickBubblingEvent=n;class i extends t{constructor(e,t,n){super(e,t),this._touchEvent=n}get touchEvent(){return this._touchEvent}}e.TouchStartBubblingEvent=i}(EventEmitter=EventEmitter||{}),class extends EventEmitter{constructor(e,t,n,i,o,r,s,a,l){super(),this._config=e,this._parent=t,this._layoutManager=n,this._element=i,this._updateItemConfigEvent=o,this._showEvent=r,this._hideEvent=s,this._focusEvent=a,this._blurEvent=l,this._stackMaximised=!1,this._width=0,this._height=0,this._visible=!0,this._isShownWithZeroDimensions=!0,this._componentType=e.componentType,this._isClosable=e.isClosable,this._initialState=e.componentState,this._state=this._initialState,this._boundComponent=this.layoutManager.bindComponent(this,e),this.updateElementPositionPropertyFromBoundComponent()}get width(){return this._width}get height(){return this._height}get parent(){return this._parent}get componentName(){return this._componentType}get componentType(){return this._componentType}get virtual(){return this._boundComponent.virtual}get component(){return this._boundComponent.component}get tab(){return this._tab}get title(){return this._parent.title}get layoutManager(){return this._layoutManager}get isHidden(){return!this._visible}get visible(){return this._visible}get state(){return this._state}get initialState(){return this._initialState}get element(){return this._element}destroy(){this.releaseComponent(),this.stateRequestEvent=void 0,this.emit(\\\"destroy\\\")}getElement(){return this._element}hide(){this._hideEvent()}show(){this._showEvent()}focus(e=!1){this._focusEvent(e)}blur(e=!1){this._blurEvent(e)}setSize(n,i){let o=this._parent;if(o.isColumn||o.isRow||null===o.parent)throw new AssertError(\\\"ICSSPRC\\\",\\\"ComponentContainer cannot have RowColumn Parent\\\");{let e;for(;null!==(o=(e=o).parent)&&!o.isColumn&&!o.isRow;);if(null===o)return!1;var r=o.isColumn?\\\"height\\\":\\\"width\\\",s=this[r];if(null===s)throw new UnexpectedNullError(\\\"ICSSCS11194\\\");var a=(\\\"height\\\"==r?i:n)/(s*(1/(e.size/100)))*100,l=(e.size-a)/(o.contentItems.length-1);for(let t=0;t<o.contentItems.length;t++){var d=o.contentItems[t];d===e?d.size=a:d.size+=l}return o.updateSize(!1),!0}}close(){this._isClosable&&(this.emit(\\\"close\\\"),this._parent.close())}replaceComponent(e){if(this.releaseComponent(),!ItemConfig.isComponent(e))throw new Error(\\\"ReplaceComponent not passed a component ItemConfig\\\");var t=ComponentItemConfig.resolve(e,!1);if(this._initialState=t.componentState,this._state=this._initialState,this._componentType=t.componentType,this._updateItemConfigEvent(t),this._boundComponent=this.layoutManager.bindComponent(this,t),this.updateElementPositionPropertyFromBoundComponent(),this._boundComponent.virtual){if(void 0!==this.virtualVisibilityChangeRequiredEvent&&this.virtualVisibilityChangeRequiredEvent(this,this._visible),void 0!==this.virtualRectingRequiredEvent){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}this.setBaseLogicalZIndex()}this.emit(\\\"stateChanged\\\")}getState(){return this._state}extendState(e){var t=deepExtend(this._state,e);this.setState(t)}setState(e){this._state=e,this._parent.emitBaseBubblingEvent(\\\"stateChanged\\\")}setTitle(e){this._parent.setTitle(e)}setTab(e){this._tab=e,this.emit(\\\"tab\\\",e)}setVisibility(e){this._boundComponent.virtual&&void 0!==this.virtualVisibilityChangeRequiredEvent&&this.virtualVisibilityChangeRequiredEvent(this,e),e?this._visible?!this._isShownWithZeroDimensions||0===this._height&&0===this._width||(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow()):(this._visible=!0,0===this._height&&0===this._width?this._isShownWithZeroDimensions=!0:(this._isShownWithZeroDimensions=!1,this.setSizeToNodeSize(this._width,this._height,!0),this.emitShow())):this._visible&&(this._visible=!1,this._isShownWithZeroDimensions=!1,this.emitHide())}setBaseLogicalZIndex(){this.setLogicalZIndex(LogicalZIndex.base)}setLogicalZIndex(e){e!==this._logicalZIndex&&(this._logicalZIndex=e,this.notifyVirtualZIndexChangeRequired())}enterDragMode(e,t){this._width=e,this._height=t,setElementWidth(this._element,e),setElementHeight(this._element,t),this.setLogicalZIndex(LogicalZIndex.drag),this.drag()}exitDragMode(){this.setBaseLogicalZIndex()}enterStackMaximised(){this._stackMaximised=!0,this.setLogicalZIndex(LogicalZIndex.stackMaximised)}exitStackMaximised(){this.setBaseLogicalZIndex(),this._stackMaximised=!1}drag(){if(this._boundComponent.virtual&&void 0!==this.virtualRectingRequiredEvent){this._layoutManager.fireBeforeVirtualRectingEvent(1);try{this.virtualRectingRequiredEvent(this,this._width,this._height)}finally{this._layoutManager.fireAfterVirtualRectingEvent()}}}setSizeToNodeSize(e,t,n){e===this._width&&t===this._height&&!n||(this._width=e,this._height=t,setElementWidth(this._element,e),setElementHeight(this._element,t),this._boundComponent.virtual?this.addVirtualSizedContainerToLayoutManager():(this.emit(\\\"resize\\\"),this.checkShownFromZeroDimensions()))}notifyVirtualRectingRequired(){void 0!==this.virtualRectingRequiredEvent&&(this.virtualRectingRequiredEvent(this,this._width,this._height),this.emit(\\\"resize\\\"),this.checkShownFromZeroDimensions())}notifyVirtualZIndexChangeRequired(){var e,t;void 0!==this.virtualZIndexChangeRequiredEvent&&(e=this._logicalZIndex,t=LogicalZIndexToDefaultMap[e],this.virtualZIndexChangeRequiredEvent(this,e,t))}updateElementPositionPropertyFromBoundComponent(){this._boundComponent.virtual?this._element.style.position=\\\"static\\\":this._element.style.position=\\\"\\\"}addVirtualSizedContainerToLayoutManager(){this._layoutManager.beginVirtualSizedContainerAdding();try{this._layoutManager.addVirtualSizedContainer(this)}finally{this._layoutManager.endVirtualSizedContainerAdding()}}checkShownFromZeroDimensions(){!this._isShownWithZeroDimensions||0===this._height&&0===this._width||(this._isShownWithZeroDimensions=!1,this.emitShow())}emitShow(){this.emit(\\\"shown\\\"),this.emit(\\\"show\\\")}emitHide(){this.emit(\\\"hide\\\")}releaseComponent(){this._stackMaximised&&this.exitStackMaximised(),this.emit(\\\"beforeComponentRelease\\\",this._boundComponent.component),this.layoutManager.unbindComponent(this,this._boundComponent.virtual,this._boundComponent.component)}}),BrowserPopout=(init_esbuild_inject(),class extends EventEmitter{constructor(e,t,n){super(),this._config=e,this._initialWindowSize=t,this._layoutManager=n,this._isInitialised=!1,this._popoutWindow=null,this.createWindow()}toConfig(){if(!1===this._isInitialised)throw new Error(\\\"Can't create config, layout not yet initialised\\\");var e=this.getGlInstance().saveLayout();let t,n;n=null===this._popoutWindow?t=null:(t=null!=(i=this._popoutWindow.screenX)?i:this._popoutWindow.screenLeft,null!=(i=this._popoutWindow.screenY)?i:this._popoutWindow.screenTop);var i={width:this.getGlInstance().width,height:this.getGlInstance().height,left:t,top:n};return{root:e.root,openPopouts:e.openPopouts,settings:e.settings,dimensions:e.dimensions,header:e.header,window:i,parentId:this._config.parentId,indexInParent:this._config.indexInParent,resolved:!0}}getGlInstance(){if(null===this._popoutWindow)throw new UnexpectedNullError(\\\"BPGGI24693\\\");return this._popoutWindow.__glInstance}getWindow(){if(null===this._popoutWindow)throw new UnexpectedNullError(\\\"BPGW087215\\\");return this._popoutWindow}close(){if(this.getGlInstance())this.getGlInstance().closeWindow();else try{this.getWindow().close()}catch(e){}}popIn(){let e,t=this._config.indexInParent;if(this._config.parentId){var n=deepExtend({},this.getGlInstance().saveLayout()).root;if(void 0===n)throw new UnexpectedUndefinedError(\\\"BPPIR19998\\\");var i=this._layoutManager.groundItem;if(void 0===i)throw new UnexpectedUndefinedError(\\\"BPPIG34972\\\");(e=i.getItemsByPopInParentId(this._config.parentId)[0])||(e=0<i.contentItems.length?i.contentItems[0]:i,t=0);i=this._layoutManager.createAndInitContentItem(n,e);e.addChild(i,t),this._layoutManager.layoutConfig.settings.popInOnClose?this._onClose():this.close()}}createWindow(){var e=this.createUrl(),t=Math.floor(1e6*Math.random()).toString(36),n=this.serializeWindowFeatures({width:this._initialWindowSize.width,height:this._initialWindowSize.height,innerWidth:this._initialWindowSize.width,innerHeight:this._initialWindowSize.height,menubar:\\\"no\\\",toolbar:\\\"no\\\",location:\\\"no\\\",personalbar:\\\"no\\\",resizable:\\\"yes\\\",scrollbars:\\\"no\\\",status:\\\"no\\\"});if(this._popoutWindow=globalThis.open(e,t,n),this._popoutWindow)this._popoutWindow.addEventListener(\\\"load\\\",()=>this.positionWindow(),{passive:!0}),this._popoutWindow.addEventListener(\\\"beforeunload\\\",()=>{this._layoutManager.layoutConfig.settings.popInOnClose?this.popIn():this._onClose()},{passive:!0}),this._checkReadyInterval=setInterval(()=>this.checkReady(),10);else if(!0===this._layoutManager.layoutConfig.settings.blockedPopoutsThrowError)throw new PopoutBlockedError(\\\"Popout blocked\\\")}checkReady(){if(null===this._popoutWindow)throw new UnexpectedNullError(\\\"BPCR01844\\\");this._popoutWindow.__glInstance&&this._popoutWindow.__glInstance.isInitialised&&(this.onInitialised(),void 0!==this._checkReadyInterval)&&(clearInterval(this._checkReadyInterval),this._checkReadyInterval=void 0)}serializeWindowFeatures(e){var t=[];for(const n in e)t.push(n+\\\"=\\\"+e[n].toString());return t.join(\\\",\\\")}createUrl(){var e=\\\"gl-window-config-\\\"+getUniqueId(),t=ResolvedLayoutConfig.minifyConfig(this._config);try{localStorage.setItem(e,JSON.stringify(t))}catch(n){throw new Error(\\\"Error while writing to localStorage \\\"+getErrorMessage(n))}t=new URL(location.href);return t.searchParams.set(\\\"gl-window\\\",e),t.toString()}positionWindow(){if(null===this._popoutWindow)throw new Error(\\\"BrowserPopout.positionWindow: null popoutWindow\\\");this._popoutWindow.moveTo(this._initialWindowSize.left,this._initialWindowSize.top),this._popoutWindow.focus()}onInitialised(){this._isInitialised=!0,this.getGlInstance().on(\\\"popIn\\\",()=>this.popIn()),this.emit(\\\"initialised\\\")}_onClose(){setTimeout(()=>this.emit(\\\"closed\\\"),50)}}),ContentItem=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),class extends EventEmitter{constructor(e,t,n,i){super(),this.layoutManager=e,this._parent=n,this._element=i,this._popInParentIds=[],this._type=t.type,this._id=t.id,this._isInitialised=!1,this.isGround=!1,this.isRow=!1,this.isColumn=!1,this.isStack=!1,this.isComponent=!1,this.size=t.size,this.sizeUnit=t.sizeUnit,this.minSize=t.minSize,this.minSizeUnit=t.minSizeUnit,this._isClosable=t.isClosable,this._pendingEventPropagations={},this._throttledEvents=[\\\"stateChanged\\\"],this._contentItems=this.createContentItems(t.content)}get type(){return this._type}get id(){return this._id}set id(e){this._id=e}get popInParentIds(){return this._popInParentIds}get parent(){return this._parent}get contentItems(){return this._contentItems}get isClosable(){return this._isClosable}get element(){return this._element}get isInitialised(){return this._isInitialised}static isStack(e){return e.isStack}static isComponentItem(e){return e.isComponent}static isComponentParentableItem(e){return e.isStack||e.isGround}removeChild(e,t=!1){var n=this._contentItems.indexOf(e);if(-1===n)throw new Error(\\\"Can't remove child item. Unknown content item\\\");if(t||this._contentItems[n].destroy(),this._contentItems.splice(n,1),0<this._contentItems.length)this.updateSize(!1);else if(!this.isGround&&!0===this._isClosable){if(null===this._parent)throw new UnexpectedNullError(\\\"CIUC00874\\\");this._parent.removeChild(this)}}addChild(e,t,n){return null==t&&(t=this._contentItems.length),this._contentItems.splice(t,0,e),e.setParent(this),!0===this._isInitialised&&!1===e._isInitialised&&e.init(),t}replaceChild(e,t,n=!1){var i=this._contentItems.indexOf(e),o=e._element.parentNode;if(-1===i)throw new AssertError(\\\"CIRCI23232\\\",\\\"Can't replace child. oldChild is not child of this\\\");if(null===o)throw new UnexpectedNullError(\\\"CIRCP23232\\\");if(o.replaceChild(t._element,e._element),!0===n&&(e._parent=null,e.destroy()),(this._contentItems[i]=t).setParent(this),t.size=e.size,t.sizeUnit=e.sizeUnit,t.minSize=e.minSize,t.minSizeUnit=e.minSizeUnit,null===t._parent)throw new UnexpectedNullError(\\\"CIRCNC45699\\\");!0===t._parent._isInitialised&&!1===t._isInitialised&&t.init(),this.updateSize(!1)}remove(){if(null===this._parent)throw new UnexpectedNullError(\\\"CIR11110\\\");this._parent.removeChild(this)}popout(){var e=getUniqueId(),e=this.layoutManager.createPopoutFromContentItem(this,void 0,e,void 0);return this.emitBaseBubblingEvent(\\\"stateChanged\\\"),e}calculateConfigContent(){var e=this._contentItems,t=e.length,n=new Array(t);for(let o=0;o<t;o++){var i=e[o];n[o]=i.toConfig()}return n}highlightDropZone(e,t,n){var i=this.layoutManager.dropTargetIndicator;if(null===i)throw new UnexpectedNullError(\\\"ACIHDZ5593\\\");i.highlightArea(n,1)}onDrop(e,t){this.addChild(e)}show(){this.layoutManager.beginSizeInvalidation();try{setElementDisplayVisibility(this._element,!0);for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].show()}finally{this.layoutManager.endSizeInvalidation()}}destroy(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].destroy();this._contentItems=[],this.emitBaseBubblingEvent(\\\"beforeItemDestroyed\\\"),this._element.remove(),this.emitBaseBubblingEvent(\\\"itemDestroyed\\\")}getElementArea(e){var t=(e=null!=e?e:this._element).getBoundingClientRect(),n=t.top+document.body.scrollTop,i=t.left+document.body.scrollLeft,o=t.width,t=t.height;return{x1:i,y1:n,x2:i+o,y2:n+t,surface:o*t,contentItem:this}}init(){this._isInitialised=!0,this.emitBaseBubblingEvent(\\\"itemCreated\\\"),this.emitUnknownBubblingEvent(this.type+\\\"Created\\\")}setParent(e){this._parent=e}addPopInParentId(e){this.popInParentIds.includes(e)||this.popInParentIds.push(e)}initContentItems(){for(let e=0;e<this._contentItems.length;e++)this._contentItems[e].init()}hide(){this.layoutManager.beginSizeInvalidation();try{setElementDisplayVisibility(this._element,!1)}finally{this.layoutManager.endSizeInvalidation()}}updateContentItemsSize(e){for(let t=0;t<this._contentItems.length;t++)this._contentItems[t].updateSize(e)}createContentItems(e){var t=e.length,n=new Array(t);for(let i=0;i<e.length;i++)n[i]=this.layoutManager.createContentItem(e[i],this);return n}propagateEvent(e,t){var n;1===t.length&&(n=t[0])instanceof EventEmitter.BubblingEvent&&!1===n.isPropagationStopped&&!0===this._isInitialised&&(!1===this.isGround&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}tryBubbleEvent(e,t){var n;1===t.length&&(n=t[0])instanceof EventEmitter.BubblingEvent&&!1===n.isPropagationStopped&&!0===this._isInitialised&&(!1===this.isGround&&this._parent?this._parent.emitUnknown(e,n):this.scheduleEventPropagationToLayoutManager(e,n))}scheduleEventPropagationToLayoutManager(e,t){-1===this._throttledEvents.indexOf(e)?this.layoutManager.emitUnknown(e,t):!0!==this._pendingEventPropagations[e]&&(this._pendingEventPropagations[e]=!0,globalThis.requestAnimationFrame(()=>this.propagateEventToLayoutManager(e,t)))}propagateEventToLayoutManager(e,t){this._pendingEventPropagations[e]=!1,this.layoutManager.emitUnknown(e,t)}}),ComponentItem=class extends ContentItem{constructor(e,t,n){super(e,t,n,document.createElement(\\\"div\\\")),this._parentItem=n,this._focused=!1,this.isComponent=!0,this._reorderEnabled=t.reorderEnabled,this.applyUpdatableConfig(t),this._initialWantMaximise=t.maximised;var i=document.createElement(\\\"div\\\");i.classList.add(\\\"lm_content\\\"),this.element.appendChild(i),this._container=new ComponentContainer(t,this,e,i,e=>this.handleUpdateItemConfigEvent(e),()=>this.show(),()=>this.hide(),e=>this.focus(e),e=>this.blur(e))}get componentName(){return this._container.componentType}get componentType(){return this._container.componentType}get reorderEnabled(){return this._reorderEnabled}get initialWantMaximise(){return this._initialWantMaximise}get component(){return this._container.component}get container(){return this._container}get parentItem(){return this._parentItem}get headerConfig(){return this._headerConfig}get title(){return this._title}get tab(){return this._tab}get focused(){return this._focused}destroy(){this._container.destroy(),super.destroy()}applyUpdatableConfig(e){this.setTitle(e.title),this._headerConfig=e.header}toConfig(){var e=this._container.stateRequestEvent,e=void 0===e?this._container.state:e();return{type:ItemType.component,content:[],size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,maximised:!1,isClosable:this.isClosable,reorderEnabled:this._reorderEnabled,title:this._title,header:ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig),componentType:ResolvedComponentItemConfig.copyComponentType(this.componentType),componentState:e}}close(){if(null===this.parent)throw new UnexpectedNullError(\\\"CIC68883\\\");this.parent.removeChild(this,!1)}enterDragMode(e,t){setElementWidth(this.element,e),setElementHeight(this.element,t),this._container.enterDragMode(e,t)}exitDragMode(){this._container.exitDragMode()}enterStackMaximised(){this._container.enterStackMaximised()}exitStackMaximised(){this._container.exitStackMaximised()}drag(){this._container.drag()}updateSize(e){this.updateNodeSize(e)}init(){this.updateNodeSize(!1),super.init(),this._container.emit(\\\"open\\\"),this.initContentItems()}setTitle(e){this._title=e,this.emit(\\\"titleChanged\\\",e),this.emit(\\\"stateChanged\\\")}setTab(e){this._tab=e,this.emit(\\\"tab\\\",e),this._container.setTab(e)}hide(){super.hide(),this._container.setVisibility(!1)}show(){super.show(),this._container.setVisibility(!0)}focus(e=!1){this.parentItem.setActiveComponentItem(this,!0,e)}setFocused(e){this._focused=!0,this.tab.setFocused(),e||this.emitBaseBubblingEvent(\\\"focus\\\")}blur(e=!1){this._focused&&this.layoutManager.setFocusedComponentItem(void 0,e)}setBlurred(e){this._focused=!1,this.tab.setBlurred(),e||this.emitBaseBubblingEvent(\\\"blur\\\")}setParent(e){this._parentItem=e,super.setParent(e)}handleUpdateItemConfigEvent(e){this.applyUpdatableConfig(e)}updateNodeSize(e){var t,n;\\\"none\\\"!==this.element.style.display&&(({width:t,height:n}=getElementWidthAndHeight(this.element)),this._container.setSizeToNodeSize(t,n,e))}},ComponentParentableItem=(init_esbuild_inject(),init_esbuild_inject(),class extends ContentItem{constructor(){super(...arguments),this._focused=!1}get focused(){return this._focused}setFocusedValue(e){this._focused=e}}),DragListener=(init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),class extends EventEmitter{constructor(e,t){super(),this._eElement=e,this._pointerTracking=!1,this._pointerDownEventListener=e=>this.onPointerDown(e),this._pointerMoveEventListener=e=>this.onPointerMove(e),this._pointerUpEventListener=e=>this.onPointerUp(e),this._timeout=void 0,this._allowableTargets=[e,...t],this._oDocument=document,this._eBody=document.body,this._nDelay=1800,this._nDistance=10,this._nX=0,this._nY=0,this._nOriginalX=0,this._nOriginalY=0,this._dragging=!1,this._eElement.addEventListener(\\\"pointerdown\\\",this._pointerDownEventListener,{passive:!0})}destroy(){this.checkRemovePointerTrackingEventListeners(),this._eElement.removeEventListener(\\\"pointerdown\\\",this._pointerDownEventListener)}cancelDrag(){this.processDragStop(void 0)}onPointerDown(e){var t;this._allowableTargets.includes(e.target)&&e.isPrimary&&(t=this.getPointerCoordinates(e),this.processPointerDown(t))}processPointerDown(e){this._nOriginalX=e.x,this._nOriginalY=e.y,this._oDocument.addEventListener(\\\"pointermove\\\",this._pointerMoveEventListener),this._oDocument.addEventListener(\\\"pointerup\\\",this._pointerUpEventListener,{passive:!0}),this._pointerTracking=!0,this._timeout=setTimeout(()=>{try{this.startDrag()}catch(e){throw console.error(e),e}},this._nDelay)}onPointerMove(e){this._pointerTracking&&(this.processDragMove(e),e.preventDefault())}processDragMove(e){this._nX=e.pageX-this._nOriginalX,this._nY=e.pageY-this._nOriginalY,!1===this._dragging&&(Math.abs(this._nX)>this._nDistance||Math.abs(this._nY)>this._nDistance)&&this.startDrag(),this._dragging&&this.emit(\\\"drag\\\",this._nX,this._nY,e)}onPointerUp(e){this.processDragStop(e)}processDragStop(e){var t;void 0!==this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this.checkRemovePointerTrackingEventListeners(),!0===this._dragging&&(this._eBody.classList.remove(\\\"lm_dragging\\\"),this._eElement.classList.remove(\\\"lm_dragging\\\"),null!=(t=this._oDocument.querySelector(\\\"iframe\\\"))&&t.style.setProperty(\\\"pointer-events\\\",\\\"\\\"),this._dragging=!1,this.emit(\\\"dragStop\\\",e))}checkRemovePointerTrackingEventListeners(){this._pointerTracking&&(this._oDocument.removeEventListener(\\\"pointermove\\\",this._pointerMoveEventListener),this._oDocument.removeEventListener(\\\"pointerup\\\",this._pointerUpEventListener),this._pointerTracking=!1)}startDrag(){var e;void 0!==this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._dragging=!0,this._eBody.classList.add(\\\"lm_dragging\\\"),this._eElement.classList.add(\\\"lm_dragging\\\"),null!=(e=this._oDocument.querySelector(\\\"iframe\\\"))&&e.style.setProperty(\\\"pointer-events\\\",\\\"none\\\"),this.emit(\\\"dragStart\\\",this._nOriginalX,this._nOriginalY)}getPointerCoordinates(e){return{x:e.pageX,y:e.pageY}}}),Splitter=class{constructor(e,t,n){this._isVertical=e,this._size=t,this._grabSize=n<this._size?this._size:n,this._element=document.createElement(\\\"div\\\"),this._element.classList.add(\\\"lm_splitter\\\");var i=document.createElement(\\\"div\\\"),o=(i.classList.add(\\\"lm_drag_handle\\\"),this._grabSize-this._size),r=o/2;this._isVertical?(i.style.top=numberToPixels(-r),i.style.height=numberToPixels(this._size+o),this._element.classList.add(\\\"lm_vertical\\\"),this._element.style.height=numberToPixels(this._size)):(i.style.left=numberToPixels(-r),i.style.width=numberToPixels(this._size+o),this._element.classList.add(\\\"lm_horizontal\\\"),this._element.style.width=numberToPixels(this._size)),this._element.appendChild(i),this._dragListener=new DragListener(this._element,[i])}get element(){return this._element}destroy(){this._element.remove()}on(e,t){this._dragListener.on(e,t)}},RowOrColumn=class extends ContentItem{constructor(e,t,n,i){switch(super(t,n,i,RowOrColumn.createElement(document,e)),this._rowOrColumnParent=i,this._splitter=[],this.isRow=!e,this.isColumn=e,this._childElementContainer=this.element,this._splitterSize=t.layoutConfig.dimensions.borderWidth,this._splitterGrabSize=t.layoutConfig.dimensions.borderGrabWidth,this._isColumn=e,this._dimension=e?\\\"height\\\":\\\"width\\\",this._splitterPosition=null,this._splitterMinPosition=null,this._splitterMaxPosition=null,n.type){case ItemType.row:case ItemType.column:this._configType=n.type;break;default:throw new AssertError(\\\"ROCCCT00925\\\")}}newComponent(e,t,n,i){return this.newItem({type:\\\"component\\\",componentType:e,componentState:t,title:n},i)}addComponent(e,t,n,i){return this.addItem({type:\\\"component\\\",componentType:e,componentState:t,title:n},i)}newItem(e,t){t=this.addItem(e,t);var n=this.contentItems[t];return ContentItem.isStack(n)&&ItemConfig.isComponent(e)?n.contentItems[0]:n}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();var n=ItemConfig.resolve(e,!1),n=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(n,t,!1)}addChild(t,e,n){void 0===e&&(e=this.contentItems.length),0<this.contentItems.length?(i=this.createSplitter(Math.max(0,e-1)).element,0<e?(this.contentItems[e-1].element.insertAdjacentElement(\\\"afterend\\\",i),i.insertAdjacentElement(\\\"afterend\\\",t.element)):(this.contentItems[0].element.insertAdjacentElement(\\\"beforebegin\\\",i),i.insertAdjacentElement(\\\"beforebegin\\\",t.element))):this._childElementContainer.appendChild(t.element),super.addChild(t,e);var i,o=1/this.contentItems.length*100;if(!0!==n){for(let e=0;e<this.contentItems.length;e++){var r,s=this.contentItems[e];s===t?t.size=o:(r=s.size*=(100-o)/100,s.size=r)}this.updateSize(!1)}return this.emitBaseBubblingEvent(\\\"stateChanged\\\"),e}removeChild(e,t){var n=this.contentItems.indexOf(e),i=Math.max(n-1,0);if(-1===n)throw new Error(\\\"Can't remove child. ContentItem is not child of this Row or Column\\\");this._splitter[i]&&(this._splitter[i].destroy(),this._splitter.splice(i,1)),super.removeChild(e,t),1===this.contentItems.length&&!0===this.isClosable?(n=this.contentItems[0],this.contentItems.length=0,this._rowOrColumnParent.replaceChild(this,n,!0)):(this.updateSize(!1),this.emitBaseBubblingEvent(\\\"stateChanged\\\"))}replaceChild(e,t){var n=e.size;super.replaceChild(e,t),t.size=n,this.updateSize(!1),this.emitBaseBubblingEvent(\\\"stateChanged\\\")}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init();for(let t=0;t<this.contentItems.length-1;t++)this.contentItems[t].element.insertAdjacentElement(\\\"afterend\\\",this.createSplitter(t).element);this.initContentItems()}}toConfig(){return{type:this.type,content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable}}setParent(e){this._rowOrColumnParent=e,super.setParent(e)}updateNodeSize(){0<this.contentItems.length&&(this.calculateRelativeSizes(),this.setAbsoluteSizes()),this.emitBaseBubblingEvent(\\\"stateChanged\\\"),this.emit(\\\"resize\\\")}setAbsoluteSizes(){var e=this.calculateAbsoluteSizes();for(let t=0;t<this.contentItems.length;t++)0<e.additionalPixel-t&&e.itemSizes[t]++,this._isColumn?(setElementWidth(this.contentItems[t].element,e.crossAxisSize),setElementHeight(this.contentItems[t].element,e.itemSizes[t])):(setElementWidth(this.contentItems[t].element,e.itemSizes[t]),setElementHeight(this.contentItems[t].element,e.crossAxisSize))}calculateAbsoluteSizes(){var e=(this.contentItems.length-1)*this._splitterSize,{width:t,height:n}=getElementWidthAndHeight(this.element);let i,o,r=(o=this._isColumn?(i=n-e,t):(i=t-e,n),0);var s=[];for(let l=0;l<this.contentItems.length;l++){var a=this.contentItems[l];let e;if(a.sizeUnit!==SizeUnitEnum.Percent)throw new AssertError(\\\"ROCCAS6692\\\");e=Math.floor(i*(a.size/100)),r+=e,s.push(e)}return{itemSizes:s,additionalPixel:Math.floor(i-r),totalSize:i,crossAxisSize:o}}calculateRelativeSizes(){let t=0;var n=[];let i=0;for(let l=0;l<this.contentItems.length;l++){var e=this.contentItems[l];switch(e.sizeUnit){case SizeUnitEnum.Percent:t+=e.size;break;case SizeUnitEnum.Fractional:n.push(e),i+=e.size;break;default:throw new AssertError(\\\"ROCCRS49110\\\",JSON.stringify(e))}}if(100!==Math.round(t))if(Math.round(t)<100&&0<n.length){var o=100-t;for(let e=0;e<n.length;e++){var r=n[e];r.size=o*(r.size/i),r.sizeUnit=SizeUnitEnum.Percent}}else{if(100<Math.round(t)&&0<n.length){for(let e=0;e<n.length;e++){var s=n[e];s.size=s.size/i*50,s.sizeUnit=SizeUnitEnum.Percent}t+=50}for(let e=0;e<this.contentItems.length;e++){var a=this.contentItems[e];a.size=a.size/t*100}}this.respectMinItemSize()}respectMinItemSize(){var r=this.calculateContentItemMinSize(this);if(!(r<=0||this.contentItems.length<=1)){let i=0,o=0;var s=[],a=[],l=this.calculateAbsoluteSizes();for(let t=0;t<l.itemSizes.length;t++){var n=l.itemSizes[t];let e;n<r?(o+=r-n,e={size:r}):(i+=n-r,e={size:n},s.push(e)),a.push(e)}if(!(0===o||o>i)){var d=o/i;let e=o;for(let t=0;t<s.length;t++){var h=s[t],u=Math.round((h.size-r)*d);e-=u,h.size-=u}0!==e&&(a[a.length-1].size-=e);for(let n=0;n<this.contentItems.length;n++)this.contentItems[n].size=a[n].size/l.totalSize*100}}}createSplitter(e){const n=new Splitter(this._isColumn,this._splitterSize,this._splitterGrabSize);return n.on(\\\"drag\\\",(e,t)=>this.onSplitterDrag(n,e,t)),n.on(\\\"dragStop\\\",()=>this.onSplitterDragStop(n)),n.on(\\\"dragStart\\\",()=>this.onSplitterDragStart(n)),this._splitter.splice(e,0,n),n}getSplitItems(e){var t=this._splitter.indexOf(e);return{before:this.contentItems[t],after:this.contentItems[t+1]}}calculateContentItemMinSize(e){var t,n=e.minSize;if(void 0===n)return t=this.layoutManager.layoutConfig.dimensions,this._isColumn?t.defaultMinItemHeight:t.defaultMinItemWidth;if(e.minSizeUnit===SizeUnitEnum.Pixel)return n;throw new AssertError(\\\"ROCGMD98831\\\",JSON.stringify(e))}calculateContentItemsTotalMinSize(e){let t=0;for(const n of e)t+=this.calculateContentItemMinSize(n);return t}onSplitterDragStart(e){var t=this.getSplitItems(e),n=pixelsToNumber(t.before.element.style[this._dimension]),i=pixelsToNumber(t.after.element.style[this._dimension]),o=this.calculateContentItemsTotalMinSize(t.before.contentItems),t=this.calculateContentItemsTotalMinSize(t.after.contentItems);this._splitterPosition=0,this._splitterMinPosition=-1*(n-o),this._splitterMaxPosition=i-t}onSplitterDrag(e,t,n){var i=this._isColumn?n:t;if(null===this._splitterMinPosition||null===this._splitterMaxPosition)throw new UnexpectedNullError(\\\"ROCOSD59226\\\");i=Math.max(i,this._splitterMinPosition);i=Math.min(i,this._splitterMaxPosition),i=numberToPixels(this._splitterPosition=i);this._isColumn?e.element.style.top=i:e.element.style.left=i}onSplitterDragStop(e){if(null===this._splitterPosition)throw new UnexpectedNullError(\\\"ROCOSDS66932\\\");var t=this.getSplitItems(e),n=pixelsToNumber(t.before.element.style[this._dimension]),i=pixelsToNumber(t.after.element.style[this._dimension]),n=(this._splitterPosition+n)/(n+i),i=t.before.size+t.after.size;t.before.size=n*i,t.after.size=(1-n)*i,e.element.style.top=numberToPixels(0),e.element.style.left=numberToPixels(0),globalThis.requestAnimationFrame(()=>this.updateSize(!1))}},GroundItem=(!function(e){e.getElementDimensionSize=function(e,t){return(\\\"width\\\"===t?getElementWidth:getElementHeight)(e)},e.setElementDimensionSize=function(e,t,n){return(\\\"width\\\"===t?setElementWidth:setElementHeight)(e,n)},e.createElement=function(e,t){var n=e.createElement(\\\"div\\\");return n.classList.add(\\\"lm_item\\\"),t?n.classList.add(\\\"lm_column\\\"):n.classList.add(\\\"lm_row\\\"),n}}(RowOrColumn=RowOrColumn||{}),class extends ComponentParentableItem{constructor(e,t,n){super(e,ResolvedGroundItemConfig.create(t),null,GroundItem.createElement(document)),this.isGround=!0,this._childElementContainer=this.element,this._containerElement=n;let i=null;for(;;){var o=i?i.previousSibling:this._containerElement.lastChild;if(!(o instanceof Element&&o.classList.contains(\\\"lm_content\\\")))break;i=o}this._containerElement.insertBefore(this.element,i)}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init(),this.initContentItems()}}loadRoot(e){var t;this.clearRoot(),void 0!==e&&(t=this.layoutManager.createAndInitContentItem(e,this),this.addChild(t,0))}clearRoot(){var e=this.contentItems;switch(e.length){case 0:return;case 1:return void e[0].remove();default:throw new AssertError(\\\"GILR07721\\\")}}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();var n=ItemConfig.resolve(e,!1);let i;if((i=0<this.contentItems.length?this.contentItems[0]:this).isComponent)throw new Error(\\\"Cannot add item as child to ComponentItem\\\");return n=this.layoutManager.createAndInitContentItem(n,i),t=i.addChild(n,t),i===this?-1:t}loadComponentAsRoot(e){this.clearRoot();var t=ItemConfig.resolve(e,!1);if(t.maximised)throw new Error(\\\"Root Component cannot be maximised\\\");t=new ComponentItem(this.layoutManager,t,this);t.init(),this.addChild(t,0)}addChild(e,t){if(0<this.contentItems.length)throw new Error(\\\"Ground node can only have a single child\\\");return this._childElementContainer.appendChild(e.element),t=super.addChild(e,t),this.updateSize(!1),this.emitBaseBubblingEvent(\\\"stateChanged\\\"),t}calculateConfigContent(){var e=this.contentItems,t=e.length,n=new Array(t);for(let o=0;o<t;o++){var i=e[o].toConfig();if(!ResolvedRootItemConfig.isRootItemConfig(i))throw new AssertError(\\\"RCCC66832\\\");n[o]=i}return n}setSize(e,t){void 0===e||void 0===t?this.updateSize(!1):(setElementWidth(this.element,e),setElementHeight(this.element,t),0<this.contentItems.length&&(setElementWidth(this.contentItems[0].element,e),setElementHeight(this.contentItems[0].element,t)),this.updateContentItemsSize(!1))}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}createSideAreas(){var e=GroundItem.Area.oppositeSides,t=new Array(Object.keys(e).length);let n=0;for(const r in e){var i=r,o=this.getElementArea();if(null===o)throw new UnexpectedNullError(\\\"RCSA77553\\\");\\\"2\\\"===e[o.side=i][1]?o[i]=o[e[i]]-50:o[i]=o[e[i]]+50,o.surface=(o.x2-o.x1)*(o.y2-o.y1),t[n++]=o}return t}highlightDropZone(e,t,n){this.layoutManager.tabDropPlaceholder.remove(),super.highlightDropZone(e,t,n)}onDrop(e,t){var n,i,o,r;e.isComponent&&(n=e,(r=ResolvedStackItemConfig.createDefault()).header=ResolvedHeaderedItemConfig.Header.createCopy(n.headerConfig),(n=this.layoutManager.createAndInitContentItem(r,this)).addChild(e),e=n),0===this.contentItems.length?this.addChild(e):(e.type!==ItemType.row&&e.type!==ItemType.column||(r=ResolvedStackItemConfig.createDefault(),(n=this.layoutManager.createContentItem(r,this)).addChild(e),e=n),r=\\\"x\\\"==t.side[0]?ItemType.row:ItemType.column,n=\\\"2\\\"==t.side[1],((i=this.contentItems[0])instanceof RowOrColumn&&i.type===r?(o=i.contentItems[n?0:i.contentItems.length-1],i.addChild(e,n?0:void 0,!0),o.size*=.5,e.size=o.size,e.sizeUnit=SizeUnitEnum.Percent,i):(o=ResolvedItemConfig.createDefault(r),r=this.layoutManager.createContentItem(o,this),this.replaceChild(i,r),r.addChild(e,n?0:void 0,!0),r.addChild(i,n?void 0:0,!0),i.size=50,e.size=50,e.sizeUnit=SizeUnitEnum.Percent,r)).updateSize(!1))}dock(){throw new AssertError(\\\"GID87731\\\")}validateDocking(){throw new AssertError(\\\"GIVD87732\\\")}getAllContentItems(){var e=[this];return this.deepGetAllContentItems(this.contentItems,e),e}getConfigMaximisedItems(){var e=[];return this.deepFilterContentItems(this.contentItems,e,e=>!(!ContentItem.isStack(e)||!e.initialWantMaximise)||!(!ContentItem.isComponentItem(e)||!e.initialWantMaximise)),e}getItemsByPopInParentId(t){var e=[];return this.deepFilterContentItems(this.contentItems,e,e=>e.popInParentIds.includes(t)),e}toConfig(){throw new Error(\\\"Cannot generate GroundItem config\\\")}setActiveComponentItem(e,t,n){}updateNodeSize(){var{width:e,height:t}=getElementWidthAndHeight(this._containerElement);setElementWidth(this.element,e),setElementHeight(this.element,t),0<this.contentItems.length&&(setElementWidth(this.contentItems[0].element,e),setElementHeight(this.contentItems[0].element,t))}deepGetAllContentItems(e,t){for(let i=0;i<e.length;i++){var n=e[i];t.push(n),this.deepGetAllContentItems(n.contentItems,t)}}deepFilterContentItems(e,t,n){for(let o=0;o<e.length;o++){var i=e[o];n(i)&&t.push(i),this.deepFilterContentItems(i.contentItems,t,n)}}}),HeaderButton=(!function(e){(e.Area||(e.Area={})).oppositeSides={y2:\\\"y1\\\",x2:\\\"x1\\\",y1:\\\"y2\\\",x1:\\\"x2\\\"},e.createElement=function(e){var t=e.createElement(\\\"div\\\");return t.classList.add(\\\"lm_goldenlayout\\\"),t.classList.add(\\\"lm_item\\\"),t.classList.add(\\\"lm_root\\\"),t}}(GroundItem=GroundItem||{}),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),class{constructor(e,t,n,i){this._header=e,this._pushEvent=i,this._clickEventListener=e=>this.onClick(e),this._touchStartEventListener=e=>this.onTouchStart(e),this._element=document.createElement(\\\"div\\\"),this._element.classList.add(n),this._element.title=t,this._header.on(\\\"destroy\\\",()=>this.destroy()),this._element.addEventListener(\\\"click\\\",this._clickEventListener,{passive:!0}),this._element.addEventListener(\\\"touchstart\\\",this._touchStartEventListener,{passive:!0}),this._header.controlsContainerElement.appendChild(this._element)}get element(){return this._element}destroy(){var e;this._element.removeEventListener(\\\"click\\\",this._clickEventListener),this._element.removeEventListener(\\\"touchstart\\\",this._touchStartEventListener),null!=(e=this._element.parentNode)&&e.removeChild(this._element)}onClick(e){this._pushEvent(e)}onTouchStart(e){this._pushEvent(e)}}),Tab=(init_esbuild_inject(),init_esbuild_inject(),class{constructor(e,t,n,i,o){this._layoutManager=e,this._componentItem=t,this._closeEvent=n,this._focusEvent=i,this._dragStartEvent=o,this._isActive=!1,this._tabClickListener=e=>this.onTabClickDown(e),this._tabTouchStartListener=e=>this.onTabTouchStart(e),this._closeClickListener=()=>this.onCloseClick(),this._closeTouchStartListener=()=>this.onCloseTouchStart(),this._dragStartListener=(e,t)=>this.onDragStart(e,t),this._contentItemDestroyListener=()=>this.onContentItemDestroy(),this._tabTitleChangedListener=e=>this.setTitle(e),this._element=document.createElement(\\\"div\\\"),this._element.classList.add(\\\"lm_tab\\\"),this._titleElement=document.createElement(\\\"span\\\"),this._titleElement.classList.add(\\\"lm_title\\\"),this._closeElement=document.createElement(\\\"div\\\"),this._closeElement.classList.add(\\\"lm_close_tab\\\"),this._element.appendChild(this._titleElement),this._element.appendChild(this._closeElement),t.isClosable?this._closeElement.style.display=\\\"\\\":this._closeElement.style.display=\\\"none\\\",this.setTitle(t.title),this._componentItem.on(\\\"titleChanged\\\",this._tabTitleChangedListener);var r=null!=(r=t.reorderEnabled)?r:this._layoutManager.layoutConfig.settings.reorderEnabled;r&&this.enableReorder(),this._element.addEventListener(\\\"click\\\",this._tabClickListener,{passive:!0}),this._element.addEventListener(\\\"touchstart\\\",this._tabTouchStartListener,{passive:!0}),this._componentItem.isClosable?(this._closeElement.addEventListener(\\\"click\\\",this._closeClickListener,{passive:!0}),this._closeElement.addEventListener(\\\"touchstart\\\",this._closeTouchStartListener,{passive:!0})):(this._closeElement.remove(),this._closeElement=void 0),this._componentItem.setTab(this),this._layoutManager.emit(\\\"tabCreated\\\",this)}get isActive(){return this._isActive}get componentItem(){return this._componentItem}get contentItem(){return this._componentItem}get element(){return this._element}get titleElement(){return this._titleElement}get closeElement(){return this._closeElement}get reorderEnabled(){return void 0!==this._dragListener}set reorderEnabled(e){e!==this.reorderEnabled&&(e?this.enableReorder():this.disableReorder())}setTitle(e){this._titleElement.innerText=e,this._element.title=e}setActive(e){e!==this._isActive&&((this._isActive=e)?this._element.classList.add(\\\"lm_active\\\"):this._element.classList.remove(\\\"lm_active\\\"))}destroy(){var e;this._closeEvent=void 0,this._focusEvent=void 0,this._dragStartEvent=void 0,this._element.removeEventListener(\\\"click\\\",this._tabClickListener),this._element.removeEventListener(\\\"touchstart\\\",this._tabTouchStartListener),null!=(e=this._closeElement)&&e.removeEventListener(\\\"click\\\",this._closeClickListener),null!=(e=this._closeElement)&&e.removeEventListener(\\\"touchstart\\\",this._closeTouchStartListener),this._componentItem.off(\\\"titleChanged\\\",this._tabTitleChangedListener),this.reorderEnabled&&this.disableReorder(),this._element.remove()}setBlurred(){this._element.classList.remove(\\\"lm_focused\\\"),this._titleElement.classList.remove(\\\"lm_focused\\\")}setFocused(){this._element.classList.add(\\\"lm_focused\\\"),this._titleElement.classList.add(\\\"lm_focused\\\")}onDragStart(e,t){if(void 0===this._dragListener)throw new UnexpectedUndefinedError(\\\"TODSDLU10093\\\");if(void 0===this._dragStartEvent)throw new UnexpectedUndefinedError(\\\"TODS23309\\\");this._dragStartEvent(e,t,this._dragListener,this.componentItem)}onContentItemDestroy(){void 0!==this._dragListener&&(this._dragListener.destroy(),this._dragListener=void 0)}onTabClickDown(e){var t=e.target;t!==this._element&&t!==this._titleElement||(0===e.button?this.notifyFocus():1===e.button&&this._componentItem.isClosable&&this.notifyClose())}onTabTouchStart(e){e.target===this._element&&this.notifyFocus()}onCloseClick(){this.notifyClose()}onCloseTouchStart(){this.notifyClose()}notifyClose(){if(void 0===this._closeEvent)throw new UnexpectedUndefinedError(\\\"TNC15007\\\");this._closeEvent(this._componentItem)}notifyFocus(){if(void 0===this._focusEvent)throw new UnexpectedUndefinedError(\\\"TNA15007\\\");this._focusEvent(this._componentItem)}enableReorder(){this._dragListener=new DragListener(this._element,[this._titleElement]),this._dragListener.on(\\\"dragStart\\\",this._dragStartListener),this._componentItem.on(\\\"destroy\\\",this._contentItemDestroyListener)}disableReorder(){if(void 0===this._dragListener)throw new UnexpectedUndefinedError(\\\"TDR87745\\\");this._componentItem.off(\\\"destroy\\\",this._contentItemDestroyListener),this._dragListener.off(\\\"dragStart\\\",this._dragStartListener),this._dragListener=void 0}}),TabsContainer=class{constructor(e,t,n,i,o){this._layoutManager=e,this._componentRemoveEvent=t,this._componentFocusEvent=n,this._componentDragStartEvent=i,this._dropdownActiveChangedEvent=o,this._tabs=[],this._lastVisibleTabIndex=-1,this._dropdownActive=!1,this._element=document.createElement(\\\"section\\\"),this._element.classList.add(\\\"lm_tabs\\\"),this._dropdownElement=document.createElement(\\\"section\\\"),this._dropdownElement.classList.add(\\\"lm_tabdropdown_list\\\"),this._dropdownElement.style.display=\\\"none\\\"}get tabs(){return this._tabs}get tabCount(){return this._tabs.length}get lastVisibleTabIndex(){return this._lastVisibleTabIndex}get element(){return this._element}get dropdownElement(){return this._dropdownElement}get dropdownActive(){return this._dropdownActive}destroy(){for(let e=0;e<this._tabs.length;e++)this._tabs[e].destroy()}createTab(e,t){for(let i=0;i<this._tabs.length;i++)if(this._tabs[i].componentItem===e)return;var n=new Tab(this._layoutManager,e,e=>this.handleTabCloseEvent(e),e=>this.handleTabFocusEvent(e),(e,t,n,i)=>this.handleTabDragStartEvent(e,t,n,i));void 0===t&&(t=this._tabs.length),this._tabs.splice(t,0,n),t<this._element.childNodes.length?this._element.insertBefore(n.element,this._element.childNodes[t]):this._element.appendChild(n.element)}removeTab(e){for(let t=0;t<this._tabs.length;t++)if(this._tabs[t].componentItem===e)return this._tabs[t].destroy(),void this._tabs.splice(t,1);throw new Error(\\\"contentItem is not controlled by this header\\\")}processActiveComponentChanged(e){let t=-1;for(let o=0;o<this._tabs.length;o++){var n=this._tabs[o].componentItem===e;this._tabs[o].setActive(n),n&&(t=o)}if(t<0)throw new AssertError(\\\"HSACI56632\\\");if(this._layoutManager.layoutConfig.settings.reorderOnTabMenuClick&&-1!==this._lastVisibleTabIndex&&t>this._lastVisibleTabIndex){var i=this._tabs[t];for(let e=t;0<e;e--)this._tabs[e]=this._tabs[e-1];this._tabs[0]=i}}updateTabSizes(e,t){let n=!1;this.tryUpdateTabSizes(n,e,t)||(n=!0,this.tryUpdateTabSizes(n,e,t)),n!==this._dropdownActive&&(this._dropdownActive=n,this._dropdownActiveChangedEvent())}tryUpdateTabSizes(o,r,e){if(0<this._tabs.length){if(void 0===e)throw new Error(\\\"non-empty tabs must have active component item\\\");let t=0,n=!1;var s=this._layoutManager.layoutConfig.settings.tabOverlapAllowance,a=this._tabs.indexOf(e.tab),l=this._tabs[a];this._lastVisibleTabIndex=-1;for(let i=0;i<this._tabs.length;i++){var d=this._tabs[i].element,h=(d.parentElement!==this._element&&this._element.appendChild(d),getComputedStyle(l.element).marginRight),h=pixelsToNumber(h),h=d.offsetWidth+h;t+=h;let e=0;if((e=a<=i?t:(h=pixelsToNumber(getComputedStyle(l.element).marginRight),t+l.element.offsetWidth+h))>r){if(n)i===a&&(d.style.zIndex=\\\"auto\\\",d.style.marginLeft=\\\"\\\",d.parentElement!==this._element)&&this._element.appendChild(d);else{let t;if((t=0<a&&a<=i?(e-r)/(i-1):(e-r)/i)<s){for(let e=0;e<=i;e++){var u=e!==a&&0!==e?\\\"-\\\"+numberToPixels(t):\\\"\\\";this._tabs[e].element.style.zIndex=numberToPixels(i-e),this._tabs[e].element.style.marginLeft=u}this._lastVisibleTabIndex=i,d.parentElement!==this._element&&this._element.appendChild(d)}else n=!0}if(n&&i!==a){if(!o)return!1;d.style.zIndex=\\\"auto\\\",d.style.marginLeft=\\\"\\\",d.parentElement!==this._dropdownElement&&this._dropdownElement.appendChild(d)}}else this._lastVisibleTabIndex=i,d.style.zIndex=\\\"auto\\\",d.style.marginLeft=\\\"\\\",d.parentElement!==this._element&&this._element.appendChild(d)}}return!0}showAdditionalTabsDropdown(){this._dropdownElement.style.display=\\\"\\\"}hideAdditionalTabsDropdown(){this._dropdownElement.style.display=\\\"none\\\"}handleTabCloseEvent(e){this._componentRemoveEvent(e)}handleTabFocusEvent(e){this._componentFocusEvent(e)}handleTabDragStartEvent(e,t,n,i){this._componentDragStartEvent(e,t,n,i)}},Header=class extends EventEmitter{constructor(e,t,n,i,o,r,s,a,l,d,h,u,c){super(),this._layoutManager=e,this._parent=t,this._configClosable=i,this._getActiveComponentItemEvent=o,this._popoutEvent=s,this._maximiseToggleEvent=a,this._clickEvent=l,this._touchStartEvent=d,this._componentRemoveEvent=h,this._componentFocusEvent=u,this._componentDragStartEvent=c,this._clickListener=e=>this.onClick(e),this._touchStartListener=e=>this.onTouchStart(e),this._rowColumnClosable=!0,this._closeButton=null,this._popoutButton=null,this._tabsContainer=new TabsContainer(this._layoutManager,e=>this.handleTabInitiatedComponentRemoveEvent(e),e=>this.handleTabInitiatedComponentFocusEvent(e),(e,t,n,i)=>this.handleTabInitiatedDragStartEvent(e,t,n,i),()=>this.processTabDropdownActiveChanged()),this._show=n.show,this._popoutEnabled=n.popoutEnabled,this._popoutLabel=n.popoutLabel,this._maximiseEnabled=n.maximiseEnabled,this._maximiseLabel=n.maximiseLabel,this._minimiseEnabled=n.minimiseEnabled,this._minimiseLabel=n.minimiseLabel,this._closeEnabled=n.closeEnabled,this._closeLabel=n.closeLabel,this._tabDropdownEnabled=n.tabDropdownEnabled,this._tabDropdownLabel=n.tabDropdownLabel,this.setSide(n.side),this._canRemoveComponent=this._configClosable,this._element=document.createElement(\\\"section\\\"),this._element.classList.add(\\\"lm_header\\\"),this._controlsContainerElement=document.createElement(\\\"section\\\"),this._controlsContainerElement.classList.add(\\\"lm_controls\\\"),this._element.appendChild(this._tabsContainer.element),this._element.appendChild(this._controlsContainerElement),this._element.appendChild(this._tabsContainer.dropdownElement),this._element.addEventListener(\\\"click\\\",this._clickListener,{passive:!0}),this._element.addEventListener(\\\"touchstart\\\",this._touchStartListener,{passive:!0}),this._documentMouseUpListener=()=>this._tabsContainer.hideAdditionalTabsDropdown(),globalThis.document.addEventListener(\\\"mouseup\\\",this._documentMouseUpListener,{passive:!0}),this._tabControlOffset=this._layoutManager.layoutConfig.settings.tabControlOffset,this._tabDropdownEnabled&&(this._tabDropdownButton=new HeaderButton(this,this._tabDropdownLabel,\\\"lm_tabdropdown\\\",()=>this._tabsContainer.showAdditionalTabsDropdown())),this._popoutEnabled&&(this._popoutButton=new HeaderButton(this,this._popoutLabel,\\\"lm_popout\\\",()=>this.handleButtonPopoutEvent())),this._maximiseEnabled&&(this._maximiseButton=new HeaderButton(this,this._maximiseLabel,\\\"lm_maximise\\\",e=>this.handleButtonMaximiseToggleEvent(e))),this._configClosable&&(this._closeButton=new HeaderButton(this,this._closeLabel,\\\"lm_close\\\",()=>r())),this.processTabDropdownActiveChanged()}get show(){return this._show}get side(){return this._side}get leftRightSided(){return this._leftRightSided}get layoutManager(){return this._layoutManager}get parent(){return this._parent}get tabs(){return this._tabsContainer.tabs}get lastVisibleTabIndex(){return this._tabsContainer.lastVisibleTabIndex}get element(){return this._element}get tabsContainerElement(){return this._tabsContainer.element}get controlsContainerElement(){return this._controlsContainerElement}destroy(){this.emit(\\\"destroy\\\"),this._popoutEvent=void 0,this._maximiseToggleEvent=void 0,this._clickEvent=void 0,this._touchStartEvent=void 0,this._componentRemoveEvent=void 0,this._componentFocusEvent=void 0,this._componentDragStartEvent=void 0,this._tabsContainer.destroy(),globalThis.document.removeEventListener(\\\"mouseup\\\",this._documentMouseUpListener),this._element.remove()}createTab(e,t){this._tabsContainer.createTab(e,t)}removeTab(e){this._tabsContainer.removeTab(e)}processActiveComponentChanged(e){this._tabsContainer.processActiveComponentChanged(e),this.updateTabSizes()}setSide(e){this._side=e,this._leftRightSided=[Side.right,Side.left].includes(this._side)}setRowColumnClosable(e){this._rowColumnClosable=e,this.updateClosability()}updateClosability(){let t;if(this._configClosable)if(this._rowColumnClosable){t=!0;var n=this.tabs.length;for(let e=0;e<n;e++)if(!this._tabsContainer.tabs[e].componentItem.isClosable){t=!1;break}}else t=!1;else t=!1;null!==this._closeButton&&setElementDisplayVisibility(this._closeButton.element,t),null!==this._popoutButton&&setElementDisplayVisibility(this._popoutButton.element,t),this._canRemoveComponent=t||1<this._tabsContainer.tabCount}applyFocusedValue(e){e?this._element.classList.add(\\\"lm_focused\\\"):this._element.classList.remove(\\\"lm_focused\\\")}processMaximised(){if(void 0===this._maximiseButton)throw new UnexpectedUndefinedError(\\\"HPMAX16997\\\");this._maximiseButton.element.setAttribute(\\\"title\\\",this._minimiseLabel)}processMinimised(){if(void 0===this._maximiseButton)throw new UnexpectedUndefinedError(\\\"HPMIN16997\\\");this._maximiseButton.element.setAttribute(\\\"title\\\",this._maximiseLabel)}updateTabSizes(){if(0<this._tabsContainer.tabCount){var t=this._show?this._layoutManager.layoutConfig.dimensions.headerHeight:0;this._leftRightSided?(this._element.style.height=\\\"\\\",this._element.style.width=numberToPixels(t)):(this._element.style.width=\\\"\\\",this._element.style.height=numberToPixels(t));let e;e=this._leftRightSided?this._element.offsetHeight-this._controlsContainerElement.offsetHeight-this._tabControlOffset:this._element.offsetWidth-this._controlsContainerElement.offsetWidth-this._tabControlOffset,this._tabsContainer.updateTabSizes(e,this._getActiveComponentItemEvent())}}handleTabInitiatedComponentRemoveEvent(e){if(this._canRemoveComponent){if(void 0===this._componentRemoveEvent)throw new UnexpectedUndefinedError(\\\"HHTCE22294\\\");this._componentRemoveEvent(e)}}handleTabInitiatedComponentFocusEvent(e){if(void 0===this._componentFocusEvent)throw new UnexpectedUndefinedError(\\\"HHTAE22294\\\");this._componentFocusEvent(e)}handleTabInitiatedDragStartEvent(e,t,n,i){if(this._canRemoveComponent){if(void 0===this._componentDragStartEvent)throw new UnexpectedUndefinedError(\\\"HHTDSE22294\\\");this._componentDragStartEvent(e,t,n,i)}else n.cancelDrag()}processTabDropdownActiveChanged(){void 0!==this._tabDropdownButton&&setElementDisplayVisibility(this._tabDropdownButton.element,this._tabsContainer.dropdownActive)}handleButtonPopoutEvent(){if(this._layoutManager.layoutConfig.settings.popoutWholeStack){if(void 0===this._popoutEvent)throw new UnexpectedUndefinedError(\\\"HHBPOE17834\\\");this._popoutEvent()}else{var e=this._getActiveComponentItemEvent();e&&e.popout()}}handleButtonMaximiseToggleEvent(e){if(void 0===this._maximiseToggleEvent)throw new UnexpectedUndefinedError(\\\"HHBMTE16834\\\");this._maximiseToggleEvent()}onClick(e){e.target===this._element&&this.notifyClick(e)}onTouchStart(e){e.target===this._element&&this.notifyTouchStart(e)}notifyClick(e){if(void 0===this._clickEvent)throw new UnexpectedUndefinedError(\\\"HNHC46834\\\");this._clickEvent(e)}notifyTouchStart(e){if(void 0===this._touchStartEvent)throw new UnexpectedUndefinedError(\\\"HNHTS46834\\\");this._touchStartEvent(e)}},Stack=class extends ComponentParentableItem{constructor(e,t,n){super(e,t,n,Stack.createElement(document)),this._headerSideChanged=!1,this._resizeListener=()=>this.handleResize(),this._maximisedListener=()=>this.handleMaximised(),this._minimisedListener=()=>this.handleMinimised(),this._headerConfig=t.header;var i=e.layoutConfig.header,o=t.content;let r;r=1!==o.length?void 0:o[0].header,this._initialWantMaximise=t.maximised,this._initialActiveItemIndex=null!=(o=t.activeItemIndex)?o:0;var o=null!=(o=null!=(o=null==(o=this._headerConfig)?void 0:o.show)?o:null===r||void 0===r?void 0:r.show)?o:i.show,s=null!=(s=null!=(s=null==(s=this._headerConfig)?void 0:s.popout)?s:null===r||void 0===r?void 0:r.popout)?s:i.popout,a=null!=(a=null!=(a=null==(a=this._headerConfig)?void 0:a.maximise)?a:null===r||void 0===r?void 0:r.maximise)?a:i.maximise,l=null!=(l=null!=(l=null==(l=this._headerConfig)?void 0:l.close)?l:null===r||void 0===r?void 0:r.close)?l:i.close,d=null!=(d=null!=(d=null==(d=this._headerConfig)?void 0:d.minimise)?d:null===r||void 0===r?void 0:r.minimise)?d:i.minimise,h=null!=(h=null!=(h=null==(h=this._headerConfig)?void 0:h.tabDropdown)?h:null===r||void 0===r?void 0:r.tabDropdown)?h:i.tabDropdown,i=(this._maximisedEnabled=!1!==a,{show:!1!==o,side:!1===o?Side.top:o,popoutEnabled:!1!==s,popoutLabel:!1===s?\\\"\\\":s,maximiseEnabled:this._maximisedEnabled,maximiseLabel:!1===a?\\\"\\\":a,closeEnabled:!1!==l,closeLabel:!1===l?\\\"\\\":l,minimiseEnabled:!0,minimiseLabel:d,tabDropdownEnabled:!1!==h,tabDropdownLabel:!1===h?\\\"\\\":h});this._header=new Header(e,this,i,t.isClosable&&!1!==l,()=>this.getActiveComponentItem(),()=>this.remove(),()=>this.handlePopoutEvent(),()=>this.toggleMaximise(),e=>this.handleHeaderClickEvent(e),e=>this.handleHeaderTouchStartEvent(e),e=>this.handleHeaderComponentRemoveEvent(e),e=>this.handleHeaderComponentFocusEvent(e),(e,t,n,i)=>this.handleHeaderComponentStartDragEvent(e,t,n,i)),this.isStack=!0,this._childElementContainer=document.createElement(\\\"section\\\"),this._childElementContainer.classList.add(\\\"lm_items\\\"),this.on(\\\"resize\\\",this._resizeListener),this._maximisedEnabled&&(this.on(\\\"maximised\\\",this._maximisedListener),this.on(\\\"minimised\\\",this._minimisedListener)),this.element.appendChild(this._header.element),this.element.appendChild(this._childElementContainer),this.setupHeaderPosition(),this._header.updateClosability()}get childElementContainer(){return this._childElementContainer}get header(){return this._header}get headerShow(){return this._header.show}get headerSide(){return this._header.side}get headerLeftRightSided(){return this._header.leftRightSided}get contentAreaDimensions(){return this._contentAreaDimensions}get initialWantMaximise(){return this._initialWantMaximise}get isMaximised(){return this===this.layoutManager.maximisedStack}get stackParent(){if(this.parent)return this.parent;throw new Error(\\\"Stack should always have a parent\\\")}updateSize(e){this.layoutManager.beginVirtualSizedContainerAdding();try{this.updateNodeSize(),this.updateContentItemsSize(e)}finally{this.layoutManager.endVirtualSizedContainerAdding()}}init(){if(!0!==this.isInitialised){this.updateNodeSize();for(let e=0;e<this.contentItems.length;e++)this._childElementContainer.appendChild(this.contentItems[e].element);super.init();var t=this.contentItems,n=t.length;if(0<n){if(this._initialActiveItemIndex<0||this._initialActiveItemIndex>=n)throw new Error(`ActiveItemIndex out of range: ${this._initialActiveItemIndex} id: `+this.id);for(let e=0;e<n;e++){var i=t[e];if(!(i instanceof ComponentItem))throw new Error(`Stack Content Item is not of type ComponentItem: ${e} id: `+this.id);this._header.createTab(i,e),i.hide(),i.container.setBaseLogicalZIndex()}this.setActiveComponentItem(t[this._initialActiveItemIndex],!1),this._header.updateTabSizes()}this._header.updateClosability(),this.initContentItems()}}setActiveContentItem(e){if(!ContentItem.isComponentItem(e))throw new Error(\\\"Stack.setActiveContentItem: item is not a ComponentItem\\\");this.setActiveComponentItem(e,!1)}setActiveComponentItem(e,t,n=!1){if(this._activeComponentItem!==e){if(-1===this.contentItems.indexOf(e))throw new Error(\\\"componentItem is not a child of this stack\\\");this.layoutManager.beginSizeInvalidation();try{void 0!==this._activeComponentItem&&this._activeComponentItem.hide(),this._activeComponentItem=e,this._header.processActiveComponentChanged(e),e.show()}finally{this.layoutManager.endSizeInvalidation()}this.emit(\\\"activeContentItemChanged\\\",e),this.layoutManager.emit(\\\"activeContentItemChanged\\\",e),this.emitStateChangedEvent()}(this.focused||t)&&this.layoutManager.setFocusedComponentItem(e,n)}getActiveContentItem(){var e;return null!=(e=this.getActiveComponentItem())?e:null}getActiveComponentItem(){return this._activeComponentItem}focusActiveContentItem(){var e;null!=(e=this._activeComponentItem)&&e.focus()}setFocusedValue(e){this._header.applyFocusedValue(e),super.setFocusedValue(e)}setRowColumnClosable(e){this._header.setRowColumnClosable(e)}newComponent(e,t,n,i){return this.newItem({type:\\\"component\\\",componentType:e,componentState:t,title:n},i)}addComponent(e,t,n,i){return this.addItem({type:\\\"component\\\",componentType:e,componentState:t,title:n},i)}newItem(e,t){return t=this.addItem(e,t),this.contentItems[t]}addItem(e,t){this.layoutManager.checkMinimiseMaximisedStack();var n=ItemConfig.resolve(e,!1),n=this.layoutManager.createAndInitContentItem(n,this);return this.addChild(n,t)}addChild(e,t,n=!1){if(void 0!==t&&t>this.contentItems.length)throw--t,new AssertError(\\\"SAC99728\\\");if(e instanceof ComponentItem)return t=super.addChild(e,t),this._childElementContainer.appendChild(e.element),this._header.createTab(e,t),this.setActiveComponentItem(e,n),this._header.updateTabSizes(),this.updateSize(!1),e.container.setBaseLogicalZIndex(),this._header.updateClosability(),this.emitStateChangedEvent(),t;throw new AssertError(\\\"SACC88532\\\")}removeChild(e,t){var n=e,i=this.contentItems.indexOf(n),o=1===this.contentItems.length;this._activeComponentItem===n&&(n.focused&&n.blur(),o||this.setActiveComponentItem(this.contentItems[0===i?1:i-1],!1)),this._header.removeTab(n),super.removeChild(n,t),o||this._header.updateClosability(),this.emitStateChangedEvent()}toggleMaximise(){this.isMaximised?this.minimise():this.maximise()}maximise(){if(!this.isMaximised){this.layoutManager.setMaximisedStack(this);var t=this.contentItems,n=t.length;for(let e=0;e<n;e++){var i=t[e];if(!(i instanceof ComponentItem))throw new AssertError(\\\"SMAXI87773\\\");i.enterStackMaximised()}this.emitStateChangedEvent()}}minimise(){if(this.isMaximised){this.layoutManager.setMaximisedStack(void 0);var t=this.contentItems,n=t.length;for(let e=0;e<n;e++){var i=t[e];if(!(i instanceof ComponentItem))throw new AssertError(\\\"SMINI87773\\\");i.exitStackMaximised()}this.emitStateChangedEvent()}}destroy(){var e;null!=(e=this._activeComponentItem)&&e.focused&&this._activeComponentItem.blur(),super.destroy(),this.off(\\\"resize\\\",this._resizeListener),this._maximisedEnabled&&(this.off(\\\"maximised\\\",this._maximisedListener),this.off(\\\"minimised\\\",this._minimisedListener)),this._header.destroy()}toConfig(){let e;if(this._activeComponentItem&&(e=this.contentItems.indexOf(this._activeComponentItem))<0)throw new Error(\\\"active component item not found in stack\\\");if(0<this.contentItems.length&&void 0===e)throw new Error(\\\"expected non-empty stack to have an active component item\\\");return{type:\\\"stack\\\",content:this.calculateConfigContent(),size:this.size,sizeUnit:this.sizeUnit,minSize:this.minSize,minSizeUnit:this.minSizeUnit,id:this.id,isClosable:this.isClosable,maximised:this.isMaximised,header:this.createHeaderConfig(),activeItemIndex:e}}onDrop(e,t){if(\\\"header\\\"===this._dropSegment){if(this.resetHeaderDropZone(),void 0===this._dropIndex)throw new UnexpectedUndefinedError(\\\"SODDI68990\\\");this.addChild(e,this._dropIndex)}else{var n,i,o,r;\\\"body\\\"===this._dropSegment?this.addChild(e,0,!0):(r=\\\"top\\\"===this._dropSegment||\\\"bottom\\\"===this._dropSegment,i=\\\"left\\\"===this._dropSegment||\\\"right\\\"===this._dropSegment,n=\\\"top\\\"===this._dropSegment||\\\"left\\\"===this._dropSegment,i=r&&this.stackParent.isColumn||i&&this.stackParent.isRow,e.isComponent&&((o=ResolvedStackItemConfig.createDefault()).header=this.createHeaderConfig(),(o=this.layoutManager.createAndInitContentItem(o,this)).addChild(e),e=o),e.type!==ItemType.row&&e.type!==ItemType.column||((o=ResolvedStackItemConfig.createDefault()).header=this.createHeaderConfig(),(o=this.layoutManager.createContentItem(o,this)).addChild(e),e=o),(i?(o=this.stackParent.contentItems.indexOf(this),this.stackParent.addChild(e,n?o:o+1,!0),this.size*=.5,e.size=this.size,e.sizeUnit=this.sizeUnit,this.stackParent):(i=r?ItemType.column:ItemType.row,o=ResolvedItemConfig.createDefault(i),r=this.layoutManager.createContentItem(o,this),this.stackParent.replaceChild(this,r),r.addChild(e,n?0:void 0,!0),r.addChild(this,n?void 0:0,!0),this.size=50,e.size=50,e.sizeUnit=SizeUnitEnum.Percent,r)).updateSize(!1))}}highlightDropZone(e,t){for(const o in this._contentAreaDimensions){var n=o,i=this._contentAreaDimensions[n].hoverArea;if(i.x1<e&&i.x2>e&&i.y1<t&&i.y2>t)return void(\\\"header\\\"===n?(this._dropSegment=\\\"header\\\",this.highlightHeaderDropZone(this._header.leftRightSided?t:e)):(this.resetHeaderDropZone(),this.highlightBodyDropZone(n)))}}getArea(){if(\\\"none\\\"===this.element.style.display)return null;var e=super.getElementArea(this._header.element),t=super.getElementArea(this._childElementContainer);if(null===e||null===t)throw new UnexpectedNullError(\\\"SGAHC13086\\\");var n=t.x2-t.x1,i=t.y2-t.y1;return this._contentAreaDimensions={header:{hoverArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},highlightArea:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}},0===this.contentItems.length?this._contentAreaDimensions.body={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}}:(this._contentAreaDimensions.left={hoverArea:{x1:t.x1,y1:t.y1,x2:t.x1+.25*n,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x1+.5*n,y2:t.y2}},this._contentAreaDimensions.top={hoverArea:{x1:t.x1+.25*n,y1:t.y1,x2:t.x1+.75*n,y2:t.y1+.5*i},highlightArea:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y1+.5*i}},this._contentAreaDimensions.right={hoverArea:{x1:t.x1+.75*n,y1:t.y1,x2:t.x2,y2:t.y2},highlightArea:{x1:t.x1+.5*n,y1:t.y1,x2:t.x2,y2:t.y2}},this._contentAreaDimensions.bottom={hoverArea:{x1:t.x1+.25*n,y1:t.y1+.5*i,x2:t.x1+.75*n,y2:t.y2},highlightArea:{x1:t.x1,y1:t.y1+.5*i,x2:t.x2,y2:t.y2}}),super.getElementArea(this.element)}positionHeader(e){this._header.side!==e&&(this._header.setSide(e),this._headerSideChanged=!0,this.setupHeaderPosition())}updateNodeSize(){if(\\\"none\\\"!==this.element.style.display){var t=getElementWidthAndHeight(this.element);this._header.show&&(t[this._header.leftRightSided?WidthOrHeightPropertyName.width:WidthOrHeightPropertyName.height]-=this.layoutManager.layoutConfig.dimensions.headerHeight),this._childElementContainer.style.width=numberToPixels(t.width),this._childElementContainer.style.height=numberToPixels(t.height);for(let e=0;e<this.contentItems.length;e++)this.contentItems[e].element.style.width=numberToPixels(t.width),this.contentItems[e].element.style.height=numberToPixels(t.height);this.emit(\\\"resize\\\"),this.emitStateChangedEvent()}}highlightHeaderDropZone(s){var a=this._header.lastVisibleTabIndex+1,e=this._header.tabsContainerElement.childNodes,l=new Array(a);let t=0,n=0;for(;n<a;){var i=e[t++];i!==this.layoutManager.tabDropPlaceholder&&(l[n++]=i)}var o=this.layoutManager.dropTargetIndicator;if(null===o)throw new UnexpectedNullError(\\\"SHHDZDTI97110\\\");let d;if(0===a){var h=this._header.element.getBoundingClientRect(),u=h.top+document.body.scrollTop,c=h.left+document.body.scrollLeft;d={x1:c,x2:c+100,y1:u+h.height-20,y2:u+h.height},this._dropIndex=0}else{let e=0,t=!1,n,i,o,r;do{var m=(r=l[e]).getBoundingClientRect(),p=m.top+document.body.scrollTop,f=m.left+document.body.scrollLeft;o=this._header.leftRightSided?(i=p,n=f,m.height):(i=f,n=p,m.width),s>=i&&s<i+o?t=!0:e++}while(e<a&&!t);if(!1===t&&s<i)return;s<i+o/2?(this._dropIndex=e,r.insertAdjacentElement(\\\"beforebegin\\\",this.layoutManager.tabDropPlaceholder)):(this._dropIndex=Math.min(e+1,a),r.insertAdjacentElement(\\\"afterend\\\",this.layoutManager.tabDropPlaceholder));c=this.layoutManager.tabDropPlaceholder.getBoundingClientRect(),u=c.top+document.body.scrollTop,h=c.left+document.body.scrollLeft,c=c.width;d=this._header.leftRightSided?{x1:n,x2:n+r.clientHeight,y1:u,y2:u+c}:{x1:h,x2:h+c,y1:n,y2:n+r.clientHeight}}o.highlightArea(d,0)}resetHeaderDropZone(){this.layoutManager.tabDropPlaceholder.remove()}setupHeaderPosition(){setElementDisplayVisibility(this._header.element,this._header.show),this.element.classList.remove(\\\"lm_left\\\",\\\"lm_right\\\",\\\"lm_bottom\\\"),this._header.leftRightSided&&this.element.classList.add(\\\"lm_\\\"+this._header.side),this.updateSize(!1)}highlightBodyDropZone(e){if(void 0===this._contentAreaDimensions)throw new UnexpectedUndefinedError(\\\"SHBDZC82265\\\");var t=this._contentAreaDimensions[e].highlightArea,n=this.layoutManager.dropTargetIndicator;if(null===n)throw new UnexpectedNullError(\\\"SHBDZD96110\\\");n.highlightArea(t,1),this._dropSegment=e}handleResize(){this._header.updateTabSizes()}handleMaximised(){this._header.processMaximised()}handleMinimised(){this._header.processMinimised()}handlePopoutEvent(){this.popout()}handleHeaderClickEvent(e){var t=EventEmitter.headerClickEventName,n=new EventEmitter.ClickBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderTouchStartEvent(e){var t=EventEmitter.headerTouchStartEventName,n=new EventEmitter.TouchStartBubblingEvent(t,this,e);this.emit(t,n)}handleHeaderComponentRemoveEvent(e){this.removeChild(e,!1)}handleHeaderComponentFocusEvent(e){this.setActiveComponentItem(e,!0)}handleHeaderComponentStartDragEvent(e,t,n,i){!0===this.isMaximised&&this.toggleMaximise(),this.layoutManager.startComponentDrag(e,t,n,i,this)}createHeaderConfig(){if(this._headerSideChanged){var t=!!this._header.show&&this._header.side;let e=ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig,t);return e=void 0===e?{show:t,popout:void 0,maximise:void 0,close:void 0,minimise:void 0,tabDropdown:void 0}:e}return ResolvedHeaderedItemConfig.Header.createCopy(this._headerConfig)}emitStateChangedEvent(){this.emitBaseBubblingEvent(\\\"stateChanged\\\")}},DragProxy=((Stack||(Stack={})).createElement=function(e){var t=e.createElement(\\\"div\\\");return t.classList.add(\\\"lm_item\\\"),t.classList.add(\\\"lm_stack\\\"),t},class extends EventEmitter{constructor(e,t,n,i,o,r){if(super(),this._dragListener=n,this._layoutManager=i,this._componentItem=o,this._originalParent=r,this._area=null,this._lastValidArea=null,this._dragListener.on(\\\"drag\\\",(e,t,n)=>this.onDrag(e,t,n)),this._dragListener.on(\\\"dragStop\\\",()=>this.onDrop()),this.createDragProxyElements(e,t),null===this._componentItem.parent)throw new UnexpectedNullError(\\\"DPC10097\\\");this._componentItemFocused=this._componentItem.focused,this._componentItemFocused&&this._componentItem.blur(),this._componentItem.parent.removeChild(this._componentItem,!0),this.setDimensions(),document.body.appendChild(this._element),this.determineMinMaxXY(),this._layoutManager.calculateItemAreas(),this.setDropPosition(e,t)}get element(){return this._element}createDragProxyElements(e,t){this._element=document.createElement(\\\"div\\\"),this._element.classList.add(\\\"lm_dragProxy\\\");var n=document.createElement(\\\"div\\\"),i=(n.classList.add(\\\"lm_header\\\"),document.createElement(\\\"div\\\")),o=(i.classList.add(\\\"lm_tabs\\\"),document.createElement(\\\"div\\\")),r=(o.classList.add(\\\"lm_tab\\\"),document.createElement(\\\"span\\\"));r.classList.add(\\\"lm_title\\\"),o.appendChild(r),i.appendChild(o),n.appendChild(i),this._proxyContainerElement=document.createElement(\\\"div\\\"),this._proxyContainerElement.classList.add(\\\"lm_content\\\"),this._element.appendChild(n),this._element.appendChild(this._proxyContainerElement),this._originalParent instanceof Stack&&this._originalParent.headerShow&&(this._sided=this._originalParent.headerLeftRightSided,this._element.classList.add(\\\"lm_\\\"+this._originalParent.headerSide),0<=[Side.right,Side.bottom].indexOf(this._originalParent.headerSide))&&this._proxyContainerElement.insertAdjacentElement(\\\"afterend\\\",n),this._element.style.left=numberToPixels(e),this._element.style.top=numberToPixels(t),o.setAttribute(\\\"title\\\",this._componentItem.title),r.insertAdjacentText(\\\"afterbegin\\\",this._componentItem.title),this._proxyContainerElement.appendChild(this._componentItem.element)}determineMinMaxXY(){var e=this._layoutManager.groundItem;if(void 0===e)throw new UnexpectedUndefinedError(\\\"DPDMMXY73109\\\");e=e.element.getBoundingClientRect();this._minX=e.left+document.body.scrollLeft,this._minY=e.top+document.body.scrollTop,this._maxX=this._minX+e.width,this._maxY=this._minY+e.height}onDrag(e,t,n){var i=n.pageX,o=n.pageY;this.setDropPosition(i,o),this._componentItem.drag()}setDropPosition(e,t){this._layoutManager.layoutConfig.settings.constrainDragToContainer&&(e<=this._minX?e=Math.ceil(this._minX):e>=this._maxX&&(e=Math.floor(this._maxX)),t<=this._minY?t=Math.ceil(this._minY):t>=this._maxY&&(t=Math.floor(this._maxY))),this._element.style.left=numberToPixels(e),this._element.style.top=numberToPixels(t),this._area=this._layoutManager.getArea(e,t),null!==this._area&&(this._lastValidArea=this._area,this._area.contentItem.highlightDropZone(e,t,this._area))}onDrop(){var e=this._layoutManager.dropTargetIndicator;if(null===e)throw new UnexpectedNullError(\\\"DPOD30011\\\");e.hide(),this._componentItem.exitDragMode();let t;null!==this._area?(t=this._componentItem,this._area.contentItem.onDrop(t,this._area)):null!==this._lastValidArea?(t=this._componentItem,this._lastValidArea.contentItem.onDrop(t,this._lastValidArea)):this._originalParent?(t=this._componentItem,this._originalParent.addChild(t)):this._componentItem.destroy(),this._element.remove(),this._layoutManager.emit(\\\"itemDropped\\\",this._componentItem),this._componentItemFocused&&void 0!==t&&t.focus()}setDimensions(){var e=this._layoutManager.layoutConfig.dimensions;if(void 0===e)throw new Error(\\\"DragProxy.setDimensions: dimensions undefined\\\");var t=e.dragProxyWidth,n=e.dragProxyHeight;if(void 0===t||void 0===n)throw new Error(\\\"DragProxy.setDimensions: width and/or height undefined\\\");e=!1===this._layoutManager.layoutConfig.header.show?0:e.headerHeight;this._element.style.width=numberToPixels(t),this._element.style.height=numberToPixels(n),t-=this._sided?e:0,n-=this._sided?0:e,this._proxyContainerElement.style.width=numberToPixels(t),this._proxyContainerElement.style.height=numberToPixels(n),this._componentItem.enterDragMode(t,n),this._componentItem.show()}}),DragSource=class{constructor(e,t,n,i,o,r,s){this._layoutManager=e,this._element=t,this._extraAllowableChildTargets=n,this._componentTypeOrFtn=i,this._componentState=o,this._title=r,this._id=s,this._dragListener=null,this._dummyGroundContainer=document.createElement(\\\"div\\\");var a=ResolvedRowOrColumnItemConfig.createDefault(\\\"row\\\");this._dummyGroundContentItem=new GroundItem(this._layoutManager,a,this._dummyGroundContainer),this.createDragListener()}destroy(){this.removeDragListener()}createDragListener(){this.removeDragListener(),this._dragListener=new DragListener(this._element,this._extraAllowableChildTargets),this._dragListener.on(\\\"dragStart\\\",(e,t)=>this.onDragStart(e,t)),this._dragListener.on(\\\"dragStop\\\",()=>this.onDragStop())}onDragStart(e,t){var n=\\\"component\\\";let i;i=\\\"function\\\"==typeof this._componentTypeOrFtn?(r=this._componentTypeOrFtn(),DragSource.isDragSourceComponentItemConfig(r)?{type:n,componentState:r.state,componentType:r.type,title:null!=(o=r.title)?o:this._title}:r):{type:n,componentState:this._componentState,componentType:this._componentTypeOrFtn,title:this._title,id:this._id};var o=ComponentItemConfig.resolve(i,!1),r=new ComponentItem(this._layoutManager,o,this._dummyGroundContentItem);if(this._dummyGroundContentItem.contentItems.push(r),null===this._dragListener)throw new UnexpectedNullError(\\\"DSODSD66746\\\");n=new DragProxy(e,t,this._dragListener,this._layoutManager,r,this._dummyGroundContentItem),o=this._layoutManager.transitionIndicator;if(null===o)throw new UnexpectedNullError(\\\"DSODST66746\\\");o.transitionElements(this._element,n.element)}onDragStop(){this.createDragListener()}removeDragListener(){null!==this._dragListener&&(this._dragListener.destroy(),this._dragListener=null)}},DropTargetIndicator=((DragSource||(DragSource={})).isDragSourceComponentItemConfig=function(e){return!(\\\"componentType\\\"in e)},init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),init_esbuild_inject(),class{constructor(){this._element=document.createElement(\\\"div\\\"),this._element.classList.add(\\\"lm_dropTargetIndicator\\\");var e=document.createElement(\\\"div\\\");e.classList.add(\\\"lm_inner\\\"),this._element.appendChild(e),document.body.appendChild(this._element)}destroy(){this._element.remove()}highlightArea(e,t){this._element.style.left=numberToPixels(e.x1+t),this._element.style.top=numberToPixels(e.y1+t),this._element.style.width=numberToPixels(e.x2-e.x1-t),this._element.style.height=numberToPixels(e.y2-e.y1-t),this._element.style.display=\\\"block\\\"}hide(){setElementDisplayVisibility(this._element,!1)}}),TransitionIndicator=(init_esbuild_inject(),class{constructor(){this._element=document.createElement(\\\"div\\\"),this._element.classList.add(\\\"lm_transition_indicator\\\"),document.body.appendChild(this._element),this._toElement=null,this._fromDimensions=null,this._totalAnimationDuration=200,this._animationStartTime=null}destroy(){this._element.remove()}transitionElements(e,t){}nextAnimationFrame(){}measure(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top,width:e.offsetWidth,height:e.offsetHeight}}}),EventHub=(init_esbuild_inject(),class extends EventEmitter{constructor(e){super(),this._layoutManager=e,this._childEventListener=e=>this.onEventFromChild(e),globalThis.addEventListener(EventHub.ChildEventName,this._childEventListener,{passive:!0})}emit(e,...t){\\\"userBroadcast\\\"===e?this.emitUserBroadcast(...t):super.emit(e,...t)}emitUserBroadcast(...e){this.handleUserBroadcastEvent(\\\"userBroadcast\\\",e)}destroy(){globalThis.removeEventListener(EventHub.ChildEventName,this._childEventListener)}handleUserBroadcastEvent(e,t){this._layoutManager.isSubWindow?this.propagateToParent(e,t):this.propagateToThisAndSubtree(e,t)}onEventFromChild(e){var t=e.detail;this.handleUserBroadcastEvent(t.eventName,t.args)}propagateToParent(e,t){var n={layoutManager:this._layoutManager,eventName:e,args:t},n=new CustomEvent(EventHub.ChildEventName,{bubbles:!0,cancelable:!0,detail:n}),i=globalThis.opener;if(null===i)throw new UnexpectedNullError(\\\"EHPTP15778\\\");i.dispatchEvent(n)}propagateToThisAndSubtree(e,t){this.emitUnknown(e,...t);for(let i=0;i<this._layoutManager.openPopouts.length;i++){var n=this._layoutManager.openPopouts[i].getGlInstance();n&&n.eventHub.propagateToThisAndSubtree(e,t)}}}),LayoutManager=((EventHub=EventHub||{}).ChildEventName=\\\"gl_child_event\\\",class extends EventEmitter{constructor(e){super(),this.resizeWithContainerAutomatically=!1,this.resizeDebounceInterval=100,this.resizeDebounceExtendedWhenPossible=!0,this._isInitialised=!1,this._groundItem=void 0,this._openPopouts=[],this._dropTargetIndicator=null,this._transitionIndicator=null,this._itemAreas=[],this._maximisePlaceholder=LayoutManager.createMaximisePlaceElement(document),this._tabDropPlaceholder=LayoutManager.createTabDropPlaceholderElement(document),this._dragSources=[],this._updatingColumnsResponsive=!1,this._firstLoad=!0,this._eventHub=new EventHub(this),this._width=null,this._height=null,this._virtualSizedContainers=[],this._virtualSizedContainerAddingBeginCount=0,this._sizeInvalidationBeginCount=0,this._resizeObserver=new ResizeObserver(()=>this.handleContainerResize()),this._windowBeforeUnloadListener=()=>this.onBeforeUnload(),this._windowBeforeUnloadListening=!1,this._maximisedStackBeforeDestroyedListener=e=>this.cleanupBeforeMaximisedStackDestroyed(e),this.isSubWindow=e.isSubWindow,this._constructorOrSubWindowLayoutConfig=e.constructorOrSubWindowLayoutConfig,I18nStrings.checkInitialise(),ConfigMinifier.checkInitialise(),void 0!==e.containerElement&&(this._containerElement=e.containerElement)}get container(){return this._containerElement}get isInitialised(){return this._isInitialised}get groundItem(){return this._groundItem}get root(){return this._groundItem}get openPopouts(){return this._openPopouts}get dropTargetIndicator(){return this._dropTargetIndicator}get transitionIndicator(){return this._transitionIndicator}get width(){return this._width}get height(){return this._height}get eventHub(){return this._eventHub}get rootItem(){if(void 0===this._groundItem)throw new Error(\\\"Cannot access rootItem before init\\\");var e=this._groundItem.contentItems;if(0!==e.length)return this._groundItem.contentItems[0]}get focusedComponentItem(){return this._focusedComponentItem}get tabDropPlaceholder(){return this._tabDropPlaceholder}get maximisedStack(){return this._maximisedStack}get deprecatedConstructor(){return!this.isSubWindow&&void 0!==this._constructorOrSubWindowLayoutConfig}destroy(){if(this._isInitialised){this._windowBeforeUnloadListening&&(globalThis.removeEventListener(\\\"beforeunload\\\",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1),!0===this.layoutConfig.settings.closePopoutsOnUnload&&this.closeAllOpenPopouts(),this._resizeObserver.disconnect(),this.checkClearResizeTimeout(),void 0!==this._groundItem&&this._groundItem.destroy(),this._tabDropPlaceholder.remove(),null!==this._dropTargetIndicator&&this._dropTargetIndicator.destroy(),null!==this._transitionIndicator&&this._transitionIndicator.destroy(),this._eventHub.destroy();for(const e of this._dragSources)e.destroy();this._dragSources=[],this._isInitialised=!1}}minifyConfig(e){return ResolvedLayoutConfig.minifyConfig(e)}unminifyConfig(e){return ResolvedLayoutConfig.unminifyConfig(e)}init(){this.setContainer(),this._dropTargetIndicator=new DropTargetIndicator,this._transitionIndicator=new TransitionIndicator,this.updateSizeFromContainer();let e;if(this.isSubWindow){if(void 0===this._constructorOrSubWindowLayoutConfig)throw new UnexpectedUndefinedError(\\\"LMIU07155\\\");var t=this._constructorOrSubWindowLayoutConfig.root;if(void 0===t)throw new AssertError(\\\"LMIC07156\\\");if(!ItemConfig.isComponent(t))throw new AssertError(\\\"LMIC07157\\\");e=t;t=LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},t),{root:void 0})}else void 0===this._constructorOrSubWindowLayoutConfig?this.layoutConfig=ResolvedLayoutConfig.createDefault():this.layoutConfig=LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);t=this.layoutConfig;this._groundItem=new GroundItem(this,t.root,this._containerElement),this._groundItem.init(),this.checkLoadedLayoutMaximiseItem(),this._resizeObserver.observe(this._containerElement),this._isInitialised=!0,this.adjustColumnsResponsive(),this.emit(\\\"initialised\\\"),void 0!==e&&this.loadComponentAsRoot(e)}loadLayout(e){if(!this.isInitialised)throw new Error(\\\"GoldenLayout: Need to call init() if LayoutConfig with defined root passed to constructor\\\");if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMLL11119\\\");this.createSubWindows(),this.layoutConfig=LayoutConfig.resolve(e),this._groundItem.loadRoot(this.layoutConfig.root),this.checkLoadedLayoutMaximiseItem(),this.adjustColumnsResponsive()}saveLayout(){if(!1===this._isInitialised)throw new Error(\\\"Can't create config, layout not yet initialised\\\");if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMTC18244\\\");{var n=this._groundItem.calculateConfigContent();let e;e=1!==n.length?void 0:n[0],this.reconcilePopoutWindows();var i=[];for(let t=0;t<this._openPopouts.length;t++)i.push(this._openPopouts[t].toConfig());return{root:e,openPopouts:i,settings:ResolvedLayoutConfig.Settings.createCopy(this.layoutConfig.settings),dimensions:ResolvedLayoutConfig.Dimensions.createCopy(this.layoutConfig.dimensions),header:ResolvedLayoutConfig.Header.createCopy(this.layoutConfig.header),resolved:!0}}}clear(){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMCL11129\\\");this._groundItem.clearRoot()}toConfig(){return this.saveLayout()}newComponent(e,t,n){var i=this.newComponentAtLocation(e,t,n);if(void 0===i)throw new AssertError(\\\"LMNC65588\\\");return i}newComponentAtLocation(e,t,n,i){if(void 0===this._groundItem)throw new Error(\\\"Cannot add component before init\\\");var o=this.addComponentAtLocation(e,t,n,i);if(void 0!==o){o=o.parentItem.contentItems[o.index];if(ContentItem.isComponentItem(o))return o;throw new AssertError(\\\"LMNC992877533\\\")}}addComponent(e,t,n){var i=this.addComponentAtLocation(e,t,n);if(void 0===i)throw new AssertError(\\\"LMAC99943\\\");return i}addComponentAtLocation(e,t,n,i){return this.addItemAtLocation({type:\\\"component\\\",componentType:e,componentState:t,title:n},i)}newItem(e){var t=this.newItemAtLocation(e);if(void 0===t)throw new AssertError(\\\"LMNC65588\\\");return t}newItemAtLocation(e,t){if(void 0===this._groundItem)throw new Error(\\\"Cannot add component before init\\\");var n=this.addItemAtLocation(e,t);if(void 0!==n)return n.parentItem.contentItems[n.index]}addItem(e){var t=this.addItemAtLocation(e);if(void 0===t)throw new AssertError(\\\"LMAI99943\\\");return t}addItemAtLocation(n,e){if(void 0===this._groundItem)throw new Error(\\\"Cannot add component before init\\\");void 0===e&&(e=LayoutManager.defaultLocationSelectors);var i,o=this.findFirstLocation(e);if(void 0!==o){let e=o.parentItem,t;switch(e.type){case ItemType.ground:var r=e;0<=(t=r.addItem(n,o.index))?e=this._groundItem.contentItems[0]:t=0;break;case ItemType.row:case ItemType.column:r=e;t=r.addItem(n,o.index);break;case ItemType.stack:if(ItemConfig.isComponent(n)){r=e;t=r.addItem(n,o.index);break}throw Error(i18nStrings[6]);case ItemType.component:throw new AssertError(\\\"LMAIALC87444602\\\");default:throw new UnreachableCaseError(\\\"LMAIALU98881733\\\",e.type)}return ItemConfig.isComponent(n)&&(i=e.contentItems[t],ContentItem.isStack(i))&&(e=i,t=0),o.parentItem=e,o.index=t,o}}loadComponentAsRoot(e){if(void 0===this._groundItem)throw new Error(\\\"Cannot add item before init\\\");this._groundItem.loadComponentAsRoot(e)}updateSize(e,t){this.setSize(e,t)}setSize(e,t){if(this._width=e,this._height=t,!0===this._isInitialised){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMUS18881\\\");var n,i;this._groundItem.setSize(this._width,this._height),this._maximisedStack&&(({width:n,height:i}=getElementWidthAndHeight(this._containerElement)),setElementWidth(this._maximisedStack.element,n),setElementHeight(this._maximisedStack.element,i),this._maximisedStack.updateSize(!1)),this.adjustColumnsResponsive()}}beginSizeInvalidation(){this._sizeInvalidationBeginCount++}endSizeInvalidation(){0==--this._sizeInvalidationBeginCount&&this.updateSizeFromContainer()}updateSizeFromContainer(){var{width:e,height:t}=getElementWidthAndHeight(this._containerElement);this.setSize(e,t)}updateRootSize(e=!1){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMURS28881\\\");this._groundItem.updateSize(e)}createAndInitContentItem(e,t){var n=this.createContentItem(e,t);return n.init(),n}createContentItem(e,t){if(\\\"string\\\"!=typeof e.type)throw new ConfigurationError(\\\"Missing parameter 'type'\\\",JSON.stringify(e));!ResolvedItemConfig.isComponentItem(e)||t instanceof Stack||!t||!0===this.isSubWindow&&t instanceof GroundItem||(e={type:ItemType.stack,content:[e],size:e.size,sizeUnit:e.sizeUnit,minSize:e.minSize,minSizeUnit:e.minSizeUnit,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:0,header:void 0});var n=this.createContentItemFromConfig(e,t);return n}findFirstComponentItemById(e){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMFFCIBI82446\\\");return this.findFirstContentItemTypeByIdRecursive(ItemType.component,e,this._groundItem)}createPopout(e,t,n,i){return e instanceof ContentItem?this.createPopoutFromContentItem(e,t,n,i):this.createPopoutFromItemConfig(e,t,n,i)}createPopoutFromContentItem(e,t,n,i){let o=e.parent,r=e;for(;null!==o&&1===o.contentItems.length&&!o.isGround;)o=(r=o).parent;if(null===o)throw new UnexpectedNullError(\\\"LMCPFCI00834\\\");void 0===i&&(i=o.contentItems.indexOf(r)),null!==n&&o.addPopInParentId(n),void 0===t&&(u=globalThis.screenX||globalThis.screenLeft,s=globalThis.screenY||globalThis.screenTop,a=e.element.offsetLeft,l=e.element.offsetTop,({width:d,height:h}=getElementWidthAndHeight(e.element)),t={left:u+a,top:s+l,width:d,height:h});var s,a,l,d,h,u=e.toConfig();if(e.remove(),ResolvedRootItemConfig.isRootItemConfig(u))return this.createPopoutFromItemConfig(u,t,n,i);throw new Error(\\\"\\\"+i18nStrings[0])}beginVirtualSizedContainerAdding(){0==++this._virtualSizedContainerAddingBeginCount&&(this._virtualSizedContainers.length=0)}addVirtualSizedContainer(e){this._virtualSizedContainers.push(e)}endVirtualSizedContainerAdding(){if(0==--this._virtualSizedContainerAddingBeginCount){var t=this._virtualSizedContainers.length;if(0<t){this.fireBeforeVirtualRectingEvent(t);for(let e=0;e<t;e++)this._virtualSizedContainers[e].notifyVirtualRectingRequired();this.fireAfterVirtualRectingEvent(),this._virtualSizedContainers.length=0}}}fireBeforeVirtualRectingEvent(e){void 0!==this.beforeVirtualRectingEvent&&this.beforeVirtualRectingEvent(e)}fireAfterVirtualRectingEvent(){void 0!==this.afterVirtualRectingEvent&&this.afterVirtualRectingEvent()}createPopoutFromItemConfig(e,t,n,i){var o=this.toConfig(),o={root:e,openPopouts:[],settings:o.settings,dimensions:o.dimensions,header:o.header,window:t,parentId:n,indexInParent:i,resolved:!0};return this.createPopoutFromPopoutLayoutConfig(o)}createPopoutFromPopoutLayoutConfig(e){var t,n=e.window,n={left:null!=(t=n.left)?t:globalThis.screenX||globalThis.screenLeft+20,top:null!=(t=n.top)?t:globalThis.screenY||globalThis.screenTop+20,width:null!=(t=n.width)?t:500,height:null!=(t=n.height)?t:309};const i=new BrowserPopout(e,n,this);return i.on(\\\"initialised\\\",()=>this.emit(\\\"windowOpened\\\",i)),i.on(\\\"closed\\\",()=>this.reconcilePopoutWindows()),this._openPopouts.push(i),this.layoutConfig.settings.closePopoutsOnUnload&&!this._windowBeforeUnloadListening&&(globalThis.addEventListener(\\\"beforeunload\\\",this._windowBeforeUnloadListener,{passive:!0}),this._windowBeforeUnloadListening=!0),i}closeAllOpenPopouts(){for(let e=0;e<this._openPopouts.length;e++)this._openPopouts[e].close();this._openPopouts.length=0,this._windowBeforeUnloadListening&&(globalThis.removeEventListener(\\\"beforeunload\\\",this._windowBeforeUnloadListener),this._windowBeforeUnloadListening=!1)}newDragSource(e,t,n,i,o){var r=new DragSource(this,e,[],t,n,i,o);return this._dragSources.push(r),r}removeDragSource(e){removeFromArray(e,this._dragSources),e.destroy()}startComponentDrag(e,t,n,i,o){new DragProxy(e,t,n,this,i,o)}focusComponent(e,t=!1){e.focus(t)}clearComponentFocus(e=!1){this.setFocusedComponentItem(void 0,e)}setFocusedComponentItem(t,n=!1){if(t!==this._focusedComponentItem){let e;var i;void 0===t?e:e=t.parentItem,void 0!==this._focusedComponentItem&&(i=this._focusedComponentItem,this._focusedComponentItem=void 0,i.setBlurred(n),i=i.parentItem,e===i?e=void 0:i.setFocusedValue(!1)),void 0!==t&&((this._focusedComponentItem=t).setFocused(n),void 0!==e)&&e.setFocusedValue(!0)}}createContentItemFromConfig(e,t){switch(e.type){case ItemType.ground:throw new AssertError(\\\"LMCCIFC68871\\\");case ItemType.row:return new RowOrColumn(!1,this,e,t);case ItemType.column:return new RowOrColumn(!0,this,e,t);case ItemType.stack:return new Stack(this,e,t);case ItemType.component:return new ComponentItem(this,e,t);default:throw new UnreachableCaseError(\\\"CCC913564\\\",e.type,\\\"Invalid Config Item type specified\\\")}}setMaximisedStack(e){void 0===e?void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack():e!==this._maximisedStack&&(void 0!==this._maximisedStack&&this.processMinimiseMaximisedStack(),this.processMaximiseStack(e))}checkMinimiseMaximisedStack(){void 0!==this._maximisedStack&&this._maximisedStack.minimise()}cleanupBeforeMaximisedStackDestroyed(e){null!==this._maximisedStack&&this._maximisedStack===e.target&&(this._maximisedStack.off(\\\"beforeItemDestroyed\\\",this._maximisedStackBeforeDestroyedListener),this._maximisedStack=void 0)}closeWindow(){globalThis.setTimeout(()=>globalThis.close(),1)}getArea(e,t){let n=null,i=Infinity;for(let r=0;r<this._itemAreas.length;r++){var o=this._itemAreas[r];e>=o.x1&&e<o.x2&&t>=o.y1&&t<o.y2&&i>o.surface&&(i=o.surface,n=o)}return n}calculateItemAreas(){var t=this.getAllContentItems(),n=this._groundItem;if(void 0===n)throw new UnexpectedUndefinedError(\\\"LMCIAR44365\\\");if(1===t.length){var e=n.getElementArea();if(null===e)throw new UnexpectedNullError(\\\"LMCIARA44365\\\");this._itemAreas=[e]}else{n.contentItems[0].isStack?this._itemAreas=[]:this._itemAreas=n.createSideAreas();for(let e=0;e<t.length;e++){var i=t[e];if(ContentItem.isStack(i)){var o=i.getArea();if(null!==o){this._itemAreas.push(o);o=i.contentAreaDimensions;if(void 0===o)throw new UnexpectedUndefinedError(\\\"LMCIASC45599\\\");var o=o.header.highlightArea,r=(o.x2-o.x1)*(o.y2-o.y1),o={x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2,contentItem:i,surface:r};this._itemAreas.push(o)}}}}}checkLoadedLayoutMaximiseItem(){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMCLLMI43432\\\");var t=this._groundItem.getConfigMaximisedItems();if(0<t.length){let e=t[0];if(ContentItem.isComponentItem(e)){t=e.parent;if(null===t)throw new UnexpectedNullError(\\\"LMXLLMI69999\\\");e=t}if(!ContentItem.isStack(e))throw new AssertError(\\\"LMCLLMI19993\\\");e.maximise()}}processMaximiseStack(e){if((this._maximisedStack=e).on(\\\"beforeItemDestroyed\\\",this._maximisedStackBeforeDestroyedListener),e.element.classList.add(\\\"lm_maximised\\\"),e.element.insertAdjacentElement(\\\"afterend\\\",this._maximisePlaceholder),void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMMXI19993\\\");this._groundItem.element.prepend(e.element);var{width:t,height:n}=getElementWidthAndHeight(this._containerElement);setElementWidth(e.element,t),setElementHeight(e.element,n),e.updateSize(!0),e.focusActiveContentItem(),this._maximisedStack.emit(\\\"maximised\\\"),this.emit(\\\"stateChanged\\\")}processMinimiseMaximisedStack(){if(void 0===this._maximisedStack)throw new AssertError(\\\"LMMMS74422\\\");var e=this._maximisedStack;if(null===e.parent)throw new UnexpectedNullError(\\\"LMMI13668\\\");e.element.classList.remove(\\\"lm_maximised\\\"),this._maximisePlaceholder.insertAdjacentElement(\\\"afterend\\\",e.element),this._maximisePlaceholder.remove(),this.updateRootSize(!0),this._maximisedStack=void 0,e.off(\\\"beforeItemDestroyed\\\",this._maximisedStackBeforeDestroyedListener),e.emit(\\\"minimised\\\"),this.emit(\\\"stateChanged\\\")}reconcilePopoutWindows(){var e=[];for(let t=0;t<this._openPopouts.length;t++)!1===this._openPopouts[t].getWindow().closed?e.push(this._openPopouts[t]):this.emit(\\\"windowClosed\\\",this._openPopouts[t]);this._openPopouts.length!==e.length&&(this._openPopouts=e,this.emit(\\\"stateChanged\\\"))}getAllContentItems(){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMGACI13130\\\");return this._groundItem.getAllContentItems()}createSubWindows(){for(let t=0;t<this.layoutConfig.openPopouts.length;t++){var e=this.layoutConfig.openPopouts[t];this.createPopoutFromPopoutLayoutConfig(e)}}handleContainerResize(){this.resizeWithContainerAutomatically&&this.processResizeWithDebounce()}processResizeWithDebounce(){this.resizeDebounceExtendedWhenPossible&&this.checkClearResizeTimeout(),void 0===this._resizeTimeoutId&&(this._resizeTimeoutId=setTimeout(()=>{this._resizeTimeoutId=void 0,this.beginSizeInvalidation(),this.endSizeInvalidation()},this.resizeDebounceInterval))}checkClearResizeTimeout(){void 0!==this._resizeTimeoutId&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=void 0)}setContainer(){var e,t=document.body,n=null!=(n=this._containerElement)?n:t;n===t&&(this.resizeWithContainerAutomatically=!0,(e=document.documentElement).style.height=\\\"100%\\\",e.style.margin=\\\"0\\\",e.style.padding=\\\"0\\\",e.style.overflow=\\\"clip\\\",t.style.height=\\\"100%\\\",t.style.margin=\\\"0\\\",t.style.padding=\\\"0\\\",t.style.overflow=\\\"clip\\\"),this._containerElement=n}onBeforeUnload(){this.destroy()}adjustColumnsResponsive(){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMACR20883\\\");if(this._firstLoad=!1,this.useResponsiveLayout()&&!this._updatingColumnsResponsive&&0<this._groundItem.contentItems.length&&this._groundItem.contentItems[0].isRow){if(void 0===this._groundItem||null===this._width)throw new UnexpectedUndefinedError(\\\"LMACR77412\\\");var t=this._groundItem.contentItems[0].contentItems.length;if(!(t<=1)){var n=this.layoutConfig.dimensions.defaultMinItemWidth,i=t*n;if(!(i<=this._width)){this._updatingColumnsResponsive=!0;var o=t-Math.max(Math.floor(this._width/n),1),r=this._groundItem.contentItems[0],i=this.getAllStacks();if(0===i.length)throw new AssertError(\\\"LMACRS77413\\\");var s=i[0];for(let e=0;e<o;e++){var a=r.contentItems[r.contentItems.length-1];this.addChildContentItemsToContainer(s,a)}this._updatingColumnsResponsive=!1}}}}useResponsiveLayout(){var e=this.layoutConfig.settings,t=e.responsiveMode===ResponsiveMode.always,e=e.responsiveMode===ResponsiveMode.onload&&this._firstLoad;return t||e}addChildContentItemsToContainer(n,i){var o=i.contentItems;if(i instanceof Stack)for(let e=0;e<o.length;e++){var r=o[e];i.removeChild(r,!0),n.addChild(r)}else for(let t=0;t<o.length;t++){var s=o[t];this.addChildContentItemsToContainer(n,s)}}getAllStacks(){var e;if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMFASC52778\\\");return this.findAllStacksRecursive(e=[],this._groundItem),e}findFirstContentItemType(e){if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMFFCIT82446\\\");return this.findFirstContentItemTypeRecursive(e,this._groundItem)}findFirstContentItemTypeRecursive(n,e){var i=e.contentItems,o=i.length;if(0!==o){for(let e=0;e<o;e++){var r=i[e];if(r.type===n)return r}for(let t=0;t<o;t++){var s=i[t],s=this.findFirstContentItemTypeRecursive(n,s);if(void 0!==s)return s}}}findFirstContentItemTypeByIdRecursive(n,i,e){var o=e.contentItems,r=o.length;if(0!==r){for(let e=0;e<r;e++){var s=o[e];if(s.type===n&&s.id===i)return s}for(let t=0;t<r;t++){var a=o[t],a=this.findFirstContentItemTypeByIdRecursive(n,i,a);if(void 0!==a)return a}}}findAllStacksRecursive(e,t){var n=t.contentItems;for(let o=0;o<n.length;o++){var i=n[o];i instanceof Stack?e.push(i):i.isComponent||this.findAllStacksRecursive(e,i)}}findFirstLocation(e){var t=e.length;for(let i=0;i<t;i++){var n=e[i],n=this.findLocation(n);if(void 0!==n)return n}}findLocation(e){var t=e.index;switch(e.typeId){case 0:return void 0===this._focusedComponentItem?void 0:(o=(i=(n=this._focusedComponentItem.parentItem).contentItems).length,void 0===t?{parentItem:n,index:o}:(i=i.indexOf(this._focusedComponentItem)+t)<0||o<i?void 0:{parentItem:n,index:i});case 1:return void 0===this._focusedComponentItem?void 0:(o=this._focusedComponentItem.parentItem,this.tryCreateLocationFromParentItem(o,t));case 2:var n=this.findFirstContentItemType(ItemType.stack);return void 0===n?void 0:this.tryCreateLocationFromParentItem(n,t);case 3:var i=this.findFirstContentItemType(ItemType.row);return void 0!==i||void 0!==(i=this.findFirstContentItemType(ItemType.column))?this.tryCreateLocationFromParentItem(i,t):void 0;case 4:var o=this.findFirstContentItemType(ItemType.row);return void 0===o?void 0:this.tryCreateLocationFromParentItem(o,t);case 5:n=this.findFirstContentItemType(ItemType.column);return void 0===n?void 0:this.tryCreateLocationFromParentItem(n,t);case 6:if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMFLRIF18244\\\");return void 0===this.rootItem&&(void 0===t||0===t)?{parentItem:this._groundItem,index:0}:void 0;case 7:if(void 0===this._groundItem)throw new UnexpectedUndefinedError(\\\"LMFLF18244\\\");return 0!==(i=this._groundItem.contentItems).length?(o=i[0],this.tryCreateLocationFromParentItem(o,t)):void 0===t||0===t?{parentItem:this._groundItem,index:0}:void 0}}tryCreateLocationFromParentItem(e,t){var n=e.contentItems.length;return void 0===t?{parentItem:e,index:n}:t<0||n<t?void 0:{parentItem:e,index:t}}}),VirtualLayout=(!function(e){e.createMaximisePlaceElement=function(e){var t=e.createElement(\\\"div\\\");return t.classList.add(\\\"lm_maximise_place\\\"),t},e.createTabDropPlaceholderElement=function(e){var t=e.createElement(\\\"div\\\");return t.classList.add(\\\"lm_drop_tab_placeholder\\\"),t},e.defaultLocationSelectors=[{typeId:1,index:void 0},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}],e.afterFocusedItemIfPossibleLocationSelectors=[{typeId:0,index:1},{typeId:2,index:void 0},{typeId:3,index:void 0},{typeId:7,index:void 0}]}(LayoutManager=LayoutManager||{}),class extends LayoutManager{constructor(e,t,n,i){if(super(VirtualLayout.createLayoutManagerConstructorParameters(e,t)),this._bindComponentEventHanlderPassedInConstructor=!1,this._creationTimeoutPassed=!1,void 0!==t&&\\\"function\\\"==typeof t&&(this.bindComponentEvent=t,this._bindComponentEventHanlderPassedInConstructor=!0,void 0!==n)&&(this.unbindComponentEvent=n),!this._bindComponentEventHanlderPassedInConstructor&&this.isSubWindow){if(void 0===this._constructorOrSubWindowLayoutConfig)throw new UnexpectedUndefinedError(\\\"VLC98823\\\");var o=LayoutConfig.resolve(this._constructorOrSubWindowLayoutConfig);this.layoutConfig=Object.assign(Object.assign({},o),{root:void 0})}!0===i||this.deprecatedConstructor||this.init()}destroy(){this.bindComponentEvent=void 0,this.unbindComponentEvent=void 0,super.destroy()}init(){this._bindComponentEventHanlderPassedInConstructor||\\\"loading\\\"!==document.readyState&&null!==document.body?this._bindComponentEventHanlderPassedInConstructor||!0!==this.isSubWindow||this._creationTimeoutPassed?(!0===this.isSubWindow&&(this._bindComponentEventHanlderPassedInConstructor||this.clearHtmlAndAdjustStylesForSubWindow(),window.__glInstance=this),super.init()):(setTimeout(()=>this.init(),7),this._creationTimeoutPassed=!0):document.addEventListener(\\\"DOMContentLoaded\\\",()=>this.init(),{passive:!0})}clearHtmlAndAdjustStylesForSubWindow(){var t=document.head,n=new Array(4);n[0]=document.querySelectorAll(\\\"body link\\\"),n[1]=document.querySelectorAll(\\\"body style\\\"),n[2]=document.querySelectorAll(\\\"template\\\"),n[3]=document.querySelectorAll(\\\".gl_keep\\\");for(let r=0;r<n.length;r++){var i=n[r];for(let e=0;e<i.length;e++){var o=i[e];t.appendChild(o)}}var e=document.body;e.innerHTML=\\\"\\\",e.style.visibility=\\\"visible\\\",this.checkAddDefaultPopinButton(),document.body.offsetHeight}checkAddDefaultPopinButton(){var e,t,n;return!this.layoutConfig.settings.popInOnClose&&((e=document.createElement(\\\"div\\\")).classList.add(\\\"lm_popin\\\"),e.setAttribute(\\\"title\\\",this.layoutConfig.header.dock),(t=document.createElement(\\\"div\\\")).classList.add(\\\"lm_icon\\\"),(n=document.createElement(\\\"div\\\")).classList.add(\\\"lm_bg\\\"),e.appendChild(t),e.appendChild(n),e.addEventListener(\\\"click\\\",()=>this.emit(\\\"popIn\\\")),document.body.appendChild(e),!0)}bindComponent(e,t){var n;if(void 0!==this.bindComponentEvent)return this.bindComponentEvent(e,t);if(void 0!==this.getComponentEvent)return{virtual:!1,component:this.getComponentEvent(e,t)};throw n=i18nStrings[2]+\\\": \\\"+JSON.stringify(t),new BindError(n)}unbindComponent(e,t,n){if(void 0!==this.unbindComponentEvent)this.unbindComponentEvent(e);else if(!t&&void 0!==this.releaseComponentEvent){if(void 0===n)throw new UnexpectedUndefinedError(\\\"VCUCRCU333998\\\");this.releaseComponentEvent(e,n)}}}),GoldenLayout=(!function(e){let a=!1;e.createLayoutManagerConstructorParameters=function(e,t){var n=a?null:new URL(document.location.href).searchParams.get(\\\"gl-window\\\"),i=(a=!0,null!==n);let o,r;if(null!==n){var s=localStorage.getItem(n);if(null===s)throw new Error(\\\"Null gl-window Config\\\");localStorage.removeItem(n);n=JSON.parse(s),s=ResolvedLayoutConfig.unminifyConfig(n);r=LayoutConfig.fromResolved(s),e instanceof HTMLElement&&(o=e)}else void 0===e?r=void 0:e instanceof HTMLElement?(r=void 0,o=e):r=e,void 0===o&&t instanceof HTMLElement&&(o=t);return{constructorOrSubWindowLayoutConfig:r,isSubWindow:i,containerElement:o}}}(VirtualLayout=VirtualLayout||{}),class extends VirtualLayout{constructor(e,t,n){super(e,t,n,!0),this._componentTypesMap=new Map,this._registeredComponentMap=new Map,this._virtuableComponentMap=new Map,this._containerVirtualRectingRequiredEventListener=(e,t,n)=>this.handleContainerVirtualRectingRequiredEvent(e,t,n),this._containerVirtualVisibilityChangeRequiredEventListener=(e,t)=>this.handleContainerVirtualVisibilityChangeRequiredEvent(e,t),this._containerVirtualZIndexChangeRequiredEventListener=(e,t,n)=>this.handleContainerVirtualZIndexChangeRequiredEvent(e,t,n),this.deprecatedConstructor||this.init()}registerComponent(e,t,n=!1){if(\\\"function\\\"!=typeof t)throw new ApiError(\\\"registerComponent() componentConstructorOrFactoryFtn parameter is not a function\\\");t.hasOwnProperty(\\\"prototype\\\")?this.registerComponentConstructor(e,t,n):this.registerComponentFactoryFunction(e,t,n)}registerComponentConstructor(e,t,n=!1){if(\\\"function\\\"!=typeof t)throw new Error(i18nStrings[1]);if(void 0!==this._componentTypesMap.get(e))throw new BindError(i18nStrings[3]+\\\": \\\"+e);this._componentTypesMap.set(e,{constructor:t,factoryFunction:void 0,virtual:n})}registerComponentFactoryFunction(e,t,n=!1){if(\\\"function\\\"!=typeof t)throw new BindError(\\\"Please register a constructor function\\\");if(void 0!==this._componentTypesMap.get(e))throw new BindError(i18nStrings[3]+\\\": \\\"+e);this._componentTypesMap.set(e,{constructor:void 0,factoryFunction:t,virtual:n})}registerComponentFunction(e){this.registerGetComponentConstructorCallback(e)}registerGetComponentConstructorCallback(e){if(\\\"function\\\"!=typeof e)throw new Error(\\\"Please register a callback function\\\");void 0!==this._getComponentConstructorFtn&&console.warn(\\\"Multiple component functions are being registered.  Only the final registered function will be used.\\\"),this._getComponentConstructorFtn=e}getRegisteredComponentTypeNames(){var e=this._componentTypesMap.keys();return Array.from(e)}getComponentInstantiator(e){let t;var n=ResolvedComponentItemConfig.resolveComponentTypeName(e);return t=void 0===(t=void 0!==n?this._componentTypesMap.get(n):t)&&void 0!==this._getComponentConstructorFtn?{constructor:this._getComponentConstructorFtn(e),factoryFunction:void 0,virtual:!1}:t}bindComponent(n,i){let o;var r=ResolvedComponentItemConfig.resolveComponentTypeName(i);let s;if(void 0!==(o=void 0===(o=void 0!==r?this._componentTypesMap.get(r):o)&&void 0!==this._getComponentConstructorFtn?{constructor:this._getComponentConstructorFtn(i),factoryFunction:void 0,virtual:!1}:o)){var a=o.virtual;let e;e=void 0===i.componentState?void 0:deepExtendValue({},i.componentState);let t;var l=o.constructor;if(void 0!==l)t=new l(n,e,a);else{l=o.factoryFunction;if(void 0===l)throw new AssertError(\\\"LMBCFFU10008\\\");t=l(n,e,a)}if(a){if(void 0===t)throw new UnexpectedUndefinedError(\\\"GLBCVCU988774\\\");l=t,a=l.rootHtmlElement;if(void 0===a)throw new BindError(i18nStrings[5]+\\\": \\\"+r);ensureElementPositionAbsolute(a),this.container.appendChild(a),this._virtuableComponentMap.set(n,l),n.virtualRectingRequiredEvent=this._containerVirtualRectingRequiredEventListener,n.virtualVisibilityChangeRequiredEvent=this._containerVirtualVisibilityChangeRequiredEventListener,n.virtualZIndexChangeRequiredEvent=this._containerVirtualZIndexChangeRequiredEventListener}this._registeredComponentMap.set(n,t),s={virtual:o.virtual,component:t}}else s=super.bindComponent(n,i);return s}unbindComponent(e,t,n){if(void 0===this._registeredComponentMap.get(e))super.unbindComponent(e,t,n);else{var i=this._virtuableComponentMap.get(e);if(void 0!==i){i=i.rootHtmlElement;if(void 0===i)throw new AssertError(\\\"GLUC77743\\\",e.title);this.container.removeChild(i),this._virtuableComponentMap[\\\"delete\\\"](e)}}}fireBeforeVirtualRectingEvent(e){this._goldenLayoutBoundingClientRect=this.container.getBoundingClientRect(),super.fireBeforeVirtualRectingEvent(e)}handleContainerVirtualRectingRequiredEvent(e,t,n){var i=this._virtuableComponentMap.get(e);if(void 0===i)throw new UnexpectedUndefinedError(\\\"GLHCSCE55933\\\");i=i.rootHtmlElement;if(void 0===i)throw new BindError(i18nStrings[4]+\\\" \\\"+e.title);var o=e.element.getBoundingClientRect(),r=o.left-this._goldenLayoutBoundingClientRect.left,r=(i.style.left=numberToPixels(r),o.top-this._goldenLayoutBoundingClientRect.top);i.style.top=numberToPixels(r),setElementWidth(i,t),setElementHeight(i,n)}handleContainerVirtualVisibilityChangeRequiredEvent(e,t){var n=this._virtuableComponentMap.get(e);if(void 0===n)throw new UnexpectedUndefinedError(\\\"GLHCVVCRE55934\\\");n=n.rootHtmlElement;if(void 0===n)throw new BindError(i18nStrings[4]+\\\" \\\"+e.title);setElementDisplayVisibility(n,t)}handleContainerVirtualZIndexChangeRequiredEvent(e,t,n){var i=this._virtuableComponentMap.get(e);if(void 0===i)throw new UnexpectedUndefinedError(\\\"GLHCVZICRE55935\\\");i=i.rootHtmlElement;if(void 0===i)throw new BindError(i18nStrings[4]+\\\" \\\"+e.title);i.style.zIndex=n}}),containerMap=(init_esbuild_inject(),new Map),titleWidgetMap=new Map,titleContainerMap=new Map,removeWidget=e=>{var t,n,i;\\\"tiddler\\\"===e.componentType&&(t=e.initialState.title,i=containerMap.get(e),containerMap[\\\"delete\\\"](e),i&&(n=titleWidgetMap.get(t))&&(n[\\\"delete\\\"](i),n.size<1)&&titleWidgetMap[\\\"delete\\\"](t),i=titleContainerMap.get(t))&&(i[\\\"delete\\\"](e),i.size<1)&&titleContainerMap[\\\"delete\\\"](t)},addWidget=(e,t)=>{startListenChange();var n=e.initialState.title;let i=titleWidgetMap.get(n),o=(i||(i=new Set,titleWidgetMap.set(n,i)),i.add(t),titleContainerMap.get(n));o||(o=new Set,titleContainerMap.set(n,o)),o.add(e),containerMap.set(e,t)},inited=!1,renderCaption=(e,t)=>{var n,i;if(t)return t;let o=e;return null!=(n=null==(n=$tw.wiki.getTiddler(e))?void 0:n.fields)&&n.caption&&(n=$tw.wiki.makeTranscludeWidget(e,{document:$tw.fakeDocument,mode:\\\"inline\\\",field:\\\"caption\\\"}),i=$tw.fakeDocument.createElement(\\\"div\\\"),n.render(i,null),o=null!=(n=i.textContent)?n:e),o},startListenChange=()=>{if(!inited){inited=!0;let n,i;const o=e=>{var t;for(const i in e){var n=titleWidgetMap.get(i);if(n)for(const o of n)o.refresh(e);n=titleContainerMap.get(i);if(n)for(const r of n)r.setTitle(renderCaption(i,null==(t=r.initialState)?void 0:t.caption))}};$tw.wiki.addEventListener(\\\"change\\\",t=>{if(void 0!==n)i=void 0!==i?{...i,...t}:t;else{o(t);let e=5;n=setInterval(()=>{e--<=0&&void 0===i&&(clearInterval(n),n=void 0),void 0!==i&&(o(i),i=void 0,e=Math.min(5,e+2))},50)}})}},registeredListener=(init_esbuild_inject(),!1),addNewTiddlerIcon=(s,e=!1)=>{var t=$tw.utils.domMaker(\\\"div\\\",{\\\"class\\\":\\\"lm_add\\\",attributes:{title:e?\\\"添加\\\":\\\"add\\\"}});s.header.controlsContainerElement.insertBefore(t,s.header.controlsContainerElement.firstChild),t.addEventListener(\\\"click\\\",e=>{$tw.wiki.addTiddler({title:\\\"$:/temp/Gk0Wk/layout/new-tiddler-info\\\",text:\\\"\\\",\\\"layout:title\\\":\\\"\\\",\\\"layout:field\\\":\\\"text\\\",\\\"layout:template\\\":\\\"$:/core/ui/ViewTemplate/body\\\",\\\"layout:className\\\":\\\"gk0wk-gl-tiddler-container\\\"}),$tw.modal.display(\\\"$:/plugins/Gk0Wk/layouts/modals/add-tiddler\\\",{event:e})}),registeredListener||(registeredListener=!0,$tw.rootWidget.addEventListener(\\\"gk0wk-layout-add-tiddler\\\",()=>{try{var e=$tw.wiki.getTiddler(\\\"$:/temp/Gk0Wk/layout/new-tiddler-info\\\").fields,t=e[\\\"layout:title\\\"],n=e[\\\"layout:className\\\"],i=e[\\\"layout:field\\\"],o=e[\\\"layout:template\\\"];t&&s.addComponent(\\\"tiddler\\\",{title:t,field:i,template:o,className:n})}catch(r){console.error(r)}}))},tiddlerComponentFactoryFunction=(init_esbuild_inject(),o=>(t,n)=>{var e=n.title,i=(t.element.innerHTML=\\\"\\\",t.element.className=n.className?\\\"lm_content \\\"+n.className:\\\"lm_content\\\",t.setTitle(renderCaption(e,n.caption)),$tw.wiki.makeTranscludeWidget(null!=(i=n.template)?i:e,{document:document,parentWidget:o,recursionMarker:\\\"yes\\\",field:n.field,importPageMacros:!0,variables:{currentTiddler:e}}));i.addEventListener(\\\"tm-navigate\\\",({navigateTo:e})=>{t.parent.parentItem.isStack&&t.parent.parentItem.addComponent(\\\"tiddler\\\",{...n,field:\\\"text\\\",title:e})}),t.element.addEventListener(\\\"click\\\",e=>{e.target instanceof HTMLAnchorElement&&(e.preventDefault(),t.parent.parentItem.isStack)&&t.parent.parentItem.addComponent(\\\"iframe\\\",{source:e.target.href})}),i.render(t.element,null),addWidget(t,i)}),iframeComponentFactoryFunction=(init_esbuild_inject(),e=>(e,t)=>{const n=$tw.utils.domMaker(\\\"iframe\\\",{attributes:{src:t.source},style:{width:\\\"100%\\\",height:\\\"100%\\\",border:\\\"none\\\"}});var i;e.element.innerHTML=\\\"\\\",e.element.className=t.className?\\\"lm_content \\\"+t.className:\\\"lm_content\\\",e.element.appendChild(n),n.addEventListener(\\\"load\\\",()=>{n.contentDocument&&e.setTitle(n.contentDocument.title)}),t.caption?e.setTitle(t.caption):globalThis.URL?(i=new globalThis.URL(t.source),console.log(i),e.setTitle(i.pathname.split(\\\"/\\\").pop()||i.hostname)):e.setTitle(\\\"Web Page\\\")}),import_widget=require(\\\"$:/core/modules/widgets/widget.js\\\"),unsupportedFields=($tw.browser&&!globalThis.$&&(globalThis.$=import_jquery[\\\"default\\\"],globalThis.jQuery=import_jquery[\\\"default\\\"]),new Set([\\\"title\\\",\\\"type\\\",\\\"tags\\\",\\\"creator\\\",\\\"created\\\",\\\"modifier\\\",\\\"modified\\\"])),widgets=new Set,isChinese=()=>$tw.wiki.getTiddler(\\\"$:/language\\\").fields.text.includes(\\\"zh\\\"),GoldenLayoutWidget=class extends import_widget.widget{constructor(){super(...arguments),this.layout=void 0,this.container=void 0,this.field=\\\"text\\\",this.onDestory=[]}initialise(e,t){super.initialise(e,t),this.computeAttributes()}execute(){this.makeChildWidgets(),this.tiddler=this.getAttribute(\\\"tiddler\\\"),this.field=this.getAttribute(\\\"field\\\",\\\"text\\\"),unsupportedFields.has(this.field)&&(this.field=\\\"text\\\");var e=this.getAttribute(\\\"config\\\");e?this.config=$tw.utils.parseJSONSafe(e,()=>{}):this.tiddler&&(this.config=$tw.utils.parseJSONSafe(null!=(e=String(null==(e=null==(e=$tw.wiki.getTiddler(this.tiddler))?void 0:e.fields)?void 0:e[this.field]))?e:\\\"\\\",()=>{})),null==this.config&&(this.config=$tw.utils.parseJSONSafe($tw.wiki.getTiddlerText(\\\"$:/plugins/Gk0Wk/layouts/defaultConfig.json\\\"),()=>{})),null==this.config&&(this.config=JSON.parse($tw.wiki.getTiddler(\\\"$:/plugins/Gk0Wk/layouts\\\").fields.text).tiddlers[\\\"$:/plugins/Gk0Wk/layouts/defaultConfig.json\\\"]),this.config.header={...null!=(e=this.config.header)?e:{},...isChinese()?{popout:\\\"在新窗口打开\\\",close:\\\"关闭\\\",maximise:\\\"最大化\\\",minimise:\\\"最小化\\\",tabDropdown:\\\"其他页面\\\"}:{popout:\\\"open in new window\\\",close:\\\"close\\\",maximise:\\\"maximise\\\",minimise:\\\"minimise\\\",tabDropdown:\\\"additional tabs\\\"}}}render(e,t){if($tw.browser&&e){this.execute();var n=this.init();if(n&&(this.domNodes.push(n),e.insertBefore(n,t)),this.config)try{this.layout.loadLayout(this.config)}catch(i){console.error(i)}}}init(){var e,t,n=void 0===this.container;n?this.container=$tw.utils.domMaker(\\\"div\\\",{\\\"class\\\":\\\"layouts-container\\\",style:{height:\\\"1000px\\\"}}):(this.container.innerHTML=\\\"\\\",null!=(t=null==(e=this.layout)?void 0:e.destroy)&&t.call(e)),this.layout=new GoldenLayout(this.container),this.layout.on(\\\"stateChanged\\\",()=>{var e;this.tiddler&&$tw.wiki.addTiddler(new $tw.Tiddler(null!=(e=$tw.wiki.getTiddler(this.tiddler))?e:{},{title:this.tiddler,[this.field]:JSON.stringify(LayoutConfig.fromResolved(this.layout.saveLayout()),void 0,2),type:\\\"application/json\\\"}))}),this.layout.on(\\\"itemCreated\\\",e=>{e.target.isStack&&addNewTiddlerIcon(e.target,isChinese())}),this.layout.on(\\\"beforeItemDestroyed\\\",e=>{\\\"component\\\"===e.target.type&&removeWidget(e.target.container)}),this.layout.registerComponentFactoryFunction(\\\"tiddler\\\",tiddlerComponentFactoryFunction(this)),this.layout.registerComponentFactoryFunction(\\\"iframe\\\",iframeComponentFactoryFunction(this));const i=()=>requestAnimationFrame(()=>this.layout.updateRootSize());if(globalThis.ResizeObserver){const o=new ResizeObserver(i);o.observe(this.container),this.onDestory.push(()=>o.disconnect())}else window.addEventListener(\\\"resize\\\",i),this.onDestory.push(()=>window.removeEventListener(\\\"resize\\\",i));return $tw.browser&&n&&(widgets.add(this),null==instanceUnmountCheckTimer)&&(instanceUnmountCheckTimer=setInterval(()=>{var e=[];for(const t of widgets)if(!document.contains(this.container)){e.push(t);for(const n of t.onDestory)n();this.layout.destroy()}for(const i of e)widgets[\\\"delete\\\"](i);widgets.size<1&&(clearInterval(instanceUnmountCheckTimer),instanceUnmountCheckTimer=void 0)},1e3)),n?this.container:void 0}refresh(e){var t=this.computeAttributes();return t.tiddler||t.config?(this.refreshSelf(),!0):this.refreshChildren(e)}};exports[\\\"golden-layout\\\"]=GoldenLayoutWidget;\"}}}","title":"$:/plugins/Gk0Wk/layouts","type":"application/json","version":"0.0.1-alpha1","Modern.TiddlyDev#SHA256-Hashed":"1d1383670c493a328ce0d7265f894d1816a613d55fd8767e70a49778ea1f0717"}